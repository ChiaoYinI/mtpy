
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Modeling &#8212; mtpy 1.01.01 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="master_doc.html">mtpy 1.01.01 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="modeling">
<h1>Modeling<a class="headerlink" href="#modeling" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-modem">
<h2><strong>Module ModEM</strong><a class="headerlink" href="#module-modem" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-occam-1d">
<h2><strong>Module Occam 1D</strong><a class="headerlink" href="#module-occam-1d" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-mtpy.modeling.occam1d"></span><ul>
<li><dl class="first docutils">
<dt>Wrapper class to interact with Occam1D written by Kerry Keys at Scripps </dt>
<dd><blockquote class="first">
<div><p>adapted from the method of Constable et al., [1987].</p>
</div></blockquote>
<ul class="simple">
<li>This class only deals with the MT functionality of the Fortran code, so
it can make the input files for computing the 1D MT response of an input
model and or data.  It can also read the output and plot them in a
useful way.</li>
<li>Note that when you run the inversion code, the convergence is quite
quick, within the first few iterations, so have a look at the L2 cure
to decide which iteration to plot, otherwise if you look at iterations
long after convergence the models will be unreliable.</li>
<li>Key, K., 2009, 1D inversion of multicomponent, multi-frequency marine
CSEM data: Methodology and synthetic studies for resolving thin
resistive layers: Geophysics, 74, F9–F20.</li>
<li>The original paper describing the Occam’s inversion approach is:</li>
<li>Constable, S. C., R. L. Parker, and C. G. Constable, 1987,
Occam’s inversion –– A practical algorithm for generating smooth
models from electromagnetic sounding data, Geophysics, 52 (03), 289–300.</li>
</ul>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Intended Use:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam1d</span> <span class="k">as</span> <span class="nn">occam1d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; make a data file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="o">.</span><span class="n">write_data_file</span><span class="p">(</span><span class="n">edi_file</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;/home/MT/mt01.edi&#39;</span><span class="p">,</span> <span class="n">res_err</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">phase_err</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                <span class="n">save_path</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;TE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; make a model file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">write_model_file</span><span class="p">(</span><span class="n">save_path</span><span class="o">=</span><span class="n">d1</span><span class="o">.</span><span class="n">save_path</span><span class="p">,</span> <span class="n">target_depth</span><span class="o">=</span><span class="mi">15000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; make a startup file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Startup</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">data_fn</span> <span class="o">=</span> <span class="n">d1</span><span class="o">.</span><span class="n">data_fn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">model_fn</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="n">model_fn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">save_path</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="n">save_path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">write_startup_file</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; run occam1d from python</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">occam_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam1d/Occam1D_executable&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">occam1d</span><span class="o">.</span><span class="n">Run</span><span class="p">(</span><span class="n">s1</span><span class="o">.</span><span class="n">startup_fn</span><span class="p">,</span> <span class="n">occam_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;TE&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--plot the L2 curve</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">PlotL2</span><span class="p">(</span><span class="n">d1</span><span class="o">.</span><span class="n">save_path</span><span class="p">,</span> <span class="n">m1</span><span class="o">.</span><span class="n">model_fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; see that iteration 7 is the optimum model to plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Plot1DResponse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">data_te_fn</span> <span class="o">=</span> <span class="n">d1</span><span class="o">.</span><span class="n">data_fn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">model_fn</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="n">model_fn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">iter_te_fn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE/TE_7.iter&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">resp_te_fn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE/TE_7.resp&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</li>
</ul>
<p>&#64;author: J. Peacock (Oct. 2013)</p>
<dl class="class">
<dt id="mtpy.modeling.occam1d.Data">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">Data</code><span class="sig-paren">(</span><em>data_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>reads and writes occam 1D data files</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_data_fn</td>
<td>basename of data file <em>default</em> is Occam1DDataFile</td>
</tr>
<tr class="row-odd"><td>_header_line</td>
<td>header line for description of data columns</td>
</tr>
<tr class="row-even"><td>_ss</td>
<td>string spacing <em>default</em> is 6*’ ‘</td>
</tr>
<tr class="row-odd"><td>_string_fmt</td>
<td>format of data <em>default</em> is ‘+.6e’</td>
</tr>
<tr class="row-even"><td>data</td>
<td>array of data</td>
</tr>
<tr class="row-odd"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-even"><td>freq</td>
<td>frequency array of data</td>
</tr>
<tr class="row-odd"><td>mode</td>
<td>mode to invert for [ ‘TE’ | ‘TM’ | ‘det’ ]</td>
</tr>
<tr class="row-even"><td>phase_te</td>
<td>array of TE phase</td>
</tr>
<tr class="row-odd"><td>phase_tm</td>
<td>array of TM phase</td>
</tr>
<tr class="row-even"><td>res_te</td>
<td>array of TE apparent resistivity</td>
</tr>
<tr class="row-odd"><td>res_tm</td>
<td>array of TM apparent resistivity</td>
</tr>
<tr class="row-even"><td>resp_fn</td>
<td>full path to response file</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>path to save files to</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>write_data_file</td>
<td>write an Occam1D data file</td>
</tr>
<tr class="row-odd"><td>read_data_file</td>
<td>read an Occam1D data file</td>
</tr>
<tr class="row-even"><td>read_resp_file</td>
<td>read a .resp file output by Occam1D</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam1d</span> <span class="k">as</span> <span class="nn">occam1d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; make a data file for TE mode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="o">.</span><span class="n">write_data_file</span><span class="p">(</span><span class="n">edi_file</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;/home/MT/mt01.edi&#39;</span><span class="p">,</span> <span class="n">res_err</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">phase_err</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                <span class="n">save_path</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;TE&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Data.read_data_file" title="mtpy.modeling.occam1d.Data.read_data_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_data_file</span></code></a>([data_fn])</td>
<td>reads a 1D data file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Data.read_resp_file" title="mtpy.modeling.occam1d.Data.read_resp_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_resp_file</span></code></a>([resp_fn,&nbsp;data_fn])</td>
<td>read response file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Data.write_data_file" title="mtpy.modeling.occam1d.Data.write_data_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_data_file</span></code></a>([rp_tuple,&nbsp;edi_file,&nbsp;…])</td>
<td>make1Ddatafile will write a data file for Occam1D</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam1d.Data.read_data_file">
<code class="descname">read_data_file</code><span class="sig-paren">(</span><em>data_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Data.read_data_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Data.read_data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>reads a 1D data file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Data.read_resp_file">
<code class="descname">read_resp_file</code><span class="sig-paren">(</span><em>resp_fn=None</em>, <em>data_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Data.read_resp_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Data.read_resp_file" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>read response file</p>
<blockquote>
<div><p><strong>resp_fn</strong> : full path to response file</p>
<p><strong>data_fn</strong> : full path to data file</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Data.write_data_file">
<code class="descname">write_data_file</code><span class="sig-paren">(</span><em>rp_tuple=None</em>, <em>edi_file=None</em>, <em>save_path=None</em>, <em>mode='det'</em>, <em>res_err='data'</em>, <em>phase_err='data'</em>, <em>thetar=0</em>, <em>res_errorfloor=0.0</em>, <em>phase_errorfloor=0.0</em>, <em>z_errorfloor=0.0</em>, <em>remove_outofquadrant=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Data.write_data_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Data.write_data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>make1Ddatafile will write a data file for Occam1D</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>rp_tuple</strong> <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray (freq, res, res_err, phase, phase_err)</span></dt>
<dd>with res, phase having shape (num_freq, 2, 2).</dd>
<dt><strong>edi_file</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd>full path to edi file to be modeled.</dd>
<dt><strong>save_path</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd>path to save the file, if None set to dirname of
station if edipath = None.  Otherwise set to
dirname of edipath.</dd>
<dt><strong>thetar</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>rotation angle to rotate Z. Clockwise positive and N=0
<em>default</em> = 0</dd>
<dt><strong>mode</strong> <span class="classifier-delimiter">:</span> <span class="classifier">[ ‘te’ | ‘tm’ | ‘det’]</span></dt>
<dd><dl class="first docutils">
<dt>mode to model can be (<a href="#id1"><span class="problematic" id="id2">*</span></a>default*=’both’):</dt>
<dd><ul class="first last simple">
<li>‘te’ for just TE mode (res/phase)</li>
<li>‘tm’ for just TM mode (res/phase)</li>
<li><dl class="first docutils">
<dt>‘det’ for the determinant of Z (converted to</dt>
<dd>res/phase)</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p class="last">add ‘z’ to any of these options to model
impedance tensor values instead of res/phase</p>
</dd>
<dt><strong>res_err</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first">errorbar for resistivity values.  Can be set to (
<em>default</em> = ‘data’):</p>
<ul class="last simple">
<li>‘data’ for errorbars from the data</li>
<li>percent number ex. 10 for ten percent</li>
</ul>
</dd>
<dt><strong>phase_err</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first">errorbar for phase values.  Can be set to (
<em>default</em> = ‘data’):</p>
<blockquote class="last">
<div><ul class="simple">
<li>‘data’ for errorbars from the data</li>
<li>percent number ex. 10 for ten percent</li>
</ul>
</div></blockquote>
</dd>
<dt><strong>res_errorfloor</strong>: float</dt>
<dd>error floor for resistivity values
in percent</dd>
<dt><strong>phase_errorfloor</strong>: float</dt>
<dd>error floor for phase in degrees</dd>
<dt><strong>remove_outofquadrant</strong>: True/False; option to remove the resistivity and</dt>
<dd>phase values for points with phases out
of the 1st/3rd quadrant (occam requires
0 &lt; phase &lt; 90 degrees; phases in the 3rd
quadrant are shifted to the first by
adding 180 degrees)</dd>
</dl>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam1d</span> <span class="k">as</span> <span class="nn">occam1d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; make a data file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span><span class="o">.</span><span class="n">write_data_file</span><span class="p">(</span><span class="n">edi_file</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;/home/MT/mt01.edi&#39;</span><span class="p">,</span> <span class="n">res_err</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                <span class="n">phase_err</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;TE&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                <span class="n">save_path</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam1d.Model">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>model_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>read and write the model file fo Occam1D</p>
<p>All depth measurements are in meters.</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_model_fn</td>
<td>basename for model file <em>default</em> is Model1D</td>
</tr>
<tr class="row-odd"><td>_ss</td>
<td>string spacing in model file <em>default</em> is 3*’ ‘</td>
</tr>
<tr class="row-even"><td>_string_fmt</td>
<td>format of model layers <em>default</em> is ‘.0f’</td>
</tr>
<tr class="row-odd"><td>air_layer_height</td>
<td>height of air layer <em>default</em> is 10000</td>
</tr>
<tr class="row-even"><td>bottom_layer</td>
<td>bottom of the model <em>default</em> is 50000</td>
</tr>
<tr class="row-odd"><td>itdict</td>
<td>dictionary of values from iteration file</td>
</tr>
<tr class="row-even"><td>iter_fn</td>
<td>full path to iteration file</td>
</tr>
<tr class="row-odd"><td>model_depth</td>
<td>array of model depths</td>
</tr>
<tr class="row-even"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-odd"><td>model_penalty</td>
<td>array of penalties for each model layer</td>
</tr>
<tr class="row-even"><td>model_preference_penalty</td>
<td>array of model preference penalties for each layer</td>
</tr>
<tr class="row-odd"><td>model_prefernce</td>
<td>array of preferences for each layer</td>
</tr>
<tr class="row-even"><td>model_res</td>
<td>array of resistivities for each layer</td>
</tr>
<tr class="row-odd"><td>n_layers</td>
<td>number of layers in the model</td>
</tr>
<tr class="row-even"><td>num_params</td>
<td>number of parameters to invert for (n_layers+2)</td>
</tr>
<tr class="row-odd"><td>pad_z</td>
<td>padding of model at depth <em>default</em> is 5 blocks</td>
</tr>
<tr class="row-even"><td>save_path</td>
<td>path to save files</td>
</tr>
<tr class="row-odd"><td>target_depth</td>
<td>depth of target to investigate</td>
</tr>
<tr class="row-even"><td>z1_layer</td>
<td>depth of first layer <em>default</em> is 10</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>write_model_file</td>
<td>write an Occam1D model file, where depth increases
on a logarithmic scale</td>
</tr>
<tr class="row-odd"><td>read_model_file</td>
<td>read an Occam1D model file</td>
</tr>
<tr class="row-even"><td>read_iter_file</td>
<td>read an .iter file output by Occam1D</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#--&gt; make a model file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="o">.</span><span class="n">write_model_file</span><span class="p">(</span><span class="n">save_path</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Model.read_iter_file" title="mtpy.modeling.occam1d.Model.read_iter_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_iter_file</span></code></a>([iter_fn,&nbsp;model_fn])</td>
<td>read an 1D iteration file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Model.read_model_file" title="mtpy.modeling.occam1d.Model.read_model_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_model_file</span></code></a>([model_fn])</td>
<td>will read in model 1D file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Model.write_model_file" title="mtpy.modeling.occam1d.Model.write_model_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_model_file</span></code></a>([save_path])</td>
<td>Makes a 1D model file for Occam1D.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam1d.Model.read_iter_file">
<code class="descname">read_iter_file</code><span class="sig-paren">(</span><em>iter_fn=None</em>, <em>model_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Model.read_iter_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Model.read_iter_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read an 1D iteration file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Model.read_model_file">
<code class="descname">read_model_file</code><span class="sig-paren">(</span><em>model_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Model.read_model_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Model.read_model_file" title="Permalink to this definition">¶</a></dt>
<dd><p>will read in model 1D file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Model.write_model_file">
<code class="descname">write_model_file</code><span class="sig-paren">(</span><em>save_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Model.write_model_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Model.write_model_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a 1D model file for Occam1D.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam1d.Plot1DResponse">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">Plot1DResponse</code><span class="sig-paren">(</span><em>data_te_fn=None</em>, <em>data_tm_fn=None</em>, <em>model_fn=None</em>, <em>resp_te_fn=None</em>, <em>resp_tm_fn=None</em>, <em>iter_te_fn=None</em>, <em>iter_tm_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Plot1DResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Plot1DResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>plot the 1D response and model.  Plots apparent resisitivity and phase
in different subplots with the model on the far right.  You can plot both
TE and TM modes together along with different iterations of the model.
These will be plotted in different colors or shades of gray depneng on
color_scale.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam1d</span> <span class="k">as</span> <span class="nn">occam1d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">occam1d</span><span class="o">.</span><span class="n">Plot1DResponse</span><span class="p">(</span><span class="n">plot_yn</span><span class="o">=</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">data_te_fn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE/Occam_DataFile_TE.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">data_tm_fn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TM/Occam_DataFile_TM.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">model_fn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE/Model1D&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">iter_te_fn</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE/TE_</span><span class="si">{0}</span><span class="s2">.iter&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>              <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">iter_tm_fn</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TM/TM_</span><span class="si">{0}</span><span class="s2">.iter&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>              <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">resp_te_fn</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TE/TE_</span><span class="si">{0}</span><span class="s2">.resp&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>              <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">resp_tm_fn</span> <span class="o">=</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;/home/occam1d/mt01/TM/TM_</span><span class="si">{0}</span><span class="s2">.resp&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>              <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>axm</td>
<td>matplotlib.axes instance for model subplot</td>
</tr>
<tr class="row-odd"><td>axp</td>
<td>matplotlib.axes instance for phase subplot</td>
</tr>
<tr class="row-even"><td>axr</td>
<td>matplotlib.axes instance for app. res subplot</td>
</tr>
<tr class="row-odd"><td>color_mode</td>
<td>[ ‘color’ | ‘bw’ ]</td>
</tr>
<tr class="row-even"><td>cted</td>
<td>color of TE data markers</td>
</tr>
<tr class="row-odd"><td>ctem</td>
<td>color of TM data markers</td>
</tr>
<tr class="row-even"><td>ctmd</td>
<td>color of TE model markers</td>
</tr>
<tr class="row-odd"><td>ctmm</td>
<td>color of TM model markers</td>
</tr>
<tr class="row-even"><td>data_te_fn</td>
<td>full path to data file for TE mode</td>
</tr>
<tr class="row-odd"><td>data_tm_fn</td>
<td>full path to data file for TM mode</td>
</tr>
<tr class="row-even"><td>depth_limits</td>
<td>(min, max) limits for depth plot in depth_units</td>
</tr>
<tr class="row-odd"><td>depth_scale</td>
<td>[ ‘log’ | ‘linear’ ] <em>default</em> is linear</td>
</tr>
<tr class="row-even"><td>depth_units</td>
<td>[ ‘m’ | ‘km’ ] <a href="#id3"><span class="problematic" id="id4">*</span></a>default is ‘km’</td>
</tr>
<tr class="row-odd"><td>e_capsize</td>
<td>capsize of error bars</td>
</tr>
<tr class="row-even"><td>e_capthick</td>
<td>cap thickness of error bars</td>
</tr>
<tr class="row-odd"><td>fig</td>
<td>matplotlib.figure instance for plot</td>
</tr>
<tr class="row-even"><td>fig_dpi</td>
<td>resolution in dots-per-inch for figure</td>
</tr>
<tr class="row-odd"><td>fig_num</td>
<td>number of figure instance</td>
</tr>
<tr class="row-even"><td>fig_size</td>
<td>size of figure in inches [width, height]</td>
</tr>
<tr class="row-odd"><td>font_size</td>
<td>size of axes tick labels, axes labels are +2</td>
</tr>
<tr class="row-even"><td>grid_alpha</td>
<td>transparency of grid</td>
</tr>
<tr class="row-odd"><td>grid_color</td>
<td>color of grid</td>
</tr>
<tr class="row-even"><td>iter_te_fn</td>
<td>full path or list of .iter files for TE mode</td>
</tr>
<tr class="row-odd"><td>iter_tm_fn</td>
<td>full path or list of .iter files for TM mode</td>
</tr>
<tr class="row-even"><td>lw</td>
<td>width of lines for model</td>
</tr>
<tr class="row-odd"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-even"><td>ms</td>
<td>marker size</td>
</tr>
<tr class="row-odd"><td>mted</td>
<td>marker for TE data</td>
</tr>
<tr class="row-even"><td>mtem</td>
<td>marker for TM data</td>
</tr>
<tr class="row-odd"><td>mtmd</td>
<td>marker for TE model</td>
</tr>
<tr class="row-even"><td>mtmm</td>
<td>marker for TM model</td>
</tr>
<tr class="row-odd"><td>phase_limits</td>
<td>(min, max) limits on phase in degrees</td>
</tr>
<tr class="row-even"><td>phase_major_ticks</td>
<td>spacing for major ticks in phase</td>
</tr>
<tr class="row-odd"><td>phase_minor_ticks</td>
<td>spacing for minor ticks in phase</td>
</tr>
<tr class="row-even"><td>plot_yn</td>
<td>[ ‘y’ | ‘n’ ] plot on instantiation</td>
</tr>
<tr class="row-odd"><td>res_limits</td>
<td>limits of resistivity in linear scale</td>
</tr>
<tr class="row-even"><td>resp_te_fn</td>
<td>full path or list of .resp files for TE mode</td>
</tr>
<tr class="row-odd"><td>resp_tm_fn</td>
<td>full path or list of .iter files for TM mode</td>
</tr>
<tr class="row-even"><td>subplot_bottom</td>
<td>spacing of subplots from bottom of figure</td>
</tr>
<tr class="row-odd"><td>subplot_hspace</td>
<td>height spacing between subplots</td>
</tr>
<tr class="row-even"><td>subplot_left</td>
<td>spacing of subplots from left of figure</td>
</tr>
<tr class="row-odd"><td>subplot_right</td>
<td>spacing of subplots from right of figure</td>
</tr>
<tr class="row-even"><td>subplot_top</td>
<td>spacing of subplots from top of figure</td>
</tr>
<tr class="row-odd"><td>subplot_wspace</td>
<td>width spacing between subplots</td>
</tr>
<tr class="row-even"><td>title_str</td>
<td>title of plot</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Plot1DResponse.plot" title="mtpy.modeling.occam1d.Plot1DResponse.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot data, response and model</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Plot1DResponse.redraw_plot" title="mtpy.modeling.occam1d.Plot1DResponse.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Plot1DResponse.save_figure" title="mtpy.modeling.occam1d.Plot1DResponse.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Plot1DResponse.update_plot" title="mtpy.modeling.occam1d.Plot1DResponse.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>(fig)</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam1d.Plot1DResponse.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Plot1DResponse.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Plot1DResponse.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot data, response and model</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Plot1DResponse.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Plot1DResponse.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Plot1DResponse.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Plot1DResponse.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_plot='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Plot1DResponse.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Plot1DResponse.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Plot1DResponse.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><em>fig</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Plot1DResponse.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Plot1DResponse.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam1d.PlotL2">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">PlotL2</code><span class="sig-paren">(</span><em>dir_path</em>, <em>model_fn</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#PlotL2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.PlotL2" title="Permalink to this definition">¶</a></dt>
<dd><p>plot L2 curve of iteration vs rms and roughness</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.PlotL2.plot" title="mtpy.modeling.occam1d.PlotL2.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot L2 curve</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam1d.PlotL2.redraw_plot" title="mtpy.modeling.occam1d.PlotL2.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.PlotL2.save_figure" title="mtpy.modeling.occam1d.PlotL2.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam1d.PlotL2.update_plot" title="mtpy.modeling.occam1d.PlotL2.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam1d.PlotL2.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#PlotL2.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.PlotL2.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot L2 curve</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.PlotL2.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#PlotL2.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.PlotL2.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.PlotL2.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#PlotL2.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.PlotL2.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.PlotL2.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#PlotL2.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.PlotL2.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam1d.Run">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">Run</code><span class="sig-paren">(</span><em>startup_fn=None</em>, <em>occam_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Run" title="Permalink to this definition">¶</a></dt>
<dd><p>run occam 1d from python given the correct files and location of occam1d
executable</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_occam1d</span></code>()</td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam1d.Startup">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">Startup</code><span class="sig-paren">(</span><em>data_fn=None</em>, <em>model_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Startup" title="Permalink to this definition">¶</a></dt>
<dd><p>read and write input files for Occam1D</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_ss</td>
<td>string spacing</td>
</tr>
<tr class="row-odd"><td>_startup_fn</td>
<td>basename of startup file <em>default</em> is OccamStartup1D</td>
</tr>
<tr class="row-even"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-odd"><td>debug_level</td>
<td>debug level <em>default</em> is 1</td>
</tr>
<tr class="row-even"><td>description</td>
<td>description of inversion for your self
<em>default</em> is 1D_Occam_Inv</td>
</tr>
<tr class="row-odd"><td>max_iter</td>
<td>maximum number of iterations <em>default</em> is 20</td>
</tr>
<tr class="row-even"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-odd"><td>rough_type</td>
<td>roughness type <em>default</em> is 1</td>
</tr>
<tr class="row-even"><td>save_path</td>
<td>full path to save files to</td>
</tr>
<tr class="row-odd"><td>start_iter</td>
<td>first iteration number <em>default</em> is 0</td>
</tr>
<tr class="row-even"><td>start_lagrange</td>
<td>starting lagrange number on log scale
<em>default</em> is 5</td>
</tr>
<tr class="row-odd"><td>start_misfit</td>
<td>starting misfit value <em>default</em> is 100</td>
</tr>
<tr class="row-even"><td>start_rho</td>
<td>starting resistivity value (halfspace) in log scale
<em>default</em> is 100</td>
</tr>
<tr class="row-odd"><td>start_rough</td>
<td>starting roughness (ignored by Occam1D)
<em>default</em> is 1E7</td>
</tr>
<tr class="row-even"><td>startup_fn</td>
<td>full path to startup file</td>
</tr>
<tr class="row-odd"><td>target_rms</td>
<td>target rms <em>default</em> is 1.0</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Startup.read_startup_file" title="mtpy.modeling.occam1d.Startup.read_startup_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_startup_file</span></code></a>(startup_fn)</td>
<td>reads in a 1D input file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam1d.Startup.write_startup_file" title="mtpy.modeling.occam1d.Startup.write_startup_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_startup_file</span></code></a>([save_path])</td>
<td>Make a 1D input file for Occam 1D</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam1d.Startup.read_startup_file">
<code class="descname">read_startup_file</code><span class="sig-paren">(</span><em>startup_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Startup.read_startup_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Startup.read_startup_file" title="Permalink to this definition">¶</a></dt>
<dd><p>reads in a 1D input file</p>
<blockquote>
<div><strong>inputfn</strong> : full path to input file</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam1d.Startup.write_startup_file">
<code class="descname">write_startup_file</code><span class="sig-paren">(</span><em>save_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#Startup.write_startup_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.Startup.write_startup_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a 1D input file for Occam 1D</p>
<blockquote>
<div><dl class="docutils">
<dt><strong>savepath</strong> <span class="classifier-delimiter">:</span> <span class="classifier">full path to save input file to, if just path then</span></dt>
<dd>saved as savepath/input</dd>
<dt><strong>model_fn</strong> <span class="classifier-delimiter">:</span> <span class="classifier">full path to model file, if None then assumed to be in</span></dt>
<dd>savepath/model.mod</dd>
<dt><strong>data_fn</strong> <span class="classifier-delimiter">:</span> <span class="classifier">full path to data file, if None then assumed to be</span></dt>
<dd>in savepath/TE.dat or TM.dat</dd>
</dl>
<p><strong>rough_type</strong> : roughness type. <em>default</em> = 0</p>
<p><strong>max_iter</strong> : maximum number of iterations. <em>default</em> = 20</p>
<p><strong>target_rms</strong> : target rms value. <em>default</em> = 1.0</p>
<dl class="docutils">
<dt><strong>start_rho</strong> <span class="classifier-delimiter">:</span> <span class="classifier">starting resistivity value on linear scale.</span></dt>
<dd><em>default</em> = 100</dd>
</dl>
<p><strong>description</strong> : description of the inversion.</p>
<dl class="docutils">
<dt><strong>start_lagrange</strong> <span class="classifier-delimiter">:</span> <span class="classifier">starting Lagrange multiplier for smoothness.</span></dt>
<dd><em>default</em> = 5</dd>
</dl>
<p><strong>start_rough</strong> : starting roughness value. <em>default</em> = 1E7</p>
<dl class="docutils">
<dt><strong>debuglevel</strong> <span class="classifier-delimiter">:</span> <span class="classifier">something to do with how Fortran debuggs the code</span></dt>
<dd>Almost always leave at <em>default</em> = 1</dd>
<dt><strong>start_iter</strong> <span class="classifier-delimiter">:</span> <span class="classifier">the starting iteration number, handy if the</span></dt>
<dd>starting model is from a previous run.
<em>default</em> = 0</dd>
</dl>
<p><strong>start_misfit</strong> : starting misfit value. <em>default</em> = 100</p>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.occam1d.build_run">
<code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">build_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#build_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.build_run" title="Permalink to this definition">¶</a></dt>
<dd><p>build input files and run a suite of models in series (pretty quick so won’t bother parallelise)</p>
<p>run Occam1d on each set of inputs.
Occam is run twice. First to get the lowest possible misfit.
we then set the target rms to a factor (default 1.05) times the minimum rms achieved
and run to get the smoothest model.</p>
<p>author: Alison Kirkby (2016)</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.occam1d.divide_inputs">
<code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">divide_inputs</code><span class="sig-paren">(</span><em>work_to_do</em>, <em>size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#divide_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.divide_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>divide list of inputs into chunks to send to each processor</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.occam1d.generate_inputfiles">
<code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">generate_inputfiles</code><span class="sig-paren">(</span><em>**input_parameters</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#generate_inputfiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.generate_inputfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>generate all the input files to run occam1d, return the path and the
startup files to run.</p>
<p>author: Alison Kirkby (2016)</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.occam1d.get_strike">
<code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">get_strike</code><span class="sig-paren">(</span><em>mt_object</em>, <em>fmin</em>, <em>fmax</em>, <em>strike_approx=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#get_strike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.get_strike" title="Permalink to this definition">¶</a></dt>
<dd><p>get the strike from the z array, choosing the strike angle that is closest
to the azimuth of the PT ellipse (PT strike).</p>
<p>if there is not strike available from the z array use the PT strike.</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.occam1d.parse_arguments">
<code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">parse_arguments</code><span class="sig-paren">(</span><em>arguments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#parse_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.parse_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>takes list of command line arguments obtained by passing in sys.argv
reads these and returns a parser object</p>
<p>author: Alison Kirkby (2016)</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.occam1d.update_inputs">
<code class="descclassname">mtpy.modeling.occam1d.</code><code class="descname">update_inputs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam1d.html#update_inputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam1d.update_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>update input parameters from command line</p>
<p>author: Alison Kirkby (2016)</p>
</dd></dl>

</div>
<div class="section" id="module-occam-2d">
<h2><strong>Module Occam 2D</strong><a class="headerlink" href="#module-occam-2d" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-mtpy.modeling.occam2d_rewrite"></span><p>Spin-off from ‘occamtools’
(Created August 2011, re-written August 2013)</p>
<p>Tools for Occam2D</p>
<p>authors: JP/LK</p>
<dl class="docutils">
<dt>Classes:</dt>
<dd><ul class="first last simple">
<li>Data</li>
<li>Model</li>
<li>Setup</li>
<li>Run</li>
<li>Plot</li>
<li>Mask</li>
</ul>
</dd>
<dt>Functions:</dt>
<dd><ul class="first last simple">
<li>getdatetime</li>
<li>makestartfiles</li>
<li>writemeshfile</li>
<li>writemodelfile</li>
<li>writestartupfile</li>
<li>read_datafile</li>
<li>get_model_setup</li>
<li>blocks_elements_setup</li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Data">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Data</code><span class="sig-paren">(</span><em>edi_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads and writes data files and more.</p>
<p>Inherets Profile, so the intended use is to use Data to project stations 
onto a profile, then write the data file.</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Model Modes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1 or log_all</td>
<td>Log resistivity of TE and TM plus Tipper</td>
</tr>
<tr class="row-odd"><td>2 or log_te_tip</td>
<td>Log resistivity of TE plus Tipper</td>
</tr>
<tr class="row-even"><td>3 or log_tm_tip</td>
<td>Log resistivity of TM plus Tipper</td>
</tr>
<tr class="row-odd"><td>4 or log_te_tm</td>
<td>Log resistivity of TE and TM</td>
</tr>
<tr class="row-even"><td>5 or log_te</td>
<td>Log resistivity of TE</td>
</tr>
<tr class="row-odd"><td>6 or log_tm</td>
<td>Log resistivity of TM</td>
</tr>
<tr class="row-even"><td>7 or all</td>
<td>TE, TM and Tipper</td>
</tr>
<tr class="row-odd"><td>8 or te_tip</td>
<td>TE plus Tipper</td>
</tr>
<tr class="row-even"><td>9 or tm_tip</td>
<td>TM plus Tipper</td>
</tr>
<tr class="row-odd"><td>10 or te_tm</td>
<td>TE and TM mode</td>
</tr>
<tr class="row-even"><td>11 or te</td>
<td>TE mode</td>
</tr>
<tr class="row-odd"><td>12 or tm</td>
<td>TM mode</td>
</tr>
<tr class="row-even"><td>13 or tip</td>
<td>Only Tipper</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt><strong>data</strong> <span class="classifier-delimiter">:</span> <span class="classifier">is a list of dictioinaries containing the data for each station.</span></dt>
<dd><dl class="first docutils">
<dt>keys include:</dt>
<dd><ul class="first last simple">
<li>‘station’ – name of station</li>
<li>‘offset’ – profile line offset</li>
<li>‘te_res’ – TE resisitivity in linear scale</li>
<li>‘tm_res’ – TM resistivity in linear scale</li>
<li>‘te_phase’ – TE phase in degrees</li>
<li>‘tm_phase’ –  TM phase in degrees in first quadrant</li>
<li>‘re_tip’ – real part of tipper along profile</li>
<li>‘im_tip’ – imaginary part of tipper along profile</li>
</ul>
</dd>
</dl>
<p class="last">each key is a np.ndarray(2, num_freq)
index 0 is for data
index 1 is for error</p>
</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key Words/Attributes</th>
<th class="head">Desctription</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_data_header</td>
<td>header line in data file</td>
</tr>
<tr class="row-odd"><td>_data_string</td>
<td>full data string</td>
</tr>
<tr class="row-even"><td>_profile_generated</td>
<td>[ True | False ] True if profile has already been
generated.</td>
</tr>
<tr class="row-odd"><td>_rotate_to_strike</td>
<td>[ True | False ] True to rotate data to strike
angle.  <em>default</em> is True</td>
</tr>
<tr class="row-even"><td>data</td>
<td>list of dictionaries of data for each station.
see above</td>
</tr>
<tr class="row-odd"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-even"><td>data_list</td>
<td>list of lines to write to data file</td>
</tr>
<tr class="row-odd"><td>edi_list</td>
<td>list of mtpy.core.mt instances for each .edi file
read</td>
</tr>
<tr class="row-even"><td>edi_path</td>
<td>directory path where .edi files are</td>
</tr>
<tr class="row-odd"><td>edi_type</td>
<td>[ ‘z’ | ‘spectra’ ] for .edi format</td>
</tr>
<tr class="row-even"><td>elevation_model</td>
<td>model elevation np.ndarray(east, north, elevation)
in meters</td>
</tr>
<tr class="row-odd"><td>elevation_profile</td>
<td>elevation along profile np.ndarray (x, elev) (m)</td>
</tr>
<tr class="row-even"><td>fn_basename</td>
<td>data file basename <em>default</em> is OccamDataFile.dat</td>
</tr>
<tr class="row-odd"><td>freq</td>
<td>list of frequencies to use for the inversion</td>
</tr>
<tr class="row-even"><td>freq_max</td>
<td>max frequency to use in inversion. <em>default</em> is None</td>
</tr>
<tr class="row-odd"><td>freq_min</td>
<td>min frequency to use in inversion. <em>default</em> is None</td>
</tr>
<tr class="row-even"><td>freq_num</td>
<td>number of frequencies to use in inversion</td>
</tr>
<tr class="row-odd"><td>geoelectric_strike</td>
<td>geoelectric strike angle assuming N = 0, E = 90</td>
</tr>
<tr class="row-even"><td>masked_data</td>
<td>similar to data, but any masked points are now 0</td>
</tr>
<tr class="row-odd"><td>mode_dict</td>
<td>dictionary of model modes to chose from</td>
</tr>
<tr class="row-even"><td>model_mode</td>
<td>model mode to use for inversion, see above</td>
</tr>
<tr class="row-odd"><td>num_edi</td>
<td>number of stations to invert for</td>
</tr>
<tr class="row-even"><td>occam_dict</td>
<td>dictionary of occam parameters to use internally</td>
</tr>
<tr class="row-odd"><td>occam_format</td>
<td>occam format of data file.
<em>default</em> is OCCAM2MTDATA_1.0</td>
</tr>
<tr class="row-even"><td>phase_te_err</td>
<td>percent error in phase for TE mode. <em>default</em> is 5</td>
</tr>
<tr class="row-odd"><td>phase_tm_err</td>
<td>percent error in phase for TM mode. <em>default</em> is 5</td>
</tr>
<tr class="row-even"><td>profile_angle</td>
<td>angle of profile line realtive to N = 0, E = 90</td>
</tr>
<tr class="row-odd"><td>profile_line</td>
<td>m, b coefficients for mx+b definition of profile line</td>
</tr>
<tr class="row-even"><td>res_te_err</td>
<td>percent error in resistivity for TE mode.
<em>default</em> is 10</td>
</tr>
<tr class="row-odd"><td>res_tm_err</td>
<td>percent error in resistivity for TM mode.
<em>default</em> is 10</td>
</tr>
<tr class="row-even"><td>error_type</td>
<td>‘floor’ or ‘absolute’ - option to set error as floor
(i.e. maximum of the data error and a specified value)
or a straight value</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>directory to save files to</td>
</tr>
<tr class="row-even"><td>station_list</td>
<td>list of station for inversion</td>
</tr>
<tr class="row-odd"><td>station_locations</td>
<td>station locations along profile line</td>
</tr>
<tr class="row-even"><td>tipper_err</td>
<td>percent error in tipper. <em>default</em> is 5</td>
</tr>
<tr class="row-odd"><td>title</td>
<td>title in data file.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_fill_data</td>
<td>fills the data array that is described above</td>
</tr>
<tr class="row-odd"><td>_get_data_list</td>
<td>gets the lines to write to data file</td>
</tr>
<tr class="row-even"><td>_get_frequencies</td>
<td>gets frequency list to invert for</td>
</tr>
<tr class="row-odd"><td>get_profile_origin</td>
<td>get profile origin in UTM coordinates</td>
</tr>
<tr class="row-even"><td>mask_points</td>
<td>masks points in data picked from
plot_mask_points</td>
</tr>
<tr class="row-odd"><td>plot_mask_points</td>
<td>plots data responses to interactively mask
data points.</td>
</tr>
<tr class="row-even"><td>plot_resonse</td>
<td>plots data/model responses, returns
PlotResponse data type.</td>
</tr>
<tr class="row-odd"><td>read_data_file</td>
<td>read in existing data file and fill appropriate
attributes.</td>
</tr>
<tr class="row-even"><td>write_data_file</td>
<td>write a data file according to Data attributes</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Example Write Data File:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">::
&gt;&gt;&gt; import mtpy.modeling.occam2d as occam2d
&gt;&gt;&gt; edipath = r”/home/mt/edi_files”
&gt;&gt;&gt; slst = [‘mt{0:03}’.format(ss) for ss in range(1, 20)]
&gt;&gt;&gt; ocd = occam2d.Data(edi_path=edipath, station_list=slst)
&gt;&gt;&gt; # model just the tm mode and tipper
&gt;&gt;&gt; ocd.model_mode = 3
&gt;&gt;&gt; ocd.save_path = r”/home/occam/Line1/Inv1”
&gt;&gt;&gt; ocd.write_data_file()
&gt;&gt;&gt; # mask points
&gt;&gt;&gt; ocd.plot_mask_points()
&gt;&gt;&gt; ocd.mask_points()</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_profile</span></code>()</td>
<td>Generate linear profile by regression of station locations.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Data.get_profile_origin" title="mtpy.modeling.occam2d_rewrite.Data.get_profile_origin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_profile_origin</span></code></a>()</td>
<td>get the origin of the profile in real world coordinates</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Data.mask_from_datafile" title="mtpy.modeling.occam2d_rewrite.Data.mask_from_datafile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask_from_datafile</span></code></a>(mask_datafn)</td>
<td>reads a separate data file and applies mask from this data file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Data.mask_points" title="mtpy.modeling.occam2d_rewrite.Data.mask_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask_points</span></code></a>(maskpoints_obj)</td>
<td>mask points and rewrite the data file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Data.plot_mask_points" title="mtpy.modeling.occam2d_rewrite.Data.plot_mask_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mask_points</span></code></a>([data_fn,&nbsp;marker,&nbsp;…])</td>
<td>An interactive plotting tool to mask points an add errorbars</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_profile</span></code>(**kwargs)</td>
<td>Plot the projected profile line along with original station locations to make sure the line projected is correct.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Data.plot_response" title="mtpy.modeling.occam2d_rewrite.Data.plot_response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_response</span></code></a>(**kwargs)</td>
<td>plot data and model responses as apparent resistivity, phase and tipper.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_elevation</span></code>([elevation_model])</td>
<td>projects elevation data into the profile</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Data.read_data_file" title="mtpy.modeling.occam2d_rewrite.Data.read_data_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_data_file</span></code></a>([data_fn])</td>
<td>Read in an existing data file and populate appropriate attributes     * data     * data_list     * freq     * station_list     * station_locations</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Data.write_data_file" title="mtpy.modeling.occam2d_rewrite.Data.write_data_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_data_file</span></code></a>([data_fn])</td>
<td>Write a data file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Data.get_profile_origin">
<code class="descname">get_profile_origin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data.get_profile_origin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data.get_profile_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>get the origin of the profile in real world coordinates</p>
<p>Author: Alison Kirkby (2013)</p>
<p>NEED TO ADAPT THIS TO THE CURRENT SETUP.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Data.mask_from_datafile">
<code class="descname">mask_from_datafile</code><span class="sig-paren">(</span><em>mask_datafn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data.mask_from_datafile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data.mask_from_datafile" title="Permalink to this definition">¶</a></dt>
<dd><p>reads a separate data file and applies mask from this data file.
mask_datafn needs to have exactly the same frequencies, and station names 
must match exactly.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Data.mask_points">
<code class="descname">mask_points</code><span class="sig-paren">(</span><em>maskpoints_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data.mask_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data.mask_points" title="Permalink to this definition">¶</a></dt>
<dd><p>mask points and rewrite the data file</p>
<p>NEED TO REDO THIS TO FIT THE CURRENT SETUP</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Data.plot_mask_points">
<code class="descname">plot_mask_points</code><span class="sig-paren">(</span><em>data_fn=None</em>, <em>marker='h'</em>, <em>res_err_inc=0.25</em>, <em>phase_err_inc=0.05</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data.plot_mask_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data.plot_mask_points" title="Permalink to this definition">¶</a></dt>
<dd><p>An interactive plotting tool to mask points an add errorbars</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Data.plot_response">
<code class="descname">plot_response</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data.plot_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data.plot_response" title="Permalink to this definition">¶</a></dt>
<dd><p>plot data and model responses as apparent resistivity, phase and
tipper.  See PlotResponse for key words.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Data.read_data_file">
<code class="descname">read_data_file</code><span class="sig-paren">(</span><em>data_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data.read_data_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data.read_data_file" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Read in an existing data file and populate appropriate attributes</dt>
<dd><ul class="first last simple">
<li>data</li>
<li>data_list</li>
<li>freq</li>
<li>station_list</li>
<li>station_locations</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Data.write_data_file">
<code class="descname">write_data_file</code><span class="sig-paren">(</span><em>data_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Data.write_data_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Data.write_data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a data file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Mask">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Mask</code><span class="sig-paren">(</span><em>edi_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow masking of points from data file (effectively commenting them out, 
so the process is reversable). Inheriting from Data class.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_profile</span></code>()</td>
<td>Generate linear profile by regression of station locations.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_profile_origin</span></code>()</td>
<td>get the origin of the profile in real world coordinates</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask_from_datafile</span></code>(mask_datafn)</td>
<td>reads a separate data file and applies mask from this data file.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask_points</span></code>(maskpoints_obj)</td>
<td>mask points and rewrite the data file</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mask_points</span></code>([data_fn,&nbsp;marker,&nbsp;…])</td>
<td>An interactive plotting tool to mask points an add errorbars</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_profile</span></code>(**kwargs)</td>
<td>Plot the projected profile line along with original station locations to make sure the line projected is correct.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_response</span></code>(**kwargs)</td>
<td>plot data and model responses as apparent resistivity, phase and tipper.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_elevation</span></code>([elevation_model])</td>
<td>projects elevation data into the profile</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_data_file</span></code>([data_fn])</td>
<td>Read in an existing data file and populate appropriate attributes     * data     * data_list     * freq     * station_list     * station_locations</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_data_file</span></code>([data_fn])</td>
<td>Write a data file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Mesh">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Mesh</code><span class="sig-paren">(</span><em>station_locations=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>deals only with the finite element mesh.  Builds a finite element mesh 
based on given parameters defined below.  The mesh reads in the station 
locations, finds the center and makes the relative location of the 
furthest left hand station 0.  The mesh increases in depth logarithmically
as required by the physics of MT.  Also, the model extends horizontally
and vertically with padding cells in order to fullfill the assumption of 
the forward operator that at the edges the structure is 1D.  Stations are
place on the horizontal nodes as required by Wannamaker’s forward 
operator.</p>
<p>Mesh has the ability to create a mesh that incorporates topography given
a elevation profile.  It adds more cells to the mesh with thickness 
z1_layer.  It then sets the values of the triangular elements according to 
the elevation value at that location.  If the elevation covers less than 
50% of the triangular cell, then the cell value is set to that of air</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mesh is inhereted by Regularization, so the mesh can also be 
be built from there, same as the example below.</p>
</div>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Mesh.add_elevation" title="mtpy.modeling.occam2d_rewrite.Mesh.add_elevation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_elevation</span></code></a>([elevation_profile])</td>
<td>the elevation model needs to be in relative coordinates and be a  numpy.ndarray(2, num_elevation_points) where the first column is the horizontal location and the second column is the elevation at  that location.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Mesh.build_mesh" title="mtpy.modeling.occam2d_rewrite.Mesh.build_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_mesh</span></code></a>()</td>
<td>Build the finite element mesh given the parameters defined by the  attributes of Mesh.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Mesh.plot_mesh" title="mtpy.modeling.occam2d_rewrite.Mesh.plot_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mesh</span></code></a>(**kwargs)</td>
<td>Plot built mesh with station locations.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Mesh.read_mesh_file" title="mtpy.modeling.occam2d_rewrite.Mesh.read_mesh_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_mesh_file</span></code></a>(mesh_fn)</td>
<td>reads an occam2d 2D mesh file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Mesh.write_mesh_file" title="mtpy.modeling.occam2d_rewrite.Mesh.write_mesh_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_mesh_file</span></code></a>([save_path,&nbsp;basename])</td>
<td>Write a finite element mesh file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Mesh.add_elevation">
<code class="descname">add_elevation</code><span class="sig-paren">(</span><em>elevation_profile=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Mesh.add_elevation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Mesh.add_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>the elevation model needs to be in relative coordinates and be a 
numpy.ndarray(2, num_elevation_points) where the first column is
the horizontal location and the second column is the elevation at 
that location.</p>
<p>If you have a elevation model use Profile to project the elevation
information onto the profile line</p>
<p>To build the elevation I’m going to add the elevation to the top 
of the model which will add cells to the mesh. there might be a better
way to do this, but this is the first attempt. So I’m going to assume
that the first layer of the mesh without elevation is the minimum
elevation and blocks will be added to max elevation at an increment
according to z1_layer</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the elevation model should be symmetrical ie, starting 
at the first station and ending on the last station, so for
now any elevation outside the station area will be ignored 
and set to the elevation of the station at the extremities.
This is not ideal but works for now.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Mesh.build_mesh">
<code class="descname">build_mesh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Mesh.build_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Mesh.build_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the finite element mesh given the parameters defined by the 
attributes of Mesh.  Computes relative station locations by finding 
the center of the station area and setting the middle to 0.  Mesh 
blocks are built by calculating the distance between stations and 
putting evenly spaced blocks between the stations being close to 
cell_width.  This places a horizontal node at the station location.
If the spacing between stations is smaller than 
cell_width, a horizontal node is placed between the stations to be 
sure the model has room to change between the station.</p>
<p>If elevation_profile is given, add_elevation is called to add 
topography into the mesh.</p>
<dl class="docutils">
<dt>Populates attributes:</dt>
<dd><ul class="first last simple">
<li>mesh_values</li>
<li>rel_station_locations</li>
<li>x_grid</li>
<li>x_nodes</li>
<li>z_grid</li>
<li>z_nodes</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">::
&gt;&gt;&gt; import mtpy.modeling.occam2d as occcam2d
&gt;&gt;&gt; edipath = r”/home/mt/edi_files”
&gt;&gt;&gt; slist = [‘mt{0:03}’.format(ss) for ss in range(20)]
&gt;&gt;&gt; ocd = occam2d.Data(edi_path=edipath, station_list=slist)
&gt;&gt;&gt; ocd.save_path = r”/home/occam/Line1/Inv1”
&gt;&gt;&gt; ocd.write_data_file()
&gt;&gt;&gt; ocm = occam2d.Mesh(ocd.station_locations)
&gt;&gt;&gt; # add in elevation
&gt;&gt;&gt; ocm.elevation_profile = ocd.elevation_profile
&gt;&gt;&gt; # change number of layers        
&gt;&gt;&gt; ocm.n_layers = 110
&gt;&gt;&gt; # change cell width in station area
&gt;&gt;&gt; ocm.cell_width = 200
&gt;&gt;&gt; ocm.build_mesh()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Mesh.plot_mesh">
<code class="descname">plot_mesh</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Mesh.plot_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Mesh.plot_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot built mesh with station locations.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key Words</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>depth_scale</td>
<td>[ ‘km’ | ‘m’ ] scale of mesh plot.
<em>default</em> is ‘km’</td>
</tr>
<tr class="row-odd"><td>fig_dpi</td>
<td>dots-per-inch resolution of the figure
<em>default</em> is 300</td>
</tr>
<tr class="row-even"><td>fig_num</td>
<td>number of the figure instance
<em>default</em> is ‘Mesh’</td>
</tr>
<tr class="row-odd"><td>fig_size</td>
<td>size of figure in inches (width, height)
<em>default</em> is [5, 5]</td>
</tr>
<tr class="row-even"><td>fs</td>
<td>size of font of axis tick labels, axis labels are
fs+2. <em>default</em> is 6</td>
</tr>
<tr class="row-odd"><td>ls</td>
<td>[ ‘-‘ | ‘.’ | ‘:’ ] line style of mesh lines
<em>default</em> is ‘-‘</td>
</tr>
<tr class="row-even"><td>marker</td>
<td>marker of stations
<em>default</em> is r”$lacktriangledown$”</td>
</tr>
<tr class="row-odd"><td>ms</td>
<td>size of marker in points. <em>default</em> is 5</td>
</tr>
<tr class="row-even"><td>plot_triangles</td>
<td>[ ‘y’ | ‘n’ ] to plot mesh triangles.
<em>default</em> is ‘n’</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Mesh.read_mesh_file">
<code class="descname">read_mesh_file</code><span class="sig-paren">(</span><em>mesh_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Mesh.read_mesh_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Mesh.read_mesh_file" title="Permalink to this definition">¶</a></dt>
<dd><p>reads an occam2d 2D mesh file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Mesh.write_mesh_file">
<code class="descname">write_mesh_file</code><span class="sig-paren">(</span><em>save_path=None</em>, <em>basename='Occam2DMesh'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Mesh.write_mesh_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Mesh.write_mesh_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a finite element mesh file.</p>
<p>Calls build_mesh if it already has not been called.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Model">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Model</code><span class="sig-paren">(</span><em>iter_fn=None</em>, <em>model_fn=None</em>, <em>mesh_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Read .iter file output by Occam2d.  Builds the resistivity model from 
mesh and regularization files found from the .iter file.  The resistivity
model is an array(x_nodes, z_nodes) set on a regular grid, and the values 
of the model response are filled in according to the regularization grid.
This allows for faster plotting.</p>
<p>Inherets Startup because they are basically the same object.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Model.build_model" title="mtpy.modeling.occam2d_rewrite.Model.build_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_model</span></code></a>()</td>
<td>build the model from the mesh, regularization grid and model file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Model.read_iter_file" title="mtpy.modeling.occam2d_rewrite.Model.read_iter_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_iter_file</span></code></a>([iter_fn])</td>
<td>Read an iteration file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Model.write_iter_file" title="mtpy.modeling.occam2d_rewrite.Model.write_iter_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_iter_file</span></code></a>([iter_fn])</td>
<td>write an iteration file if you need to for some reason, same as  startup file</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_startup_file</span></code>([startup_fn,&nbsp;save_path,&nbsp;…])</td>
<td>Write a startup file based on the parameters of startup class.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Model.build_model">
<code class="descname">build_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Model.build_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Model.build_model" title="Permalink to this definition">¶</a></dt>
<dd><p>build the model from the mesh, regularization grid and model file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Model.read_iter_file">
<code class="descname">read_iter_file</code><span class="sig-paren">(</span><em>iter_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Model.read_iter_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Model.read_iter_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an iteration file.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Model.write_iter_file">
<code class="descname">write_iter_file</code><span class="sig-paren">(</span><em>iter_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Model.write_iter_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Model.write_iter_file" title="Permalink to this definition">¶</a></dt>
<dd><p>write an iteration file if you need to for some reason, same as 
startup file</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtpy.modeling.occam2d_rewrite.OccamInputError">
<em class="property">exception </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">OccamInputError</code><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#OccamInputError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.OccamInputError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.OccamPointPicker">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">OccamPointPicker</code><span class="sig-paren">(</span><em>ax_list</em>, <em>line_list</em>, <em>err_list</em>, <em>res_err_inc=0.05</em>, <em>phase_err_inc=0.02</em>, <em>marker='h'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#OccamPointPicker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.OccamPointPicker" title="Permalink to this definition">¶</a></dt>
<dd><p>This class helps the user interactively pick points to mask and add 
error bars.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(event)</td>
<td>When the function is called the mouse events will be recorder for  picking points to mask or change error bars.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.OccamPointPicker.inAxes" title="mtpy.modeling.occam2d_rewrite.OccamPointPicker.inAxes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inAxes</span></code></a>(event)</td>
<td>gets the axes that the mouse is currently in.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.OccamPointPicker.inFigure" title="mtpy.modeling.occam2d_rewrite.OccamPointPicker.inFigure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inFigure</span></code></a>(event)</td>
<td>gets the figure number that the mouse is in</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.OccamPointPicker.on_close" title="mtpy.modeling.occam2d_rewrite.OccamPointPicker.on_close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_close</span></code></a>(event)</td>
<td>close the figure with a ‘q’ key event and disconnect the event ids</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.OccamPointPicker.inAxes">
<code class="descname">inAxes</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#OccamPointPicker.inAxes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.OccamPointPicker.inAxes" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the axes that the mouse is currently in.</p>
<blockquote>
<div><strong>event</strong>: is a type axes_enter_event</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.OccamPointPicker.inFigure">
<code class="descname">inFigure</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#OccamPointPicker.inFigure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.OccamPointPicker.inFigure" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the figure number that the mouse is in</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.OccamPointPicker.on_close">
<code class="descname">on_close</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#OccamPointPicker.on_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.OccamPointPicker.on_close" title="Permalink to this definition">¶</a></dt>
<dd><p>close the figure with a ‘q’ key event and disconnect the event ids</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.PlotL2">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">PlotL2</code><span class="sig-paren">(</span><em>iter_fn</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotL2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotL2" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot L2 curve of iteration vs rms and rms vs roughness.</p>
<p>Need to only input an .iter file, will read all similar .iter files
to get the rms, iteration number and roughness of all similar .iter files.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotL2.plot" title="mtpy.modeling.occam2d_rewrite.PlotL2.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot L2 curve</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotL2.redraw_plot" title="mtpy.modeling.occam2d_rewrite.PlotL2.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotL2.save_figure" title="mtpy.modeling.occam2d_rewrite.PlotL2.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotL2.update_plot" title="mtpy.modeling.occam2d_rewrite.PlotL2.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotL2.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotL2.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotL2.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot L2 curve</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotL2.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotL2.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotL2.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotL2.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotL2.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotL2.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotL2.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotL2.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotL2.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">PlotMisfitPseudoSection</code><span class="sig-paren">(</span><em>data_fn</em>, <em>resp_fn</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotMisfitPseudoSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>plot a pseudo section of the data and response if given</div></blockquote>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.get_misfit" title="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.get_misfit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_misfit</span></code></a>()</td>
<td>compute misfit of MT response found from the model and the data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.plot" title="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot pseudo section of data and response if given</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.redraw_plot" title="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.save_figure" title="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.update_plot" title="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.get_misfit">
<code class="descname">get_misfit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotMisfitPseudoSection.get_misfit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.get_misfit" title="Permalink to this definition">¶</a></dt>
<dd><p>compute misfit of MT response found from the model and the data.</p>
<p>Need to normalize correctly</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotMisfitPseudoSection.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot pseudo section of data and response if given</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotMisfitPseudoSection.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotPseudoSection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change color of te markers to a gray-blue</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">res_cmap</span> <span class="o">=</span> <span class="s1">&#39;seismic_r&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_plot='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotMisfitPseudoSection.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotMisfitPseudoSection.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotMisfitPseudoSection.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotPseudoSection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.PlotModel">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">PlotModel</code><span class="sig-paren">(</span><em>iter_fn=None</em>, <em>data_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotModel" title="Permalink to this definition">¶</a></dt>
<dd><p>plot the 2D model found by Occam2D.  The model is displayed as a meshgrid
instead of model bricks.  This speeds things up considerably.</p>
<p>Inherets the Model class to take advantage of the attributes and methods
already coded.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_model</span></code>()</td>
<td>build the model from the mesh, regularization grid and model file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotModel.plot" title="mtpy.modeling.occam2d_rewrite.PlotModel.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plotModel will plot the model output by occam2d in the iteration file.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_iter_file</span></code>([iter_fn])</td>
<td>Read an iteration file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotModel.redraw_plot" title="mtpy.modeling.occam2d_rewrite.PlotModel.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotModel.save_figure" title="mtpy.modeling.occam2d_rewrite.PlotModel.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotModel.update_plot" title="mtpy.modeling.occam2d_rewrite.PlotModel.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_iter_file</span></code>([iter_fn])</td>
<td>write an iteration file if you need to for some reason, same as  startup file</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_startup_file</span></code>([startup_fn,&nbsp;save_path,&nbsp;…])</td>
<td>Write a startup file based on the parameters of startup class.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotModel.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotModel.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotModel.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plotModel will plot the model output by occam2d in the iteration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">itfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/Occam2D/Line1/Inv1/Test_15.iter&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">PlotModel</span><span class="p">(</span><span class="n">itfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">ms</span> <span class="o">=</span> <span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">ylimits</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">.</span><span class="mi">350</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">spad</span> <span class="o">=</span> <span class="o">.</span><span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">ypad</span> <span class="o">=</span> <span class="o">.</span><span class="mi">125</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">xpad</span> <span class="o">=</span> <span class="o">.</span><span class="mi">025</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">climits</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">2.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">aspect</span> <span class="o">=</span> <span class="s1">&#39;equal&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model_plot</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotModel.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotModel.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotModel.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotModel.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotModel.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotModel.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotModel.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotModel.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotModel.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.PlotPseudoSection">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">PlotPseudoSection</code><span class="sig-paren">(</span><em>data_fn</em>, <em>resp_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotPseudoSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>plot a pseudo section of the data and response if given</div></blockquote>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.plot" title="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot pseudo section of data and response if given</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.redraw_plot" title="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.save_figure" title="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.update_plot" title="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotPseudoSection.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot pseudo section of data and response if given</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotPseudoSection.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotPseudoSection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change color of te markers to a gray-blue</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">res_cmap</span> <span class="o">=</span> <span class="s1">&#39;seismic_r&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_plot='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotPseudoSection.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotPseudoSection.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotPseudoSection.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotPseudoSection.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotPseudoSection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.PlotResponse">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">PlotResponse</code><span class="sig-paren">(</span><em>data_fn</em>, <em>resp_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper class to deal with plotting the MT response and occam2d model.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotResponse.plot" title="mtpy.modeling.occam2d_rewrite.PlotResponse.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot the data and model response, if given, in individual plots.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotResponse.redraw_plot" title="mtpy.modeling.occam2d_rewrite.PlotResponse.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.PlotResponse.save_figures" title="mtpy.modeling.occam2d_rewrite.PlotResponse.save_figures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figures</span></code></a>(save_path[,&nbsp;fig_fmt,&nbsp;fig_dpi,&nbsp;…])</td>
<td>save all the figure that are in self.fig_list</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotResponse.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotResponse.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotResponse.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot the data and model response, if given, in individual plots.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotResponse.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotResponse.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotResponse.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plot2DResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change color of te markers to a gray-blue</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">cted</span> <span class="o">=</span> <span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.PlotResponse.save_figures">
<code class="descname">save_figures</code><span class="sig-paren">(</span><em>save_path</em>, <em>fig_fmt='pdf'</em>, <em>fig_dpi=None</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#PlotResponse.save_figures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.PlotResponse.save_figures" title="Permalink to this definition">¶</a></dt>
<dd><p>save all the figure that are in self.fig_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plot2DResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">save_figures</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Figures&quot;</span><span class="p">,</span> <span class="n">fig_fmt</span><span class="o">=</span><span class="s1">&#39;jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Profile">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Profile</code><span class="sig-paren">(</span><em>edi_path=None</em>, <em>edi_list=[]</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes data from .edi files to create a profile line for 2D modeling.
Can project the stations onto a profile that is perpendicular to strike
or a given profile direction.</p>
<p>If _rotate_to_strike is True, the impedance tensor and tipper are rotated
to align with the geoelectric strike angle.</p>
<p>If _rotate_to_strike is True and geoelectric_strike is not given, 
then it is calculated using the phase tensor.  First, 2D sections are
estimated from the impedance tensor then the strike is estimated from the
phase tensor azimuth + skew.  This angle is then used to project the 
stations perpendicular to the strike angle.</p>
<p>If you want to project onto an angle not perpendicular to strike, give
profile_angle and set _rotate_to_strike to False.  This will project
the impedance tensor and tipper to be perpendicular with the 
profile_angle.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Profile.generate_profile" title="mtpy.modeling.occam2d_rewrite.Profile.generate_profile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_profile</span></code></a>()</td>
<td>Generate linear profile by regression of station locations.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Profile.plot_profile" title="mtpy.modeling.occam2d_rewrite.Profile.plot_profile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_profile</span></code></a>(**kwargs)</td>
<td>Plot the projected profile line along with original station locations to make sure the line projected is correct.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Profile.project_elevation" title="mtpy.modeling.occam2d_rewrite.Profile.project_elevation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_elevation</span></code></a>([elevation_model])</td>
<td>projects elevation data into the profile</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Profile.generate_profile">
<code class="descname">generate_profile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Profile.generate_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Profile.generate_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate linear profile by regression of station locations.</p>
<p>If profile_angle is not None, then station are projected onto that 
line.  Else, the a geoelectric strike is calculated from the data
and the stations are projected onto an angle perpendicular to the
estimated strike direction.  If _rotate_to_strike is True, the 
impedance tensor and Tipper data are rotated to align with strike.
Else, data is not rotated to strike.</p>
<p>To project stations onto a given line, set profile_angle and 
_rotate_to_strike to False.  This will project the stations onto 
profile_angle and rotate the impedance tensor and tipper to be 
perpendicular to the profile_angle.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Profile.plot_profile">
<code class="descname">plot_profile</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Profile.plot_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Profile.plot_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the projected profile line along with original station locations
to make sure the line projected is correct.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key Words</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>fig_dpi</td>
<td>dots-per-inch resolution of figure
<em>default</em> is 300</td>
</tr>
<tr class="row-odd"><td>fig_num</td>
<td>number if figure instance
<em>default</em> is ‘Projected Profile’</td>
</tr>
<tr class="row-even"><td>fig_size</td>
<td>size of figure in inches (width, height)
<em>default</em> is [5, 5]</td>
</tr>
<tr class="row-odd"><td>fs</td>
<td>[ float ] font size in points of axes tick labels
axes labels are fs+2
<em>default</em> is 6</td>
</tr>
<tr class="row-even"><td>lc</td>
<td>[ string | (r, g, b) ]color of profile line
(see matplotlib.line for options)
<em>default</em> is ‘b’ – blue</td>
</tr>
<tr class="row-odd"><td>lw</td>
<td>float, width of profile line in points
<em>default</em> is 1</td>
</tr>
<tr class="row-even"><td>marker</td>
<td>[ string ] marker for stations
(see matplotlib.pyplot.plot) for options</td>
</tr>
<tr class="row-odd"><td>mc</td>
<td>[ string | (r, g, b) ] color of projected
stations.  <em>default</em> is ‘k’ – black</td>
</tr>
<tr class="row-even"><td>ms</td>
<td>[ float ] size of station marker
<em>default</em> is 5</td>
</tr>
<tr class="row-odd"><td>station_id</td>
<td>[min, max] index values for station labels
<em>default</em> is None</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">::
&gt;&gt;&gt; edipath = r”/home/mt/edi_files”
&gt;&gt;&gt; pr = occam2d.Profile(edi_path=edipath)
&gt;&gt;&gt; pr.generate_profile()
&gt;&gt;&gt; # set station labels to only be from 1st to 4th index 
&gt;&gt;&gt; # of station name
&gt;&gt;&gt; pr.plot_profile(station_id=[0,4])</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Profile.project_elevation">
<code class="descname">project_elevation</code><span class="sig-paren">(</span><em>elevation_model=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Profile.project_elevation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Profile.project_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>projects elevation data into the profile</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Regularization">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Regularization</code><span class="sig-paren">(</span><em>station_locations=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Regularization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Regularization" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a regularization grid based on Mesh.  Note that Mesh is inherited
by Regularization, therefore the intended use is to build a mesh with 
the Regularization class.</p>
<p>The regularization grid is what Occam calculates the inverse model on.
Setup is tricky and can be painful, as you can see it is not quite fully
functional yet, as it cannot incorporate topography yet.  It seems like 
you’d like to have the regularization setup so that your target depth is 
covered well, in that the regularization blocks to this depth are 
sufficiently small to resolve resistivity structure at that depth.  
Finally, you want the regularization to go to a half space at the bottom, 
basically one giant block.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_elevation</span></code>([elevation_profile])</td>
<td>the elevation model needs to be in relative coordinates and be a  numpy.ndarray(2, num_elevation_points) where the first column is the horizontal location and the second column is the elevation at  that location.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_mesh</span></code>()</td>
<td>Build the finite element mesh given the parameters defined by the  attributes of Mesh.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Regularization.build_regularization" title="mtpy.modeling.occam2d_rewrite.Regularization.build_regularization"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_regularization</span></code></a>()</td>
<td>Builds larger boxes around existing mesh blocks for the regularization.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Regularization.get_num_free_params" title="mtpy.modeling.occam2d_rewrite.Regularization.get_num_free_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_num_free_params</span></code></a>()</td>
<td>estimate the number of free parameters in model mesh.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mesh</span></code>(**kwargs)</td>
<td>Plot built mesh with station locations.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_mesh_file</span></code>(mesh_fn)</td>
<td>reads an occam2d 2D mesh file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Regularization.read_regularization_file" title="mtpy.modeling.occam2d_rewrite.Regularization.read_regularization_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_regularization_file</span></code></a>(reg_fn)</td>
<td>Read in a regularization file and populate attributes:     * binding_offset                 * mesh_fn         * model_columns     * model_rows     * prejudice_fn     * statics_fn</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_mesh_file</span></code>([save_path,&nbsp;basename])</td>
<td>Write a finite element mesh file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Regularization.write_regularization_file" title="mtpy.modeling.occam2d_rewrite.Regularization.write_regularization_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_regularization_file</span></code></a>([reg_fn,&nbsp;…])</td>
<td>Write a regularization file for input into occam.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Regularization.build_regularization">
<code class="descname">build_regularization</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Regularization.build_regularization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Regularization.build_regularization" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds larger boxes around existing mesh blocks for the regularization.
As the model deepens the regularization boxes get larger.</p>
<p>The regularization boxes are merged mesh cells as prescribed by the
Occam method.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Regularization.get_num_free_params">
<code class="descname">get_num_free_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Regularization.get_num_free_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Regularization.get_num_free_params" title="Permalink to this definition">¶</a></dt>
<dd><p>estimate the number of free parameters in model mesh.</p>
<p>I’m assuming that if there are any fixed parameters in the block, then
that model block is assumed to be fixed. Not sure if this is right
cause there is no documentation.</p>
<p><strong>DOES NOT WORK YET</strong></p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Regularization.read_regularization_file">
<code class="descname">read_regularization_file</code><span class="sig-paren">(</span><em>reg_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Regularization.read_regularization_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Regularization.read_regularization_file" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Read in a regularization file and populate attributes:</dt>
<dd><ul class="first last simple">
<li>binding_offset</li>
<li>mesh_fn</li>
<li>model_columns</li>
<li>model_rows</li>
<li>prejudice_fn</li>
<li>statics_fn</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Regularization.write_regularization_file">
<code class="descname">write_regularization_file</code><span class="sig-paren">(</span><em>reg_fn=None</em>, <em>reg_basename=None</em>, <em>statics_fn='none'</em>, <em>prejudice_fn='none'</em>, <em>save_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Regularization.write_regularization_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Regularization.write_regularization_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a regularization file for input into occam.</p>
<p>Calls build_regularization if build_regularization has not already
been called.</p>
<p>if reg_fn is None, then file is written to save_path/reg_basename</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Response">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Response</code><span class="sig-paren">(</span><em>resp_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Response" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads .resp file output by Occam.  Similar structure to Data.data.</p>
<p>If resp_fn is given in the initialization of Response, read_response_file
is called.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Response.read_response_file" title="mtpy.modeling.occam2d_rewrite.Response.read_response_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_response_file</span></code></a>([resp_fn])</td>
<td>read in response file and put into a list of dictionaries similar  to Data</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Response.read_response_file">
<code class="descname">read_response_file</code><span class="sig-paren">(</span><em>resp_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Response.read_response_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Response.read_response_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read in response file and put into a list of dictionaries similar 
to Data</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Run">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Run</code><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run Occam2D by system call.</p>
<p>Future plan: implement Occam in Python and call it from here directly.</p>
</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.occam2d_rewrite.Startup">
<em class="property">class </em><code class="descclassname">mtpy.modeling.occam2d_rewrite.</code><code class="descname">Startup</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Startup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Startup" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads and writes the startup file for Occam2D.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Be sure to look at the Occam 2D documentation for description
of all parameters</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Key Words/Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-odd"><td>date_time</td>
<td>date and time the startup file was written</td>
</tr>
<tr class="row-even"><td>debug_level</td>
<td>[ 0 | 1 | 2 ] see occam documentation
<em>default</em> is 1</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>brief description of inversion run
<em>default</em> is ‘startup created by mtpy’</td>
</tr>
<tr class="row-even"><td>diagonal_penalties</td>
<td>penalties on diagonal terms
<em>default</em> is 0</td>
</tr>
<tr class="row-odd"><td>format</td>
<td>Occam file format
<em>default</em> is ‘OCCAMITER_FLEX’</td>
</tr>
<tr class="row-even"><td>iteration</td>
<td>current iteration number
<em>default</em> is 0</td>
</tr>
<tr class="row-odd"><td>iterations_to_run</td>
<td>maximum number of iterations to run
<em>default</em> is 20</td>
</tr>
<tr class="row-even"><td>lagrange_value</td>
<td>starting lagrange value
<em>default</em> is 5</td>
</tr>
<tr class="row-odd"><td>misfit_reached</td>
<td>[ 0 | 1 ] 0 if misfit has been reached, 1 if it
has.  <em>default</em> is 0</td>
</tr>
<tr class="row-even"><td>misfit_value</td>
<td>current misfit value.  <em>default</em> is 1000</td>
</tr>
<tr class="row-odd"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-even"><td>model_limits</td>
<td>limits on model resistivity values
<em>default</em> is None</td>
</tr>
<tr class="row-odd"><td>model_value_steps</td>
<td>limits on the step size of model values
<em>default</em> is None</td>
</tr>
<tr class="row-even"><td>model_values</td>
<td>np.ndarray(num_free_params) of model values</td>
</tr>
<tr class="row-odd"><td>param_count</td>
<td>number of free parameters in model</td>
</tr>
<tr class="row-even"><td>resistivity_start</td>
<td>starting resistivity value.  If model_values is
not given, then all values with in model_values
array will be set to resistivity_start</td>
</tr>
<tr class="row-odd"><td>roughness_type</td>
<td>[ 0 | 1 | 2 ] type of roughness
<em>default</em> is 1</td>
</tr>
<tr class="row-even"><td>roughness_value</td>
<td>current roughness value.
<em>default</em> is 1E10</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>directory path to save startup file to
<em>default</em> is current working directory</td>
</tr>
<tr class="row-even"><td>startup_basename</td>
<td>basename of startup file name.
<em>default</em> is Occam2DStartup</td>
</tr>
<tr class="row-odd"><td>startup_fn</td>
<td>full path to startup file.
<em>default</em> is save_path/startup_basename</td>
</tr>
<tr class="row-even"><td>stepsize_count</td>
<td>max number of iterations per step
<em>default</em> is 8</td>
</tr>
<tr class="row-odd"><td>target_misfit</td>
<td>target misfit value.
<em>default</em> is 1.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">startup</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Startup</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">startup</span><span class="o">.</span><span class="n">data_fn</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">data_fn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">startup</span><span class="o">.</span><span class="n">model_fn</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">reg_fn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">startup</span><span class="o">.</span><span class="n">param_count</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">num_free_params</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">startup</span><span class="o">.</span><span class="n">save_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Line1/Inv1&quot;</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.occam2d_rewrite.Startup.write_startup_file" title="mtpy.modeling.occam2d_rewrite.Startup.write_startup_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_startup_file</span></code></a>([startup_fn,&nbsp;save_path,&nbsp;…])</td>
<td>Write a startup file based on the parameters of startup class.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.occam2d_rewrite.Startup.write_startup_file">
<code class="descname">write_startup_file</code><span class="sig-paren">(</span><em>startup_fn=None</em>, <em>save_path=None</em>, <em>startup_basename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/occam2d_rewrite.html#Startup.write_startup_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.occam2d_rewrite.Startup.write_startup_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a startup file based on the parameters of startup class.  
Default file name is save_path/startup_basename</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-winglink">
<h2><strong>Module Winglink</strong><a class="headerlink" href="#module-winglink" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-mtpy.modeling.winglink"></span><p>Created on Mon Aug 22 15:19:30 2011</p>
<p>deal with output files from winglink.</p>
<p>&#64;author: jp</p>
<dl class="class">
<dt id="mtpy.modeling.winglink.PlotMisfitPseudoSection">
<em class="property">class </em><code class="descclassname">mtpy.modeling.winglink.</code><code class="descname">PlotMisfitPseudoSection</code><span class="sig-paren">(</span><em>data_fn</em>, <em>resp_fn</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotMisfitPseudoSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>plot a pseudo section misfit of the data and response if given</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the output file from winglink does not contain errors, so to get
a normalized error, you need to input the error for each 
component as a percent for resistivity and a value for phase
and tipper.  If you used the data errors, unfortunately, you
have to input those as arrays.</p>
</div>
</div></blockquote>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.get_misfit" title="mtpy.modeling.winglink.PlotMisfitPseudoSection.get_misfit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_misfit</span></code></a>()</td>
<td>compute misfit of MT response found from the model and the data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.plot" title="mtpy.modeling.winglink.PlotMisfitPseudoSection.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot pseudo section of data and response if given</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.redraw_plot" title="mtpy.modeling.winglink.PlotMisfitPseudoSection.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.save_figure" title="mtpy.modeling.winglink.PlotMisfitPseudoSection.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.update_plot" title="mtpy.modeling.winglink.PlotMisfitPseudoSection.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.winglink.PlotMisfitPseudoSection.get_misfit">
<code class="descname">get_misfit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotMisfitPseudoSection.get_misfit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.get_misfit" title="Permalink to this definition">¶</a></dt>
<dd><p>compute misfit of MT response found from the model and the data.</p>
<p>Need to normalize correctly</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotMisfitPseudoSection.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotMisfitPseudoSection.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot pseudo section of data and response if given</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotMisfitPseudoSection.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotMisfitPseudoSection.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotPseudoSection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change color of te markers to a gray-blue</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">res_cmap</span> <span class="o">=</span> <span class="s1">&#39;seismic_r&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotMisfitPseudoSection.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_plot='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotMisfitPseudoSection.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotMisfitPseudoSection.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotMisfitPseudoSection.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotMisfitPseudoSection.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotPseudoSection</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.winglink.PlotPseudoSection">
<em class="property">class </em><code class="descclassname">mtpy.modeling.winglink.</code><code class="descname">PlotPseudoSection</code><span class="sig-paren">(</span><em>wl_data_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotPseudoSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotPseudoSection" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>plot a pseudo section of the data and response if given</div></blockquote>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotPseudoSection.plot" title="mtpy.modeling.winglink.PlotPseudoSection.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot pseudo section of data and response if given</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotPseudoSection.redraw_plot" title="mtpy.modeling.winglink.PlotPseudoSection.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotPseudoSection.save_figure" title="mtpy.modeling.winglink.PlotPseudoSection.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotPseudoSection.update_plot" title="mtpy.modeling.winglink.PlotPseudoSection.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.winglink.PlotPseudoSection.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotPseudoSection.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotPseudoSection.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot pseudo section of data and response if given</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotPseudoSection.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotPseudoSection.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotPseudoSection.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># plot tipper and change station id</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.winglink</span> <span class="k">as</span> <span class="nn">winglink</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps_plot</span> <span class="o">=</span> <span class="n">winglink</span><span class="o">.</span><span class="n">PlotPseudosection</span><span class="p">(</span><span class="n">wl_fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps_plot</span><span class="o">.</span><span class="n">plot_tipper</span> <span class="o">=</span> <span class="s1">&#39;y&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps_plot</span><span class="o">.</span><span class="n">station_id</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#label only every 3rd station</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps_plot</span><span class="o">.</span><span class="n">ml</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps_plot</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotPseudoSection.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_plot='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotPseudoSection.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotPseudoSection.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotPseudoSection.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotPseudoSection.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotPseudoSection.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps_plot</span><span class="o">.</span><span class="n">axrte</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps_plot</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.winglink.PlotResponse">
<em class="property">class </em><code class="descclassname">mtpy.modeling.winglink.</code><code class="descname">PlotResponse</code><span class="sig-paren">(</span><em>wl_data_fn=None</em>, <em>resp_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper class to deal with plotting the MT response and occam2d model.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotResponse.plot" title="mtpy.modeling.winglink.PlotResponse.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot the data and model response, if given, in individual plots.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotResponse.redraw_plot" title="mtpy.modeling.winglink.PlotResponse.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.winglink.PlotResponse.save_figures" title="mtpy.modeling.winglink.PlotResponse.save_figures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figures</span></code></a>(save_path[,&nbsp;fig_fmt,&nbsp;fig_dpi,&nbsp;…])</td>
<td>save all the figure that are in self.fig_list</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.winglink.PlotResponse.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotResponse.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotResponse.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot the data and model response, if given, in individual plots.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotResponse.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotResponse.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotResponse.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plot2DResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change color of te markers to a gray-blue</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">cted</span> <span class="o">=</span> <span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.winglink.PlotResponse.save_figures">
<code class="descname">save_figures</code><span class="sig-paren">(</span><em>save_path</em>, <em>fig_fmt='pdf'</em>, <em>fig_dpi=None</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#PlotResponse.save_figures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.PlotResponse.save_figures" title="Permalink to this definition">¶</a></dt>
<dd><p>save all the figure that are in self.fig_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plot2DResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">save_figures</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Figures&quot;</span><span class="p">,</span> <span class="n">fig_fmt</span><span class="o">=</span><span class="s1">&#39;jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtpy.modeling.winglink.WLInputError">
<em class="property">exception </em><code class="descclassname">mtpy.modeling.winglink.</code><code class="descname">WLInputError</code><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#WLInputError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.WLInputError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mtpy.modeling.winglink.read_model_file">
<code class="descclassname">mtpy.modeling.winglink.</code><code class="descname">read_model_file</code><span class="sig-paren">(</span><em>model_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#read_model_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.read_model_file" title="Permalink to this definition">¶</a></dt>
<dd><p>readModelFile reads in the XYZ txt file output by Winglink.</p>
<dl class="docutils">
<dt>Inputs:</dt>
<dd><p class="first">modelfile = fullpath and filename to modelfile
profiledirection = ‘ew’ for east-west predominantly, ‘ns’ for</p>
<blockquote class="last">
<div>predominantly north-south.  This gives column to 
fix</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.winglink.read_output_file">
<code class="descclassname">mtpy.modeling.winglink.</code><code class="descname">read_output_file</code><span class="sig-paren">(</span><em>output_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/winglink.html#read_output_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.winglink.read_output_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in an output file from winglink and returns the data
in the form of a dictionary of structured arrays.</p>
</dd></dl>

</div>
<div class="section" id="module-mtpy.modeling.ws3dinv">
<span id="module-ws3dinv"></span><h2><strong>Module WS3DINV</strong><a class="headerlink" href="#module-mtpy.modeling.ws3dinv" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Deals with input and output files for ws3dinv written by:</dt>
<dd><p class="first">Siripunvaraporn, W.; Egbert, G.; Lenbury, Y. &amp; Uyeshima, M. 
Three-dimensional magnetotelluric inversion: data-space method
Physics of The Earth and Planetary Interiors, 2005, 150, 3-14
* Dependencies: matplotlib 1.3.x, numpy 1.7.x, scipy 0.13</p>
<blockquote class="last">
<div><p>and evtk if vtk files want to be written.</p>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
<p>The intended use or workflow is something like this for getting started:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Making input files:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#1) make a list of all .edi files that will be inverted for </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/EDI_Files&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">edi_path</span><span class="p">,</span> <span class="n">edi</span><span class="p">)</span> <span class="k">for</span> <span class="n">edi</span> <span class="ow">in</span> <span class="n">edi_path</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>         <span class="k">if</span> <span class="n">edi</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;.edi&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#2) make a grid from the stations themselves with 200m cell spacing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WSMesh</span><span class="p">(</span><span class="n">edi_list</span><span class="o">=</span><span class="n">edi_list</span><span class="p">,</span> <span class="n">cell_size_east</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                <span class="n">cell_size_north</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span><span class="o">.</span><span class="n">make_mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># check to see if the mesh is what you think it should be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span><span class="o">.</span><span class="n">plot_mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># all is good write the mesh file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span><span class="o">.</span><span class="n">write_initial_file</span><span class="p">(</span><span class="n">save_path</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/ws3dinv/Inv1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># note this will write a file with relative station locations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change the starting model to be different than a halfspace</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mm</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WS3DModelManipulator</span><span class="p">(</span><span class="n">initial_fn</span><span class="o">=</span><span class="n">wsmesh</span><span class="o">.</span><span class="n">initial_fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># an interactive gui will pop up to change the resistivity model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#once finished write a new initial file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mm</span><span class="o">.</span><span class="n">rewrite_initial_file</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#3) write data file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsdata</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WSData</span><span class="p">(</span><span class="n">edi_list</span><span class="o">=</span><span class="n">edi_list</span><span class="p">,</span> <span class="n">station_fn</span><span class="o">=</span><span class="n">wsmesh</span><span class="o">.</span><span class="n">station_fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsdata</span><span class="o">.</span><span class="n">write_data_file</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#4) plot mt response to make sure everything looks ok</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rp</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotResponse</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">wsdata</span><span class="o">.</span><span class="n">data_fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#5) make startup file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WSStartup</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">wsdata</span><span class="o">.</span><span class="n">data_fn</span><span class="p">,</span> <span class="n">initial_fn</span><span class="o">=</span><span class="n">mm</span><span class="o">.</span><span class="n">new_initial_fn</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">checking the model and response:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/ws3dinv/Inv1/test_model.01&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/ws3dinv/Inv1/WSDataFile.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/ws3dinv/Inv1/test_resp.01&quot;</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">sfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/ws3dinv/Inv1/WS_Sation_Locations.txt&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># plot the data vs. model response</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rp</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotResponse</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">dfn</span><span class="p">,</span> <span class="n">resp_fn</span><span class="o">=</span><span class="n">rfn</span><span class="p">,</span> <span class="n">station_fn</span><span class="o">=</span><span class="n">sfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># plot model slices where you can interactively step through</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotSlices</span><span class="p">(</span><span class="n">model_fn</span><span class="o">=</span><span class="n">mfn</span><span class="p">,</span> <span class="n">station_fn</span><span class="o">=</span><span class="n">sfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># plot phase tensor ellipses on top of depth slices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ptm</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotPTMaps</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">dfn</span><span class="p">,</span> <span class="n">resp_fn</span><span class="o">=</span><span class="n">rfn</span><span class="p">,</span> <span class="n">model_fn</span><span class="o">=</span><span class="n">mfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#write files for 3D visualization in Paraview or Mayavi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span><span class="o">.</span><span class="n">write_vtk_files</span><span class="p">(</span><span class="n">mfn</span><span class="p">,</span> <span class="n">sfn</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;/home/ParaviewFiles&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Created on Sun Aug 25 18:41:15 2013</p>
<p>&#64;author: jpeacock-pr</p>
<dl class="class">
<dt id="mtpy.modeling.ws3dinv.PlotDepthSlice">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">PlotDepthSlice</code><span class="sig-paren">(</span><em>model_fn=None</em>, <em>data_fn=None</em>, <em>station_fn=None</em>, <em>initial_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotDepthSlice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotDepthSlice" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots depth slices of resistivity model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/Test_model.00&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/WSStationLocations.txt&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># plot just first layer to check the formating        </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotDepthSlice</span><span class="p">(</span><span class="n">model_fn</span><span class="o">=</span><span class="n">mfn</span><span class="p">,</span> <span class="n">station_fn</span><span class="o">=</span><span class="n">sfn</span><span class="p">,</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                     <span class="n">depth_index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">save_plots</span><span class="o">=</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#move color bar up </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span><span class="o">.</span><span class="n">cb_location</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mf">0.64500000000000002</span><span class="p">,</span> <span class="mf">0.14999999999999997</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.025</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span><span class="o">.</span><span class="n">cb_location</span> <span class="o">=</span> <span class="p">(</span><span class="o">.</span><span class="mi">645</span><span class="p">,</span> <span class="o">.</span><span class="mi">175</span><span class="p">,</span> <span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="o">.</span><span class="mi">025</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#looks good now plot all depth slices and save them to a folder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span><span class="o">.</span><span class="n">save_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/DepthSlices&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span><span class="o">.</span><span class="n">depth_index</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span><span class="o">.</span><span class="n">save_plots</span> <span class="o">=</span> <span class="s1">&#39;y&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cb_location</td>
<td>location of color bar (x, y, width, height)
<em>default</em> is None, automatically locates</td>
</tr>
<tr class="row-odd"><td>cb_orientation</td>
<td>[ ‘vertical’ | ‘horizontal’ ]
<em>default</em> is horizontal</td>
</tr>
<tr class="row-even"><td>cb_pad</td>
<td>padding between axes and colorbar
<em>default</em> is None</td>
</tr>
<tr class="row-odd"><td>cb_shrink</td>
<td>percentage to shrink colorbar by
<em>default</em> is None</td>
</tr>
<tr class="row-even"><td>climits</td>
<td>(min, max) of resistivity color on log scale
<em>default</em> is (0, 4)</td>
</tr>
<tr class="row-odd"><td>cmap</td>
<td>name of color map <em>default</em> is ‘jet_r’</td>
</tr>
<tr class="row-even"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-odd"><td>depth_index</td>
<td>integer value of depth slice index, shallowest
layer is 0</td>
</tr>
<tr class="row-even"><td>dscale</td>
<td>scaling parameter depending on map_scale</td>
</tr>
<tr class="row-odd"><td>ew_limits</td>
<td>(min, max) plot limits in e-w direction in
map_scale units. <em>default</em> is None, sets viewing
area to the station area</td>
</tr>
<tr class="row-even"><td>fig_aspect</td>
<td>aspect ratio of plot. <em>default</em> is 1</td>
</tr>
<tr class="row-odd"><td>fig_dpi</td>
<td>resolution of figure in dots-per-inch. <em>default</em> is
300</td>
</tr>
<tr class="row-even"><td>fig_list</td>
<td>list of matplotlib.figure instances for each
depth slice</td>
</tr>
<tr class="row-odd"><td>fig_size</td>
<td>[width, height] in inches of figure size
<em>default</em> is [6, 6]</td>
</tr>
<tr class="row-even"><td>font_size</td>
<td>size of ticklabel font in points, labels are
font_size+2. <em>default</em> is 7</td>
</tr>
<tr class="row-odd"><td>grid_east</td>
<td>relative location of grid nodes in e-w direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>grid_north</td>
<td>relative location of grid nodes in n-s direction
in map_scale units</td>
</tr>
<tr class="row-odd"><td>grid_z</td>
<td>relative location of grid nodes in z direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>initial_fn</td>
<td>full path to initial file</td>
</tr>
<tr class="row-odd"><td>map_scale</td>
<td>[ ‘km’ | ‘m’ ] distance units of map. <em>default</em> is
km</td>
</tr>
<tr class="row-even"><td>mesh_east</td>
<td>np.meshgrid(grid_east, grid_north, indexing=’ij’)</td>
</tr>
<tr class="row-odd"><td>mesh_north</td>
<td>np.meshgrid(grid_east, grid_north, indexing=’ij’)</td>
</tr>
<tr class="row-even"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-odd"><td>nodes_east</td>
<td>relative distance betwen nodes in e-w direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>nodes_north</td>
<td>relative distance betwen nodes in n-s direction
in map_scale units</td>
</tr>
<tr class="row-odd"><td>nodes_z</td>
<td>relative distance betwen nodes in z direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>ns_limits</td>
<td>(min, max) plot limits in n-s direction in
map_scale units. <em>default</em> is None, sets viewing
area to the station area</td>
</tr>
<tr class="row-odd"><td>plot_grid</td>
<td>[ ‘y’ | ‘n’ ] ‘y’ to plot mesh grid lines.
<em>default</em> is ‘n’</td>
</tr>
<tr class="row-even"><td>plot_yn</td>
<td>[ ‘y’ | ‘n’ ] ‘y’ to plot on instantiation</td>
</tr>
<tr class="row-odd"><td>res_model</td>
<td>np.ndarray(n_north, n_east, n_vertical) of
model resistivity values in linear scale</td>
</tr>
<tr class="row-even"><td>save_path</td>
<td>path to save figures to</td>
</tr>
<tr class="row-odd"><td>save_plots</td>
<td>[ ‘y’ | ‘n’ ] ‘y’ to save depth slices to save_path</td>
</tr>
<tr class="row-even"><td>station_east</td>
<td>location of stations in east direction in
map_scale units</td>
</tr>
<tr class="row-odd"><td>station_fn</td>
<td>full path to station locations file</td>
</tr>
<tr class="row-even"><td>station_names</td>
<td>station names</td>
</tr>
<tr class="row-odd"><td>station_north</td>
<td>location of station in north direction in
map_scale units</td>
</tr>
<tr class="row-even"><td>subplot_bottom</td>
<td>distance between axes and bottom of figure window</td>
</tr>
<tr class="row-odd"><td>subplot_left</td>
<td>distance between axes and left of figure window</td>
</tr>
<tr class="row-even"><td>subplot_right</td>
<td>distance between axes and right of figure window</td>
</tr>
<tr class="row-odd"><td>subplot_top</td>
<td>distance between axes and top of figure window</td>
</tr>
<tr class="row-even"><td>title</td>
<td>titiel of plot <em>default</em> is depth of slice</td>
</tr>
<tr class="row-odd"><td>xminorticks</td>
<td>location of xminorticks</td>
</tr>
<tr class="row-even"><td>yminorticks</td>
<td>location of yminorticks</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.plot" title="mtpy.modeling.ws3dinv.PlotDepthSlice.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot depth slices</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.read_files" title="mtpy.modeling.ws3dinv.PlotDepthSlice.read_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_files</span></code></a>()</td>
<td>read in the files to get appropriate information</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.redraw_plot" title="mtpy.modeling.ws3dinv.PlotDepthSlice.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.update_plot" title="mtpy.modeling.ws3dinv.PlotDepthSlice.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>(fig)</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotDepthSlice.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotDepthSlice.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot depth slices</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotDepthSlice.read_files">
<code class="descname">read_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotDepthSlice.read_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.read_files" title="Permalink to this definition">¶</a></dt>
<dd><p>read in the files to get appropriate information</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotDepthSlice.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotDepthSlice.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotDepthSlice.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><em>fig</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotDepthSlice.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotDepthSlice.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.PlotPTMaps">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">PlotPTMaps</code><span class="sig-paren">(</span><em>data_fn=None</em>, <em>resp_fn=None</em>, <em>station_fn=None</em>, <em>model_fn=None</em>, <em>initial_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotPTMaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotPTMaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot phase tensor maps including residual pt if response file is input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Plot only data for one period:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/WSDataFile.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ptm</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotPTMaps</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">dfn</span><span class="p">,</span> <span class="n">plot_period_list</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Plot data and model response:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/WSDataFile.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/Test_resp.00&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/Test_model.00&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ptm</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotPTMaps</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">dfn</span><span class="p">,</span> <span class="n">resp_fn</span><span class="o">=</span><span class="n">rfn</span><span class="p">,</span> <span class="n">model_fn</span><span class="o">=</span><span class="n">mfn</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                 <span class="n">plot_period_list</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># adjust colorbar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ptm</span><span class="o">.</span><span class="n">cb_res_pad</span> <span class="o">=</span> <span class="mf">1.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ptm</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cb_pt_pad</td>
<td>percentage from top of axes to place pt
color bar. <em>default</em> is .90</td>
</tr>
<tr class="row-odd"><td>cb_res_pad</td>
<td>percentage from bottom of axes to place
resistivity color bar. <em>default</em> is 1.2</td>
</tr>
<tr class="row-even"><td>cb_residual_tick_step</td>
<td>tick step for residual pt. <em>default</em> is 3</td>
</tr>
<tr class="row-odd"><td>cb_tick_step</td>
<td>tick step for phase tensor color bar,
<em>default</em> is 45</td>
</tr>
<tr class="row-even"><td>data</td>
<td>np.ndarray(n_station, n_periods, 2, 2)
impedance tensors for station data</td>
</tr>
<tr class="row-odd"><td>data_fn</td>
<td>full path to data fle</td>
</tr>
<tr class="row-even"><td>dscale</td>
<td>scaling parameter depending on map_scale</td>
</tr>
<tr class="row-odd"><td>ellipse_cmap</td>
<td>color map for pt ellipses. <em>default</em> is
mt_bl2gr2rd</td>
</tr>
<tr class="row-even"><td>ellipse_colorby</td>
<td><dl class="first last docutils">
<dt>[ ‘skew’ | ‘skew_seg’ | ‘phimin’ | ‘phimax’|</dt>
<dd>‘phidet’ | ‘ellipticity’ ] parameter to color
ellipses by. <em>default</em> is ‘phimin’</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>ellipse_range</td>
<td>(min, max, step) min and max of colormap, need
to input step if plotting skew_seg</td>
</tr>
<tr class="row-even"><td>ellipse_size</td>
<td>relative size of ellipses in map_scale</td>
</tr>
<tr class="row-odd"><td>ew_limits</td>
<td>limits of plot in e-w direction in map_scale
units.  <em>default</em> is None, scales to station
area</td>
</tr>
<tr class="row-even"><td>fig_aspect</td>
<td>aspect of figure. <em>default</em> is 1</td>
</tr>
<tr class="row-odd"><td>fig_dpi</td>
<td>resolution in dots-per-inch. <em>default</em> is 300</td>
</tr>
<tr class="row-even"><td>fig_list</td>
<td>list of matplotlib.figure instances for each
figure plotted.</td>
</tr>
<tr class="row-odd"><td>fig_size</td>
<td>[width, height] in inches of figure window
<em>default</em> is [6, 6]</td>
</tr>
<tr class="row-even"><td>font_size</td>
<td>font size of ticklabels, axes labels are
font_size+2. <em>default</em> is 7</td>
</tr>
<tr class="row-odd"><td>grid_east</td>
<td>relative location of grid nodes in e-w direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>grid_north</td>
<td>relative location of grid nodes in n-s direction
in map_scale units</td>
</tr>
<tr class="row-odd"><td>grid_z</td>
<td>relative location of grid nodes in z direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>initial_fn</td>
<td>full path to initial file</td>
</tr>
<tr class="row-odd"><td>map_scale</td>
<td>[ ‘km’ | ‘m’ ] distance units of map.
<em>default</em> is km</td>
</tr>
<tr class="row-even"><td>mesh_east</td>
<td>np.meshgrid(grid_east, grid_north, indexing=’ij’)</td>
</tr>
<tr class="row-odd"><td>mesh_north</td>
<td>np.meshgrid(grid_east, grid_north, indexing=’ij’)</td>
</tr>
<tr class="row-even"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-odd"><td>nodes_east</td>
<td>relative distance betwen nodes in e-w direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>nodes_north</td>
<td>relative distance betwen nodes in n-s direction
in map_scale units</td>
</tr>
<tr class="row-odd"><td>nodes_z</td>
<td>relative distance betwen nodes in z direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>ns_limits</td>
<td>(min, max) limits of plot in n-s direction
<em>default</em> is None, viewing area is station area</td>
</tr>
<tr class="row-odd"><td>pad_east</td>
<td>padding from extreme stations in east direction</td>
</tr>
<tr class="row-even"><td>pad_north</td>
<td>padding from extreme stations in north direction</td>
</tr>
<tr class="row-odd"><td>period_list</td>
<td>list of periods from data</td>
</tr>
<tr class="row-even"><td>plot_grid</td>
<td>[ ‘y’ | ‘n’ ] ‘y’ to plot grid lines
<em>default</em> is ‘n’</td>
</tr>
<tr class="row-odd"><td>plot_period_list</td>
<td>list of period index values to plot
<em>default</em> is None</td>
</tr>
<tr class="row-even"><td>plot_yn</td>
<td>[‘y’ | ‘n’ ] ‘y’ to plot on instantiation
<em>default</em> is ‘y’</td>
</tr>
<tr class="row-odd"><td>res_cmap</td>
<td>colormap for resisitivity values.
<em>default</em> is ‘jet_r’</td>
</tr>
<tr class="row-even"><td>res_limits</td>
<td>(min, max) resistivity limits in log scale
<em>default</em> is (0, 4)</td>
</tr>
<tr class="row-odd"><td>res_model</td>
<td>np.ndarray(n_north, n_east, n_vertical) of
model resistivity values in linear scale</td>
</tr>
<tr class="row-even"><td>residual_cmap</td>
<td>color map for pt residuals.
<em>default</em> is ‘mt_wh2or’</td>
</tr>
<tr class="row-odd"><td>resp</td>
<td>np.ndarray(n_stations, n_periods, 2, 2)
impedance tensors for model response</td>
</tr>
<tr class="row-even"><td>resp_fn</td>
<td>full path to response file</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>directory to save figures to</td>
</tr>
<tr class="row-even"><td>save_plots</td>
<td>[ ‘y’ | ‘n’ ] ‘y’ to save plots to save_path</td>
</tr>
<tr class="row-odd"><td>station_east</td>
<td>location of stations in east direction in
map_scale units</td>
</tr>
<tr class="row-even"><td>station_fn</td>
<td>full path to station locations file</td>
</tr>
<tr class="row-odd"><td>station_names</td>
<td>station names</td>
</tr>
<tr class="row-even"><td>station_north</td>
<td>location of station in north direction in
map_scale units</td>
</tr>
<tr class="row-odd"><td>subplot_bottom</td>
<td>distance between axes and bottom of figure window</td>
</tr>
<tr class="row-even"><td>subplot_left</td>
<td>distance between axes and left of figure window</td>
</tr>
<tr class="row-odd"><td>subplot_right</td>
<td>distance between axes and right of figure window</td>
</tr>
<tr class="row-even"><td>subplot_top</td>
<td>distance between axes and top of figure window</td>
</tr>
<tr class="row-odd"><td>title</td>
<td>titiel of plot <em>default</em> is depth of slice</td>
</tr>
<tr class="row-even"><td>xminorticks</td>
<td>location of xminorticks</td>
</tr>
<tr class="row-odd"><td>yminorticks</td>
<td>location of yminorticks</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotPTMaps.plot" title="mtpy.modeling.ws3dinv.PlotPTMaps.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot phase tensor maps for data and or response, each figure is of a different period.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotPTMaps.redraw_plot" title="mtpy.modeling.ws3dinv.PlotPTMaps.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotPTMaps.save_figure" title="mtpy.modeling.ws3dinv.PlotPTMaps.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>([save_path,&nbsp;fig_dpi,&nbsp;…])</td>
<td>save_figure will save the figure to save_fn.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotPTMaps.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotPTMaps.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotPTMaps.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot phase tensor maps for data and or response, each figure is of a
different period.  If response is input a third column is added which is 
the residual phase tensor showing where the model is not fitting the data 
well.  The data is plotted in km in units of ohm-m.</p>
<dl class="docutils">
<dt>Inputs:</dt>
<dd><p class="first">data_fn = full path to data file
resp_fn = full path to response file, if none just plots data
sites_fn = full path to sites file
periodlst = indicies of periods you want to plot
esize = size of ellipses as:</p>
<blockquote>
<div>0 = phase tensor ellipse
1 = phase tensor residual
2 = resistivity tensor ellipse
3 = resistivity tensor residual</div></blockquote>
<p>ecolor = ‘phimin’ for coloring with phimin or ‘beta’ for beta coloring
colormm = list of min and max coloring for plot, list as follows:</p>
<blockquote>
<div><p>0 = phase tensor min and max for ecolor in degrees
1 = phase tensor residual min and max [0,1]
2 = resistivity tensor coloring as resistivity on log scale
3 = resistivity tensor residual coloring as resistivity on</p>
<blockquote>
<div>linear scale</div></blockquote>
</div></blockquote>
<p class="last">xpad = padding of map from stations at extremities (km)
units = ‘mv’ to convert to Ohm-m 
dpi = dots per inch of figure</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotPTMaps.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotPTMaps.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotPTMaps.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotPTMaps.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_path=None</em>, <em>fig_dpi=None</em>, <em>file_format='pdf'</em>, <em>orientation='landscape'</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotPTMaps.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotPTMaps.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_figure will save the figure to save_fn.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.PlotResponse">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">PlotResponse</code><span class="sig-paren">(</span><em>data_fn=None</em>, <em>resp_fn=None</em>, <em>station_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>plot data and response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/WSDataFile.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/Test_resp.00&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/WSStationLocations.txt&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsrp</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotResponse</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">dfn</span><span class="p">,</span> <span class="n">resp_fn</span><span class="o">=</span><span class="n">rfn</span><span class="p">,</span> <span class="n">station_fn</span><span class="o">=</span><span class="n">sfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># plot only the TE and TM modes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsrp</span><span class="o">.</span><span class="n">plot_component</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsrp</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>color_mode</td>
<td>[ ‘color’ | ‘bw’ ] color or black and white plots</td>
</tr>
<tr class="row-odd"><td>cted</td>
<td>color for data TE mode</td>
</tr>
<tr class="row-even"><td>ctem</td>
<td>color for data TM mode</td>
</tr>
<tr class="row-odd"><td>ctmd</td>
<td>color for model TE mode</td>
</tr>
<tr class="row-even"><td>ctmm</td>
<td>color for model TM mode</td>
</tr>
<tr class="row-odd"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-even"><td>data_object</td>
<td>WSResponse instance</td>
</tr>
<tr class="row-odd"><td>e_capsize</td>
<td>cap size of error bars in points (<em>default</em> is .5)</td>
</tr>
<tr class="row-even"><td>e_capthick</td>
<td>cap thickness of error bars in points (<em>default</em>
is 1)</td>
</tr>
<tr class="row-odd"><td>fig_dpi</td>
<td>resolution of figure in dots-per-inch (300)</td>
</tr>
<tr class="row-even"><td>fig_list</td>
<td>list of matplotlib.figure instances for plots</td>
</tr>
<tr class="row-odd"><td>fig_size</td>
<td>size of figure in inches (<em>default</em> is [6, 6])</td>
</tr>
<tr class="row-even"><td>font_size</td>
<td>size of font for tick labels, axes labels are
font_size+2 (<em>default</em> is 7)</td>
</tr>
<tr class="row-odd"><td>legend_border_axes_pad</td>
<td>padding between legend box and axes</td>
</tr>
<tr class="row-even"><td>legend_border_pad</td>
<td>padding between border of legend and symbols</td>
</tr>
<tr class="row-odd"><td>legend_handle_text_pad</td>
<td>padding between text labels and symbols of legend</td>
</tr>
<tr class="row-even"><td>legend_label_spacing</td>
<td>padding between labels</td>
</tr>
<tr class="row-odd"><td>legend_loc</td>
<td>location of legend</td>
</tr>
<tr class="row-even"><td>legend_marker_scale</td>
<td>scale of symbols in legend</td>
</tr>
<tr class="row-odd"><td>lw</td>
<td>line width response curves (<em>default</em> is .5)</td>
</tr>
<tr class="row-even"><td>ms</td>
<td>size of markers (<em>default</em> is 1.5)</td>
</tr>
<tr class="row-odd"><td>mted</td>
<td>marker for data TE mode</td>
</tr>
<tr class="row-even"><td>mtem</td>
<td>marker for data TM mode</td>
</tr>
<tr class="row-odd"><td>mtmd</td>
<td>marker for model TE mode</td>
</tr>
<tr class="row-even"><td>mtmm</td>
<td>marker for model TM mode</td>
</tr>
<tr class="row-odd"><td>phase_limits</td>
<td>limits of phase</td>
</tr>
<tr class="row-even"><td>plot_component</td>
<td>[ 2 | 4 ] 2 for TE and TM or 4 for all components</td>
</tr>
<tr class="row-odd"><td>plot_style</td>
<td>[ 1 | 2 ] 1 to plot each mode in a seperate
subplot and 2 to plot xx, xy and yx, yy in same
plots</td>
</tr>
<tr class="row-even"><td>plot_type</td>
<td>[ ‘1’ | list of station name ] ‘1’ to plot all
stations in data file or input a list of station
names to plot if station_fn is input, otherwise
input a list of integers associated with the
index with in the data file, ie 2 for 2nd station</td>
</tr>
<tr class="row-odd"><td>plot_z</td>
<td>[ True | False ] <em>default</em> is True to plot
impedance, False for plotting resistivity and
phase</td>
</tr>
<tr class="row-even"><td>plot_yn</td>
<td>[ ‘n’ | ‘y’ ] to plot on instantiation</td>
</tr>
<tr class="row-odd"><td>res_limits</td>
<td>limits of resistivity in linear scale</td>
</tr>
<tr class="row-even"><td>resp_fn</td>
<td>full path to response file</td>
</tr>
<tr class="row-odd"><td>resp_object</td>
<td>WSResponse object for resp_fn, or list of
WSResponse objects if resp_fn is a list of
response files</td>
</tr>
<tr class="row-even"><td>station_fn</td>
<td>full path to station file written by WSStation</td>
</tr>
<tr class="row-odd"><td>subplot_bottom</td>
<td>space between axes and bottom of figure</td>
</tr>
<tr class="row-even"><td>subplot_hspace</td>
<td>space between subplots in vertical direction</td>
</tr>
<tr class="row-odd"><td>subplot_left</td>
<td>space between axes and left of figure</td>
</tr>
<tr class="row-even"><td>subplot_right</td>
<td>space between axes and right of figure</td>
</tr>
<tr class="row-odd"><td>subplot_top</td>
<td>space between axes and top of figure</td>
</tr>
<tr class="row-even"><td>subplot_wspace</td>
<td>space between subplots in horizontal direction</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotResponse.plot" title="mtpy.modeling.ws3dinv.PlotResponse.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotResponse.plot_errorbar" title="mtpy.modeling.ws3dinv.PlotResponse.plot_errorbar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_errorbar</span></code></a>(ax,&nbsp;period,&nbsp;data,&nbsp;error,&nbsp;…)</td>
<td>convinience function to make an error bar instance</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotResponse.redraw_plot" title="mtpy.modeling.ws3dinv.PlotResponse.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotResponse.save_figure" title="mtpy.modeling.ws3dinv.PlotResponse.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>(save_fn[,&nbsp;file_format,&nbsp;…])</td>
<td>save_plot will save the figure to save_fn.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotResponse.update_plot" title="mtpy.modeling.ws3dinv.PlotResponse.update_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_plot</span></code></a>()</td>
<td>update any parameters that where changed using the built-in draw from canvas.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotResponse.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotResponse.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotResponse.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotResponse.plot_errorbar">
<code class="descname">plot_errorbar</code><span class="sig-paren">(</span><em>ax</em>, <em>period</em>, <em>data</em>, <em>error</em>, <em>color</em>, <em>marker</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotResponse.plot_errorbar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotResponse.plot_errorbar" title="Permalink to this definition">¶</a></dt>
<dd><p>convinience function to make an error bar instance</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotResponse.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotResponse.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotResponse.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotResponse.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn</em>, <em>file_format='pdf'</em>, <em>orientation='portrait'</em>, <em>fig_dpi=None</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotResponse.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotResponse.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_plot will save the figure to save_fn.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotResponse.update_plot">
<code class="descname">update_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotResponse.update_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotResponse.update_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>update any parameters that where changed using the built-in draw from
canvas.</p>
<p>Use this if you change an of the .fig or axes properties</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># to change the grid lines to only be on the major ticks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/occam2d/Inv1/data.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="n">dfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ps1</span><span class="o">.</span><span class="n">axrte</span><span class="p">,</span><span class="n">ps1</span><span class="o">.</span><span class="n">axtep</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ps1</span><span class="o">.</span><span class="n">update_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.PlotSlices">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">PlotSlices</code><span class="sig-paren">(</span><em>model_fn</em>, <em>data_fn=None</em>, <em>station_fn=None</em>, <em>initial_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotSlices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotSlices" title="Permalink to this definition">¶</a></dt>
<dd><p>plot all slices and be able to scroll through the model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/Test_model.00&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/WSStationLocations.txt&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># plot just first layer to check the formating        </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pds</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">PlotSlices</span><span class="p">(</span><span class="n">model_fn</span><span class="o">=</span><span class="n">mfn</span><span class="p">,</span> <span class="n">station_fn</span><span class="o">=</span><span class="n">sfn</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Buttons</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>‘e’</td>
<td>moves n-s slice east by one model block</td>
</tr>
<tr class="row-odd"><td>‘w’</td>
<td>moves n-s slice west by one model block</td>
</tr>
<tr class="row-even"><td>‘n’</td>
<td>moves e-w slice north by one model block</td>
</tr>
<tr class="row-odd"><td>‘m’</td>
<td>moves e-w slice south by one model block</td>
</tr>
<tr class="row-even"><td>‘d’</td>
<td>moves depth slice down by one model block</td>
</tr>
<tr class="row-odd"><td>‘u’</td>
<td>moves depth slice up by one model block</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ax_en</td>
<td>matplotlib.axes instance for depth slice  map view</td>
</tr>
<tr class="row-odd"><td>ax_ez</td>
<td>matplotlib.axes instance for e-w slice</td>
</tr>
<tr class="row-even"><td>ax_map</td>
<td>matplotlib.axes instance for location map</td>
</tr>
<tr class="row-odd"><td>ax_nz</td>
<td>matplotlib.axes instance for n-s slice</td>
</tr>
<tr class="row-even"><td>climits</td>
<td>(min , max) color limits on resistivity in log
scale. <em>default</em> is (0, 4)</td>
</tr>
<tr class="row-odd"><td>cmap</td>
<td>name of color map for resisitiviy.
<em>default</em> is ‘jet_r’</td>
</tr>
<tr class="row-even"><td>data_fn</td>
<td>full path to data file name</td>
</tr>
<tr class="row-odd"><td>dscale</td>
<td>scaling parameter depending on map_scale</td>
</tr>
<tr class="row-even"><td>east_line_xlist</td>
<td>list of line nodes of east grid for faster plotting</td>
</tr>
<tr class="row-odd"><td>east_line_ylist</td>
<td>list of line nodes of east grid for faster plotting</td>
</tr>
<tr class="row-even"><td>ew_limits</td>
<td>(min, max) limits of e-w in map_scale units
<em>default</em> is None and scales to station area</td>
</tr>
<tr class="row-odd"><td>fig</td>
<td>matplotlib.figure instance for figure</td>
</tr>
<tr class="row-even"><td>fig_aspect</td>
<td>aspect ratio of plots. <em>default</em> is 1</td>
</tr>
<tr class="row-odd"><td>fig_dpi</td>
<td>resolution of figure in dots-per-inch
<em>default</em> is 300</td>
</tr>
<tr class="row-even"><td>fig_num</td>
<td>figure instance number</td>
</tr>
<tr class="row-odd"><td>fig_size</td>
<td>[width, height] of figure window.
<em>default</em> is [6,6]</td>
</tr>
<tr class="row-even"><td>font_dict</td>
<td>dictionary of font keywords, internally created</td>
</tr>
<tr class="row-odd"><td>font_size</td>
<td>size of ticklables in points, axes labes are
font_size+2. <em>default</em> is 7</td>
</tr>
<tr class="row-even"><td>grid_east</td>
<td>relative location of grid nodes in e-w direction
in map_scale units</td>
</tr>
<tr class="row-odd"><td>grid_north</td>
<td>relative location of grid nodes in n-s direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>grid_z</td>
<td>relative location of grid nodes in z direction
in map_scale units</td>
</tr>
<tr class="row-odd"><td>index_east</td>
<td>index value of grid_east being plotted</td>
</tr>
<tr class="row-even"><td>index_north</td>
<td>index value of grid_north being plotted</td>
</tr>
<tr class="row-odd"><td>index_vertical</td>
<td>index value of grid_z being plotted</td>
</tr>
<tr class="row-even"><td>initial_fn</td>
<td>full path to initial file</td>
</tr>
<tr class="row-odd"><td>key_press</td>
<td>matplotlib.canvas.connect instance</td>
</tr>
<tr class="row-even"><td>map_scale</td>
<td>[ ‘m’ | ‘km’ ] scale of map. <em>default</em> is km</td>
</tr>
<tr class="row-odd"><td>mesh_east</td>
<td>np.meshgrid(grid_east, grid_north)[0]</td>
</tr>
<tr class="row-even"><td>mesh_en_east</td>
<td>np.meshgrid(grid_east, grid_north)[0]</td>
</tr>
<tr class="row-odd"><td>mesh_en_north</td>
<td>np.meshgrid(grid_east, grid_north)[1]</td>
</tr>
<tr class="row-even"><td>mesh_ez_east</td>
<td>np.meshgrid(grid_east, grid_z)[0]</td>
</tr>
<tr class="row-odd"><td>mesh_ez_vertical</td>
<td>np.meshgrid(grid_east, grid_z)[1]</td>
</tr>
<tr class="row-even"><td>mesh_north</td>
<td>np.meshgrid(grid_east, grid_north)[1]</td>
</tr>
<tr class="row-odd"><td>mesh_nz_north</td>
<td>np.meshgrid(grid_north, grid_z)[0]</td>
</tr>
<tr class="row-even"><td>mesh_nz_vertical</td>
<td>np.meshgrid(grid_north, grid_z)[1]</td>
</tr>
<tr class="row-odd"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-even"><td>ms</td>
<td>size of station markers in points. <em>default</em> is 2</td>
</tr>
<tr class="row-odd"><td>nodes_east</td>
<td>relative distance betwen nodes in e-w direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>nodes_north</td>
<td>relative distance betwen nodes in n-s direction
in map_scale units</td>
</tr>
<tr class="row-odd"><td>nodes_z</td>
<td>relative distance betwen nodes in z direction
in map_scale units</td>
</tr>
<tr class="row-even"><td>north_line_xlist</td>
<td>list of line nodes north grid for faster plotting</td>
</tr>
<tr class="row-odd"><td>north_line_ylist</td>
<td>list of line nodes north grid for faster plotting</td>
</tr>
<tr class="row-even"><td>ns_limits</td>
<td>(min, max) limits of plots in n-s direction
<em>default</em> is None, set veiwing area to station area</td>
</tr>
<tr class="row-odd"><td>plot_yn</td>
<td>[ ‘y’ | ‘n’ ] ‘y’ to plot on instantiation
<em>default</em> is ‘y’</td>
</tr>
<tr class="row-even"><td>res_model</td>
<td>np.ndarray(n_north, n_east, n_vertical) of
model resistivity values in linear scale</td>
</tr>
<tr class="row-odd"><td>station_color</td>
<td>color of station marker. <em>default</em> is black</td>
</tr>
<tr class="row-even"><td>station_dict_east</td>
<td>location of stations for each east grid row</td>
</tr>
<tr class="row-odd"><td>station_dict_north</td>
<td>location of stations for each north grid row</td>
</tr>
<tr class="row-even"><td>station_east</td>
<td>location of stations in east direction</td>
</tr>
<tr class="row-odd"><td>station_fn</td>
<td>full path to station file</td>
</tr>
<tr class="row-even"><td>station_font_color</td>
<td>color of station label</td>
</tr>
<tr class="row-odd"><td>station_font_pad</td>
<td>padding between station marker and label</td>
</tr>
<tr class="row-even"><td>station_font_rotation</td>
<td>angle of station label</td>
</tr>
<tr class="row-odd"><td>station_font_size</td>
<td>font size of station label</td>
</tr>
<tr class="row-even"><td>station_font_weight</td>
<td>weight of font for station label</td>
</tr>
<tr class="row-odd"><td>station_id</td>
<td>[min, max] index values for station labels</td>
</tr>
<tr class="row-even"><td>station_marker</td>
<td>station marker</td>
</tr>
<tr class="row-odd"><td>station_names</td>
<td>name of stations</td>
</tr>
<tr class="row-even"><td>station_north</td>
<td>location of stations in north direction</td>
</tr>
<tr class="row-odd"><td>subplot_bottom</td>
<td>distance between axes and bottom of figure window</td>
</tr>
<tr class="row-even"><td>subplot_hspace</td>
<td>distance between subplots in vertical direction</td>
</tr>
<tr class="row-odd"><td>subplot_left</td>
<td>distance between axes and left of figure window</td>
</tr>
<tr class="row-even"><td>subplot_right</td>
<td>distance between axes and right of figure window</td>
</tr>
<tr class="row-odd"><td>subplot_top</td>
<td>distance between axes and top of figure window</td>
</tr>
<tr class="row-even"><td>subplot_wspace</td>
<td>distance between subplots in horizontal direction</td>
</tr>
<tr class="row-odd"><td>title</td>
<td>title of plot</td>
</tr>
<tr class="row-even"><td>z_limits</td>
<td>(min, max) limits in vertical direction,</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotSlices.get_station_grid_locations" title="mtpy.modeling.ws3dinv.PlotSlices.get_station_grid_locations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_station_grid_locations</span></code></a>()</td>
<td>get the grid line on which a station resides for plotting</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotSlices.on_key_press" title="mtpy.modeling.ws3dinv.PlotSlices.on_key_press"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_key_press</span></code></a>(event)</td>
<td>on a key press change the slices</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotSlices.plot" title="mtpy.modeling.ws3dinv.PlotSlices.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plot:     east vs.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotSlices.read_files" title="mtpy.modeling.ws3dinv.PlotSlices.read_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_files</span></code></a>()</td>
<td>read in the files to get appropriate information</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotSlices.redraw_plot" title="mtpy.modeling.ws3dinv.PlotSlices.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraw plot if parameters were changed</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.PlotSlices.save_figure" title="mtpy.modeling.ws3dinv.PlotSlices.save_figure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_figure</span></code></a>([save_fn,&nbsp;fig_dpi,&nbsp;file_format,&nbsp;…])</td>
<td>save_figure will save the figure to save_fn.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotSlices.get_station_grid_locations">
<code class="descname">get_station_grid_locations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotSlices.get_station_grid_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotSlices.get_station_grid_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>get the grid line on which a station resides for plotting</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotSlices.on_key_press">
<code class="descname">on_key_press</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotSlices.on_key_press"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotSlices.on_key_press" title="Permalink to this definition">¶</a></dt>
<dd><p>on a key press change the slices</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotSlices.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotSlices.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotSlices.plot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>plot:</dt>
<dd>east vs. vertical,
north vs. vertical,
east vs. north</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotSlices.read_files">
<code class="descname">read_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotSlices.read_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotSlices.read_files" title="Permalink to this definition">¶</a></dt>
<dd><p>read in the files to get appropriate information</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotSlices.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotSlices.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotSlices.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraw plot if parameters were changed</p>
<p>use this function if you updated some attributes and want to re-plot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the color and marker of the xy components</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.occam2d</span> <span class="k">as</span> <span class="nn">occam2d</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ocd</span> <span class="o">=</span> <span class="n">occam2d</span><span class="o">.</span><span class="n">Occam2DData</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/occam2d/Data.dat&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">ocd</span><span class="o">.</span><span class="n">plotAllResponses</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#change line width</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">redraw_plot</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.PlotSlices.save_figure">
<code class="descname">save_figure</code><span class="sig-paren">(</span><em>save_fn=None</em>, <em>fig_dpi=None</em>, <em>file_format='pdf'</em>, <em>orientation='landscape'</em>, <em>close_fig='y'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#PlotSlices.save_figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.PlotSlices.save_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>save_figure will save the figure to save_fn.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.WSData">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSData</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSData" title="Permalink to this definition">¶</a></dt>
<dd><p>Includes tools for reading and writing data files intended to be used with
ws3dinv.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/EDI_Files&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">edi_path</span><span class="p">,</span> <span class="n">edi</span><span class="p">)</span> <span class="k">for</span> <span class="n">edi</span> <span class="ow">in</span> <span class="n">edi_path</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>         <span class="k">if</span> <span class="n">edi</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;.edi&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create an evenly space period list in log space</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="o">.</span><span class="mi">001</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsdata</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WSData</span><span class="p">(</span><span class="n">edi_list</span><span class="o">=</span><span class="n">edi_list</span><span class="p">,</span> <span class="n">period_list</span><span class="o">=</span><span class="n">p_list</span><span class="p">,</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                <span class="n">station_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/stations.txt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsdata</span><span class="o">.</span><span class="n">write_data_file</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>data</td>
<td><dl class="first last docutils">
<dt>numpy structured array with keys:</dt>
<dd><ul class="first last">
<li><p class="first"><em>station</em> –&gt; station name</p>
</li>
<li><dl class="first docutils">
<dt><em>east</em>    –&gt; relative eastern location in</dt>
<dd><p class="first last">grid</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>north</em>   –&gt; relative northern location in</dt>
<dd><p class="first last">grid</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>z_data</em>  –&gt; impedance tensor array with</dt>
<dd><blockquote class="first">
<div><p>shape</p>
</div></blockquote>
<p class="last">(n_stations, n_freq, 4, dtype=complex)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a href="#id5"><span class="problematic" id="id6">*</span></a>z_data_err–&gt; impedance tensor error without</dt>
<dd><p class="first last">error map applied</p>
</dd>
</dl>
</li>
<li><p class="first"><a href="#id7"><span class="problematic" id="id8">*</span></a>z_err_map –&gt; error map from data file</p>
</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-even"><td>edi_list</td>
<td>list of edi files used to make data file</td>
</tr>
<tr class="row-odd"><td>n_z</td>
<td>[ 4 | 8 ] number of impedance tensor elements
<em>default</em> is 8</td>
</tr>
<tr class="row-even"><td>ncol</td>
<td>number of columns in out file from winglink
<em>default</em> is 5</td>
</tr>
<tr class="row-odd"><td>period_list</td>
<td>list of periods to invert for</td>
</tr>
<tr class="row-even"><td>ptol</td>
<td>if periods in edi files don’t match period_list
then program looks for periods within ptol
<em>defualt</em> is .15 or 15 percent</td>
</tr>
<tr class="row-odd"><td>rotation_angle</td>
<td>Angle to rotate the data relative to north.  Here
the angle is measure clockwise from North,
Assuming North is 0 and East is 90.  Rotating data,
and grid to align with regional geoelectric strike
can improve the inversion. <em>default</em> is None</td>
</tr>
<tr class="row-even"><td>save_path</td>
<td>path to save the data file</td>
</tr>
<tr class="row-odd"><td>station_fn</td>
<td>full path to station file written by WSStation</td>
</tr>
<tr class="row-even"><td>station_locations</td>
<td><dl class="first docutils">
<dt>numpy structured array for station locations keys:</dt>
<dd><ul class="first last simple">
<li><em>station</em> –&gt; station name</li>
<li><dl class="first docutils">
<dt><em>east</em>    –&gt; relative eastern location in</dt>
<dd>grid</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>north</em>   –&gt; relative northern location in</dt>
<dd>grid</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p class="last">if input a station file is written</p>
</td>
</tr>
<tr class="row-odd"><td>station_east</td>
<td>relative locations of station in east direction</td>
</tr>
<tr class="row-even"><td>station_north</td>
<td>relative locations of station in north direction</td>
</tr>
<tr class="row-odd"><td>station_names</td>
<td>names of stations</td>
</tr>
<tr class="row-even"><td>units</td>
<td>[ ‘mv’ | ‘else’ ] units of Z, needs to be mv for
ws3dinv. <em>default</em> is ‘mv’</td>
</tr>
<tr class="row-odd"><td>wl_out_fn</td>
<td>Winglink .out file which describes a 3D grid</td>
</tr>
<tr class="row-even"><td>wl_site_fn</td>
<td>Wingling .sites file which gives station locations</td>
</tr>
<tr class="row-odd"><td>z_data</td>
<td>impedance tensors of data with shape:
(n_station, n_periods, 2, 2)</td>
</tr>
<tr class="row-even"><td>z_data_err</td>
<td>error of data impedance tensors with error map
applied, shape (n_stations, n_periods, 2, 2)</td>
</tr>
<tr class="row-odd"><td>z_err</td>
<td>[ float | ‘data’ ]
‘data’ to set errors as data errors or
give a percent error to impedance tensor elements
<em>default</em> is .05 or 5%  if given as percent, ie. 5%
then it is converted to .05.</td>
</tr>
<tr class="row-even"><td>z_err_floor</td>
<td>percent error floor, anything below this error will
be set to z_err_floor.  <em>default</em> is None</td>
</tr>
<tr class="row-odd"><td>z_err_map</td>
<td>[zxx, zxy, zyx, zyy] for n_z = 8
[zxy, zyx] for n_z = 4
Value in percent to multiply the error by, which
give the user power to down weight bad data, so
the resulting error will be z_err_map*z_err</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>build_data</td>
<td>builds the data from .edi files</td>
</tr>
<tr class="row-odd"><td>write_data_file</td>
<td>writes a data file from attribute data.  This way
you can read in a data file, change some parameters
and rewrite.</td>
</tr>
<tr class="row-even"><td>read_data_file</td>
<td>reads in a ws3dinv data file</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSData.build_data" title="mtpy.modeling.ws3dinv.WSData.build_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build_data</span></code></a>()</td>
<td>Builds the data from .edi files to be written into a data file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSData.compute_errors" title="mtpy.modeling.ws3dinv.WSData.compute_errors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_errors</span></code></a>()</td>
<td>compute the errors from the given attributes</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSData.read_data_file" title="mtpy.modeling.ws3dinv.WSData.read_data_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_data_file</span></code></a>([data_fn,&nbsp;wl_sites_fn,&nbsp;…])</td>
<td>read in data file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSData.write_data_file" title="mtpy.modeling.ws3dinv.WSData.write_data_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_data_file</span></code></a>(**kwargs)</td>
<td>Writes a data file based on the attribute data</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSData.build_data">
<code class="descname">build_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSData.build_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSData.build_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds the data from .edi files to be written into a data file</p>
<p>Need to call this if any parameters have been reset to write a 
correct data file.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSData.compute_errors">
<code class="descname">compute_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSData.compute_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSData.compute_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the errors from the given attributes</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSData.read_data_file">
<code class="descname">read_data_file</code><span class="sig-paren">(</span><em>data_fn=None</em>, <em>wl_sites_fn=None</em>, <em>station_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSData.read_data_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSData.read_data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read in data file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSData.write_data_file">
<code class="descname">write_data_file</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSData.write_data_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSData.write_data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a data file based on the attribute data</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtpy.modeling.ws3dinv.WSInputError">
<em class="property">exception </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSInputError</code><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSInputError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSInputError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.WSMesh">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSMesh</code><span class="sig-paren">(</span><em>edi_list=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSMesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSMesh" title="Permalink to this definition">¶</a></dt>
<dd><p>make and read a FE mesh grid</p>
<dl class="docutils">
<dt>The mesh assumes the coordinate system where:</dt>
<dd>x == North
y == East
z == + down</dd>
</dl>
<p>All dimensions are in meters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#1) make a list of all .edi files that will be inverted for </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_path</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/EDI_Files&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">edi_path</span><span class="p">,</span> <span class="n">edi</span><span class="p">)</span> <span class="k">for</span> <span class="n">edi</span> <span class="ow">in</span> <span class="n">edi_path</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>         <span class="k">if</span> <span class="n">edi</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;.edi&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#2) make a grid from the stations themselves with 200m cell spacing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WSMesh</span><span class="p">(</span><span class="n">edi_list</span><span class="o">=</span><span class="n">edi_list</span><span class="p">,</span> <span class="n">cell_size_east</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                <span class="n">cell_size_north</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span><span class="o">.</span><span class="n">make_mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># check to see if the mesh is what you think it should be</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span><span class="o">.</span><span class="n">plot_mesh</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># all is good write the mesh file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmesh</span><span class="o">.</span><span class="n">write_initial_file</span><span class="p">(</span><span class="n">save_path</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/ws3dinv/Inv1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cell_size_east</td>
<td>mesh block width in east direction
<em>default</em> is 500</td>
</tr>
<tr class="row-odd"><td>cell_size_north</td>
<td>mesh block width in north direction
<em>default</em> is 500</td>
</tr>
<tr class="row-even"><td>edi_list</td>
<td>list of .edi files to invert for</td>
</tr>
<tr class="row-odd"><td>grid_east</td>
<td>overall distance of grid nodes in east direction</td>
</tr>
<tr class="row-even"><td>grid_north</td>
<td>overall distance of grid nodes in north direction</td>
</tr>
<tr class="row-odd"><td>grid_z</td>
<td>overall distance of grid nodes in z direction</td>
</tr>
<tr class="row-even"><td>initial_fn</td>
<td>full path to initial file name</td>
</tr>
<tr class="row-odd"><td>n_layers</td>
<td>total number of vertical layers in model</td>
</tr>
<tr class="row-even"><td>nodes_east</td>
<td>relative distance between nodes in east direction</td>
</tr>
<tr class="row-odd"><td>nodes_north</td>
<td>relative distance between nodes in north direction</td>
</tr>
<tr class="row-even"><td>nodes_z</td>
<td>relative distance between nodes in east direction</td>
</tr>
<tr class="row-odd"><td>pad_east</td>
<td>number of cells for padding on E and W sides
<em>default</em> is 5</td>
</tr>
<tr class="row-even"><td>pad_north</td>
<td>number of cells for padding on S and N sides
<em>default</em> is 5</td>
</tr>
<tr class="row-odd"><td>pad_root_east</td>
<td>padding cells E &amp; W will be pad_root_east**(x)</td>
</tr>
<tr class="row-even"><td>pad_root_north</td>
<td>padding cells N &amp; S will be pad_root_north**(x)</td>
</tr>
<tr class="row-odd"><td>pad_z</td>
<td>number of cells for padding at bottom
<em>default</em> is 5</td>
</tr>
<tr class="row-even"><td>res_list</td>
<td>list of resistivity values for starting model</td>
</tr>
<tr class="row-odd"><td>res_model</td>
<td>starting resistivity model</td>
</tr>
<tr class="row-even"><td>rotation_angle</td>
<td>Angle to rotate the grid to. Angle is measured
positve clockwise assuming North is 0 and east is 90.
<em>default</em> is None</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>path to save file to</td>
</tr>
<tr class="row-even"><td>station_fn</td>
<td>full path to station file</td>
</tr>
<tr class="row-odd"><td>station_locations</td>
<td>location of stations</td>
</tr>
<tr class="row-even"><td>title</td>
<td>title in initial file</td>
</tr>
<tr class="row-odd"><td>z1_layer</td>
<td>first layer thickness</td>
</tr>
<tr class="row-even"><td>z_bottom</td>
<td>absolute bottom of the model <em>default</em> is 300,000</td>
</tr>
<tr class="row-odd"><td>z_target_depth</td>
<td>Depth of deepest target, <em>default</em> is 50,000</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>make_mesh</td>
<td>makes a mesh from the given specifications</td>
</tr>
<tr class="row-odd"><td>plot_mesh</td>
<td>plots mesh to make sure everything is good</td>
</tr>
<tr class="row-even"><td>write_initial_file</td>
<td>writes an initial model file that includes the mesh</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSMesh.convert_model_to_int" title="mtpy.modeling.ws3dinv.WSMesh.convert_model_to_int"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_model_to_int</span></code></a>()</td>
<td>convert the resistivity model that is in ohm-m to integer values corresponding to res_list</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSMesh.make_mesh" title="mtpy.modeling.ws3dinv.WSMesh.make_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_mesh</span></code></a>()</td>
<td>create finite element mesh according to parameters set.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSMesh.plot_mesh" title="mtpy.modeling.ws3dinv.WSMesh.plot_mesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mesh</span></code></a>([east_limits,&nbsp;north_limits,&nbsp;z_limits])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSMesh.read_initial_file" title="mtpy.modeling.ws3dinv.WSMesh.read_initial_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_initial_file</span></code></a>(initial_fn)</td>
<td>read an initial file and return the pertinent information including grid positions in coordinates relative to the center point (0,0) and  starting model.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSMesh.write_initial_file" title="mtpy.modeling.ws3dinv.WSMesh.write_initial_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_initial_file</span></code></a>(**kwargs)</td>
<td>will write an initial file for wsinv3d.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSMesh.convert_model_to_int">
<code class="descname">convert_model_to_int</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSMesh.convert_model_to_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSMesh.convert_model_to_int" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the resistivity model that is in ohm-m to integer values
corresponding to res_list</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSMesh.make_mesh">
<code class="descname">make_mesh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSMesh.make_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSMesh.make_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>create finite element mesh according to parameters set.</p>
<p>The mesh is built by first finding the center of the station area.  
Then cells are added in the north and east direction with width
cell_size_east and cell_size_north to the extremeties of the station 
area.  Padding cells are then added to extend the model to reduce 
edge effects.  The number of cells are pad_east and pad_north and the
increase in size is by pad_root_east and pad_root_north.  The station
locations are then computed as the center of the nearest cell as 
required by the code.</p>
<p>The vertical cells are built to increase in size exponentially with
depth.  The first cell depth is first_layer_thickness and should be
about 1/10th the shortest skin depth.  The layers then increase
on a log scale to z_target_depth.  Then the model is
padded with pad_z number of cells to extend the depth of the model.</p>
<dl class="docutils">
<dt>padding = np.round(cell_size_east*pad_root_east**np.arange(start=.5,</dt>
<dd>stop=3, step=3./pad_east))+west</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSMesh.plot_mesh">
<code class="descname">plot_mesh</code><span class="sig-paren">(</span><em>east_limits=None</em>, <em>north_limits=None</em>, <em>z_limits=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSMesh.plot_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSMesh.plot_mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSMesh.read_initial_file">
<code class="descname">read_initial_file</code><span class="sig-paren">(</span><em>initial_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSMesh.read_initial_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSMesh.read_initial_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read an initial file and return the pertinent information including
grid positions in coordinates relative to the center point (0,0) and 
starting model.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSMesh.write_initial_file">
<code class="descname">write_initial_file</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSMesh.write_initial_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSMesh.write_initial_file" title="Permalink to this definition">¶</a></dt>
<dd><p>will write an initial file for wsinv3d.</p>
<p>Note that x is assumed to be S –&gt; N, y is assumed to be W –&gt; E and
z is positive downwards.  This means that index [0, 0, 0] is the 
southwest corner of the first layer.  Therefore if you build a model
by hand the layer block will look as it should in map view.</p>
<p>Also, the xgrid, ygrid and zgrid are assumed to be the relative 
distance between neighboring nodes.  This is needed because wsinv3d 
builds the  model from the bottom SW corner assuming the cell width
from the init file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.WSModel">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSModel</code><span class="sig-paren">(</span><em>model_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in model file and fills necessary attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/ws3dinv/test_model.00&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmodel</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WSModel</span><span class="p">(</span><span class="n">mfn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wsmodel</span><span class="o">.</span><span class="n">write_vtk_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/ParaviewFiles&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>grid_east</td>
<td>overall distance of grid nodes in east direction</td>
</tr>
<tr class="row-odd"><td>grid_north</td>
<td>overall distance of grid nodes in north direction</td>
</tr>
<tr class="row-even"><td>grid_z</td>
<td>overall distance of grid nodes in z direction</td>
</tr>
<tr class="row-odd"><td>iteration_number</td>
<td>iteration number of the inversion</td>
</tr>
<tr class="row-even"><td>lagrange</td>
<td>lagrange multiplier</td>
</tr>
<tr class="row-odd"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-even"><td>nodes_east</td>
<td>relative distance between nodes in east direction</td>
</tr>
<tr class="row-odd"><td>nodes_north</td>
<td>relative distance between nodes in north direction</td>
</tr>
<tr class="row-even"><td>nodes_z</td>
<td>relative distance between nodes in east direction</td>
</tr>
<tr class="row-odd"><td>res_model</td>
<td>starting resistivity model</td>
</tr>
<tr class="row-even"><td>rms</td>
<td>root mean squared error of data and model</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>read_model_file</td>
<td>read model file and fill attributes</td>
</tr>
<tr class="row-odd"><td>write_vtk_file</td>
<td>write a vtk structured grid file for resistivity
model</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModel.read_model_file" title="mtpy.modeling.ws3dinv.WSModel.read_model_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_model_file</span></code></a>()</td>
<td>read in a model file as x-north, y-east, z-positive down</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModel.write_vtk_file" title="mtpy.modeling.ws3dinv.WSModel.write_vtk_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_vtk_file</span></code></a>(save_fn)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModel.read_model_file">
<code class="descname">read_model_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModel.read_model_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModel.read_model_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read in a model file as x-north, y-east, z-positive down</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModel.write_vtk_file">
<code class="descname">write_vtk_file</code><span class="sig-paren">(</span><em>save_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModel.write_vtk_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModel.write_vtk_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSModelManipulator</code><span class="sig-paren">(</span><em>model_fn=None</em>, <em>initial_fn=None</em>, <em>data_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator" title="Permalink to this definition">¶</a></dt>
<dd><p>will plot a model from wsinv3d or init file so the user can manipulate the 
resistivity values relatively easily.  At the moment only plotted
in map view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">::
&gt;&gt;&gt; import mtpy.modeling.ws3dinv as ws
&gt;&gt;&gt; initial_fn = r”/home/MT/ws3dinv/Inv1/WSInitialFile”
&gt;&gt;&gt; mm = ws.WSModelManipulator(initial_fn=initial_fn)</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Buttons</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>‘=’</td>
<td>increase depth to next vertical node (deeper)</td>
</tr>
<tr class="row-odd"><td>‘-‘</td>
<td>decrease depth to next vertical node (shallower)</td>
</tr>
<tr class="row-even"><td>‘q’</td>
<td>quit the plot, rewrites initial file when pressed</td>
</tr>
<tr class="row-odd"><td>‘a’</td>
<td>copies the above horizontal layer to the present layer</td>
</tr>
<tr class="row-even"><td>‘b’</td>
<td>copies the below horizonal layer to present layer</td>
</tr>
<tr class="row-odd"><td>‘u’</td>
<td>undo previous change</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ax1</td>
<td>matplotlib.axes instance for mesh plot of the model</td>
</tr>
<tr class="row-odd"><td>ax2</td>
<td>matplotlib.axes instance of colorbar</td>
</tr>
<tr class="row-even"><td>cb</td>
<td>matplotlib.colorbar instance for colorbar</td>
</tr>
<tr class="row-odd"><td>cid_depth</td>
<td>matplotlib.canvas.connect for depth</td>
</tr>
<tr class="row-even"><td>cmap</td>
<td>matplotlib.colormap instance</td>
</tr>
<tr class="row-odd"><td>cmax</td>
<td>maximum value of resistivity for colorbar. (linear)</td>
</tr>
<tr class="row-even"><td>cmin</td>
<td>minimum value of resistivity for colorbar (linear)</td>
</tr>
<tr class="row-odd"><td>data_fn</td>
<td>full path fo data file</td>
</tr>
<tr class="row-even"><td>depth_index</td>
<td>integer value of depth slice for plotting</td>
</tr>
<tr class="row-odd"><td>dpi</td>
<td>resolution of figure in dots-per-inch</td>
</tr>
<tr class="row-even"><td>dscale</td>
<td>depth scaling, computed internally</td>
</tr>
<tr class="row-odd"><td>east_line_xlist</td>
<td>list of east mesh lines for faster plotting</td>
</tr>
<tr class="row-even"><td>east_line_ylist</td>
<td>list of east mesh lines for faster plotting</td>
</tr>
<tr class="row-odd"><td>fdict</td>
<td>dictionary of font properties</td>
</tr>
<tr class="row-even"><td>fig</td>
<td>matplotlib.figure instance</td>
</tr>
<tr class="row-odd"><td>fig_num</td>
<td>number of figure instance</td>
</tr>
<tr class="row-even"><td>fig_size</td>
<td>size of figure in inches</td>
</tr>
<tr class="row-odd"><td>font_size</td>
<td>size of font in points</td>
</tr>
<tr class="row-even"><td>grid_east</td>
<td>location of east nodes in relative coordinates</td>
</tr>
<tr class="row-odd"><td>grid_north</td>
<td>location of north nodes in relative coordinates</td>
</tr>
<tr class="row-even"><td>grid_z</td>
<td>location of vertical nodes in relative coordinates</td>
</tr>
<tr class="row-odd"><td>initial_fn</td>
<td>full path to initial file</td>
</tr>
<tr class="row-even"><td>m_height</td>
<td>mean height of horizontal cells</td>
</tr>
<tr class="row-odd"><td>m_width</td>
<td>mean width of horizontal cells</td>
</tr>
<tr class="row-even"><td>map_scale</td>
<td>[ ‘m’ | ‘km’ ] scale of map</td>
</tr>
<tr class="row-odd"><td>mesh_east</td>
<td>np.meshgrid of east, north</td>
</tr>
<tr class="row-even"><td>mesh_north</td>
<td>np.meshgrid of east, north</td>
</tr>
<tr class="row-odd"><td>mesh_plot</td>
<td>matplotlib.axes.pcolormesh instance</td>
</tr>
<tr class="row-even"><td>model_fn</td>
<td>full path to model file</td>
</tr>
<tr class="row-odd"><td>new_initial_fn</td>
<td>full path to new initial file</td>
</tr>
<tr class="row-even"><td>nodes_east</td>
<td>spacing between east nodes</td>
</tr>
<tr class="row-odd"><td>nodes_north</td>
<td>spacing between north nodes</td>
</tr>
<tr class="row-even"><td>nodes_z</td>
<td>spacing between vertical nodes</td>
</tr>
<tr class="row-odd"><td>north_line_xlist</td>
<td>list of coordinates of north nodes for faster plotting</td>
</tr>
<tr class="row-even"><td>north_line_ylist</td>
<td>list of coordinates of north nodes for faster plotting</td>
</tr>
<tr class="row-odd"><td>plot_yn</td>
<td>[ ‘y’ | ‘n’ ] plot on instantiation</td>
</tr>
<tr class="row-even"><td>radio_res</td>
<td>matplotlib.widget.radio instance for change resistivity</td>
</tr>
<tr class="row-odd"><td>rect_selector</td>
<td>matplotlib.widget.rect_selector</td>
</tr>
<tr class="row-even"><td>res</td>
<td>np.ndarray(nx, ny, nz) for model in linear resistivity</td>
</tr>
<tr class="row-odd"><td>res_copy</td>
<td>copy of res for undo</td>
</tr>
<tr class="row-even"><td>res_dict</td>
<td>dictionary of segmented resistivity values</td>
</tr>
<tr class="row-odd"><td>res_list</td>
<td>list of resistivity values for model linear scale</td>
</tr>
<tr class="row-even"><td>res_model</td>
<td>np.ndarray(nx, ny, nz) of resistivity values from
res_list (linear scale)</td>
</tr>
<tr class="row-odd"><td>res_model_int</td>
<td>np.ndarray(nx, ny, nz) of integer values corresponding
to res_list for initial model</td>
</tr>
<tr class="row-even"><td>res_value</td>
<td>current resistivty value of radio_res</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>path to save initial file to</td>
</tr>
<tr class="row-even"><td>station_east</td>
<td>station locations in east direction</td>
</tr>
<tr class="row-odd"><td>station_north</td>
<td>station locations in north direction</td>
</tr>
<tr class="row-even"><td>xlimits</td>
<td>limits of plot in e-w direction</td>
</tr>
<tr class="row-odd"><td>ylimits</td>
<td>limits of plot in n-s direction</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.change_model_res" title="mtpy.modeling.ws3dinv.WSModelManipulator.change_model_res"><code class="xref py py-obj docutils literal notranslate"><span class="pre">change_model_res</span></code></a>(xchange,&nbsp;ychange)</td>
<td>change resistivity values of resistivity model</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.convert_model_to_int" title="mtpy.modeling.ws3dinv.WSModelManipulator.convert_model_to_int"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_model_to_int</span></code></a>()</td>
<td>convert the resistivity model that is in ohm-m to integer values corresponding to res_list</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.convert_res_to_model" title="mtpy.modeling.ws3dinv.WSModelManipulator.convert_res_to_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_res_to_model</span></code></a>(res_array)</td>
<td>converts an output model into an array of segmented valued according to res_list.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.plot" title="mtpy.modeling.ws3dinv.WSModelManipulator.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>()</td>
<td>plots the model with:     -a radio dial for depth slice      -radio dial for resistivity value</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.read_file" title="mtpy.modeling.ws3dinv.WSModelManipulator.read_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_file</span></code></a>()</td>
<td>reads in initial file or model file and set attributes:     -resmodel     -northrid     -eastrid     -zgrid     -res_list if initial file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.rect_onselect" title="mtpy.modeling.ws3dinv.WSModelManipulator.rect_onselect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rect_onselect</span></code></a>(eclick,&nbsp;erelease)</td>
<td>on selecting a rectangle change the colors to the resistivity values</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.redraw_plot" title="mtpy.modeling.ws3dinv.WSModelManipulator.redraw_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redraw_plot</span></code></a>()</td>
<td>redraws the plot</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.rewrite_initial_file" title="mtpy.modeling.ws3dinv.WSModelManipulator.rewrite_initial_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rewrite_initial_file</span></code></a>([save_path])</td>
<td>write an initial file for wsinv3d from the model created.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSModelManipulator.set_res_list" title="mtpy.modeling.ws3dinv.WSModelManipulator.set_res_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_res_list</span></code></a>(res_list)</td>
<td>on setting res_list also set the res_dict to correspond</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_res_value</span></code>(label)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.change_model_res">
<code class="descname">change_model_res</code><span class="sig-paren">(</span><em>xchange</em>, <em>ychange</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.change_model_res"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.change_model_res" title="Permalink to this definition">¶</a></dt>
<dd><p>change resistivity values of resistivity model</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.convert_model_to_int">
<code class="descname">convert_model_to_int</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.convert_model_to_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.convert_model_to_int" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the resistivity model that is in ohm-m to integer values
corresponding to res_list</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.convert_res_to_model">
<code class="descname">convert_res_to_model</code><span class="sig-paren">(</span><em>res_array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.convert_res_to_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.convert_res_to_model" title="Permalink to this definition">¶</a></dt>
<dd><p>converts an output model into an array of segmented valued according
to res_list.</p>
<p>output is an array of segemented resistivity values in ohm-m (linear)</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.plot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>plots the model with:</dt>
<dd>-a radio dial for depth slice 
-radio dial for resistivity value</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.read_file">
<code class="descname">read_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.read_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.read_file" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>reads in initial file or model file and set attributes:</dt>
<dd>-resmodel
-northrid
-eastrid
-zgrid
-res_list if initial file</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.rect_onselect">
<code class="descname">rect_onselect</code><span class="sig-paren">(</span><em>eclick</em>, <em>erelease</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.rect_onselect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.rect_onselect" title="Permalink to this definition">¶</a></dt>
<dd><p>on selecting a rectangle change the colors to the resistivity values</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.redraw_plot">
<code class="descname">redraw_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.redraw_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.redraw_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>redraws the plot</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.rewrite_initial_file">
<code class="descname">rewrite_initial_file</code><span class="sig-paren">(</span><em>save_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.rewrite_initial_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.rewrite_initial_file" title="Permalink to this definition">¶</a></dt>
<dd><p>write an initial file for wsinv3d from the model created.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSModelManipulator.set_res_list">
<code class="descname">set_res_list</code><span class="sig-paren">(</span><em>res_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSModelManipulator.set_res_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSModelManipulator.set_res_list" title="Permalink to this definition">¶</a></dt>
<dd><p>on setting res_list also set the res_dict to correspond</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.WSResponse">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSResponse</code><span class="sig-paren">(</span><em>resp_fn=None</em>, <em>station_fn=None</em>, <em>wl_station_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>class to deal with .resp file output by ws3dinv</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>n_z</td>
<td>number of vertical layers</td>
</tr>
<tr class="row-odd"><td>period_list</td>
<td>list of periods inverted for</td>
</tr>
<tr class="row-even"><td>resp</td>
<td><dl class="first last docutils">
<dt>np.ndarray structured with keys:</dt>
<dd><ul class="first last">
<li><p class="first"><em>station</em> –&gt; station name</p>
</li>
<li><dl class="first docutils">
<dt><em>east</em>    –&gt; relative eastern location in</dt>
<dd><p class="first last">grid</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>north</em>   –&gt; relative northern location in</dt>
<dd><p class="first last">grid</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em>z_resp</em>  –&gt; impedance tensor array</dt>
<dd><blockquote class="first">
<div><p>of response with shape</p>
</div></blockquote>
<p class="last">(n_stations, n_freq, 4, dtype=complex)</p>
</dd>
</dl>
</li>
<li><p class="first"><a href="#id9"><span class="problematic" id="id10">*</span></a>z_resp_err–&gt; response impedance tensor error</p>
</li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>resp_fn</td>
<td>full path to response file</td>
</tr>
<tr class="row-even"><td>station_east</td>
<td>location of stations in east direction</td>
</tr>
<tr class="row-odd"><td>station_fn</td>
<td>full path to station file written by WSStation</td>
</tr>
<tr class="row-even"><td>station_names</td>
<td>names of stations</td>
</tr>
<tr class="row-odd"><td>station_north</td>
<td>location of stations in north direction</td>
</tr>
<tr class="row-even"><td>units</td>
<td>[ ‘mv’ | ‘other’ ] units of impedance tensor</td>
</tr>
<tr class="row-odd"><td>wl_sites_fn</td>
<td>full path to .sites file from Winglink</td>
</tr>
<tr class="row-even"><td>z_resp</td>
<td>impedance tensors of response with shape
(n_stations, n_periods, 2, 2)</td>
</tr>
<tr class="row-odd"><td>z_resp_err</td>
<td>impedance tensors errors of response with shape
(n_stations, n_periods, 2, 2) (zeros)</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>read_resp_file</td>
<td>read response file and fill attributes</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSResponse.read_resp_file" title="mtpy.modeling.ws3dinv.WSResponse.read_resp_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_resp_file</span></code></a>([resp_fn,&nbsp;wl_sites_fn,&nbsp;…])</td>
<td>read in data file</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSResponse.read_resp_file">
<code class="descname">read_resp_file</code><span class="sig-paren">(</span><em>resp_fn=None</em>, <em>wl_sites_fn=None</em>, <em>station_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSResponse.read_resp_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSResponse.read_resp_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read in data file</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.WSStartup">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSStartup</code><span class="sig-paren">(</span><em>data_fn=None</em>, <em>initial_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStartup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStartup" title="Permalink to this definition">¶</a></dt>
<dd><p>read and write startup files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.modeling.ws3dinv</span> <span class="k">as</span> <span class="nn">ws</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/WSDataFile.dat&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ifn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/MT/ws3dinv/Inv1/init3d&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">ws</span><span class="o">.</span><span class="n">WSStartup</span><span class="p">(</span><span class="n">data_fn</span><span class="o">=</span><span class="n">dfn</span><span class="p">,</span> <span class="n">initial_fn</span><span class="o">=</span><span class="n">ifn</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>apriori_fn</td>
<td>full path to <em>a priori</em> model file
<em>default</em> is ‘default’</td>
</tr>
<tr class="row-odd"><td>control_fn</td>
<td>full path to model index control file
<em>default</em> is ‘default’</td>
</tr>
<tr class="row-even"><td>data_fn</td>
<td>full path to data file</td>
</tr>
<tr class="row-odd"><td>error_tol</td>
<td>error tolerance level
<em>default</em> is ‘default’</td>
</tr>
<tr class="row-even"><td>initial_fn</td>
<td>full path to initial model file</td>
</tr>
<tr class="row-odd"><td>lagrange</td>
<td>starting lagrange multiplier
<em>default</em> is ‘default’</td>
</tr>
<tr class="row-even"><td>max_iter</td>
<td>max number of iterations
<em>default</em> is 10</td>
</tr>
<tr class="row-odd"><td>model_ls</td>
<td>model length scale
<em>default</em> is 5 0.3 0.3 0.3</td>
</tr>
<tr class="row-even"><td>output_stem</td>
<td>output file name stem
<em>default</em> is ‘ws3dinv’</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>directory to save file to</td>
</tr>
<tr class="row-even"><td>startup_fn</td>
<td>full path to startup file</td>
</tr>
<tr class="row-odd"><td>static_fn</td>
<td>full path to statics file
<em>default</em> is ‘default’</td>
</tr>
<tr class="row-even"><td>target_rms</td>
<td>target rms
<em>default</em> is 1.0</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSStartup.read_startup_file" title="mtpy.modeling.ws3dinv.WSStartup.read_startup_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_startup_file</span></code></a>([startup_fn])</td>
<td>read startup file fills attributes</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSStartup.write_startup_file" title="mtpy.modeling.ws3dinv.WSStartup.write_startup_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_startup_file</span></code></a>()</td>
<td>makes a startup file for WSINV3D.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSStartup.read_startup_file">
<code class="descname">read_startup_file</code><span class="sig-paren">(</span><em>startup_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStartup.read_startup_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStartup.read_startup_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read startup file fills attributes</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSStartup.write_startup_file">
<code class="descname">write_startup_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStartup.write_startup_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStartup.write_startup_file" title="Permalink to this definition">¶</a></dt>
<dd><p>makes a startup file for WSINV3D.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.modeling.ws3dinv.WSStation">
<em class="property">class </em><code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">WSStation</code><span class="sig-paren">(</span><em>station_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStation" title="Permalink to this definition">¶</a></dt>
<dd><p>read and write a station file where the locations are relative to the 
3D mesh.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>east</td>
<td>array of relative locations in east direction</td>
</tr>
<tr class="row-odd"><td>elev</td>
<td>array of elevations for each station</td>
</tr>
<tr class="row-even"><td>names</td>
<td>array of station names</td>
</tr>
<tr class="row-odd"><td>north</td>
<td>array of relative locations in north direction</td>
</tr>
<tr class="row-even"><td>station_fn</td>
<td>full path to station file</td>
</tr>
<tr class="row-odd"><td>save_path</td>
<td>path to save file to</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>read_station_file</td>
<td>reads in a station file</td>
</tr>
<tr class="row-odd"><td>write_station_file</td>
<td>writes a station file</td>
</tr>
<tr class="row-even"><td>write_vtk_file</td>
<td>writes a vtk points file for station locations</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSStation.from_wl_write_station_file" title="mtpy.modeling.ws3dinv.WSStation.from_wl_write_station_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_wl_write_station_file</span></code></a>(sites_file,&nbsp;out_file)</td>
<td>write a ws station file from the outputs of winglink</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSStation.read_station_file" title="mtpy.modeling.ws3dinv.WSStation.read_station_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_station_file</span></code></a>([station_fn])</td>
<td>read in station file written by write_station_file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSStation.write_station_file" title="mtpy.modeling.ws3dinv.WSStation.write_station_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_station_file</span></code></a>([east,&nbsp;north,&nbsp;…])</td>
<td>write a station file to go with the data file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.modeling.ws3dinv.WSStation.write_vtk_file" title="mtpy.modeling.ws3dinv.WSStation.write_vtk_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_vtk_file</span></code></a>(save_path[,&nbsp;vtk_basename])</td>
<td>write a vtk file to plot stations</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSStation.from_wl_write_station_file">
<code class="descname">from_wl_write_station_file</code><span class="sig-paren">(</span><em>sites_file</em>, <em>out_file</em>, <em>ncol=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStation.from_wl_write_station_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStation.from_wl_write_station_file" title="Permalink to this definition">¶</a></dt>
<dd><p>write a ws station file from the outputs of winglink</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSStation.read_station_file">
<code class="descname">read_station_file</code><span class="sig-paren">(</span><em>station_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStation.read_station_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStation.read_station_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read in station file written by write_station_file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSStation.write_station_file">
<code class="descname">write_station_file</code><span class="sig-paren">(</span><em>east=None</em>, <em>north=None</em>, <em>station_list=None</em>, <em>save_path=None</em>, <em>elev=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStation.write_station_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStation.write_station_file" title="Permalink to this definition">¶</a></dt>
<dd><p>write a station file to go with the data file.</p>
<p>the locations are on a relative grid where (0, 0, 0) is the 
center of the grid.  Also, the stations are assumed to be in the center
of the cell.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.modeling.ws3dinv.WSStation.write_vtk_file">
<code class="descname">write_vtk_file</code><span class="sig-paren">(</span><em>save_path</em>, <em>vtk_basename='VTKStations'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#WSStation.write_vtk_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.WSStation.write_vtk_file" title="Permalink to this definition">¶</a></dt>
<dd><p>write a vtk file to plot stations</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.ws3dinv.cmap_discretize">
<code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">cmap_discretize</code><span class="sig-paren">(</span><em>cmap</em>, <em>N</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#cmap_discretize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.cmap_discretize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a discrete colormap from the continuous colormap cmap.</p>
<blockquote>
<div>cmap: colormap instance, eg. cm.jet. 
N: number of colors.</div></blockquote>
<dl class="docutils">
<dt>Example</dt>
<dd>x = resize(arange(100), (5,100))
djet = cmap_discretize(cm.jet, 5)
imshow(x, cmap=djet)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.ws3dinv.computeMemoryUsage">
<code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">computeMemoryUsage</code><span class="sig-paren">(</span><em>nx</em>, <em>ny</em>, <em>nz</em>, <em>n_stations</em>, <em>n_zelements</em>, <em>n_period</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#computeMemoryUsage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.computeMemoryUsage" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the memory usage of a model</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.ws3dinv.estimate_skin_depth">
<code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">estimate_skin_depth</code><span class="sig-paren">(</span><em>res_model</em>, <em>grid_z</em>, <em>period</em>, <em>dscale=1000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#estimate_skin_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.estimate_skin_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>estimate the skin depth from the resistivity model assuming that</p>
<blockquote>
<div>delta_skin ~ 500 * sqrt(rho_a*T)</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.ws3dinv.write_vtk_files">
<code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">write_vtk_files</code><span class="sig-paren">(</span><em>model_fn</em>, <em>station_fn</em>, <em>save_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#write_vtk_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.write_vtk_files" title="Permalink to this definition">¶</a></dt>
<dd><p>writes vtk files</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.ws3dinv.write_vtk_res_model">
<code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">write_vtk_res_model</code><span class="sig-paren">(</span><em>res_model</em>, <em>grid_north</em>, <em>grid_east</em>, <em>grid_z</em>, <em>save_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#write_vtk_res_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.write_vtk_res_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a vtk file for resistivity as a structured grid 
to be read into paraview or mayavi</p>
<p><strong>Doesn’t work properly under windows</strong></p>
<p>adds extension automatically</p>
</dd></dl>

<dl class="function">
<dt id="mtpy.modeling.ws3dinv.write_vtk_stations">
<code class="descclassname">mtpy.modeling.ws3dinv.</code><code class="descname">write_vtk_stations</code><span class="sig-paren">(</span><em>station_north</em>, <em>station_east</em>, <em>save_fn</em>, <em>station_z=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/modeling/ws3dinv.html#write_vtk_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.modeling.ws3dinv.write_vtk_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a vtk file as points to be read into paraview or mayavi</p>
<p><strong>Doesn’t work properly under windows</strong></p>
<p>adds extension automatically</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="master_doc.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Modeling</a><ul>
<li><a class="reference internal" href="#module-modem"><strong>Module ModEM</strong></a></li>
<li><a class="reference internal" href="#module-occam-1d"><strong>Module Occam 1D</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-occam-2d"><strong>Module Occam 2D</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-winglink"><strong>Module Winglink</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-mtpy.modeling.ws3dinv"><strong>Module WS3DINV</strong></a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/modeling.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="master_doc.html">mtpy 1.01.01 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Geoscience Australia.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.
    </div>
  </body>
</html>