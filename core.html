
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Core: &#8212; mtpy 1.01.01 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to MTpy’s documentation!" href="master_doc.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="master_doc.html" title="Welcome to MTpy’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="master_doc.html">mtpy 1.01.01 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="core">
<h1>Core:<a class="headerlink" href="#core" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mtpy.core.z">
<span id="module-z"></span><h2><strong>Module z</strong><a class="headerlink" href="#module-mtpy.core.z" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-Z"></span><dl class="exception">
<dt id="mtpy.core.z.MT_Z_Error">
<em class="property">exception </em><code class="descclassname">mtpy.core.z.</code><code class="descname">MT_Z_Error</code><a class="reference internal" href="_modules/mtpy/core/z.html#MT_Z_Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.MT_Z_Error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mtpy.core.z.ResPhase">
<em class="property">class </em><code class="descclassname">mtpy.core.z.</code><code class="descname">ResPhase</code><span class="sig-paren">(</span><em>z_array=None</em>, <em>z_err_array=None</em>, <em>freq=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#ResPhase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.ResPhase" title="Permalink to this definition">¶</a></dt>
<dd><p>resistivity and phase container</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_det</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_det_err</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_xx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_xy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_yx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_yy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_xx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_xy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_yx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_yy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_det</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_det_err</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_xx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_xy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_yx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_yy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_xx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_xy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_yx</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_yy</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">resistivity</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">resistivity_err</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.ResPhase.compute_resistivity_phase" title="mtpy.core.z.ResPhase.compute_resistivity_phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_resistivity_phase</span></code></a>([z_array,&nbsp;…])</td>
<td>compute resistivity and phase from z and z_err</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.ResPhase.set_res_phase" title="mtpy.core.z.ResPhase.set_res_phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_res_phase</span></code></a>(res_array,&nbsp;phase_array,&nbsp;freq)</td>
<td>Set values for resistivity (res - in Ohm m) and phase (phase - in degrees), including error propagation.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.z.ResPhase.compute_resistivity_phase">
<code class="descname">compute_resistivity_phase</code><span class="sig-paren">(</span><em>z_array=None</em>, <em>z_err_array=None</em>, <em>freq=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#ResPhase.compute_resistivity_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.ResPhase.compute_resistivity_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>compute resistivity and phase from z and z_err</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.ResPhase.set_res_phase">
<code class="descname">set_res_phase</code><span class="sig-paren">(</span><em>res_array</em>, <em>phase_array</em>, <em>freq</em>, <em>res_err_array=None</em>, <em>phase_err_array=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#ResPhase.set_res_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.ResPhase.set_res_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Set values for resistivity (res - in Ohm m) and phase
(phase - in degrees), including error propagation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>res_array</strong> (<em>np.ndarray</em><em>(</em><em>num_freq</em><em>, </em><em>2</em><em>, </em><em>2</em><em>)</em>) – resistivity array in Ohm-m</li>
<li><strong>phase_array</strong> (<em>np.ndarray</em><em>(</em><em>num_freq</em><em>, </em><em>2</em><em>, </em><em>2</em><em>)</em>) – phase array in degrees</li>
<li><strong>freq</strong> (<em>np.ndarray</em><em>(</em><em>num_freq</em><em>)</em>) – frequency array in Hz</li>
<li><strong>res_err_array</strong> (<em>np.ndarray</em><em>(</em><em>num_freq</em><em>, </em><em>2</em><em>, </em><em>2</em><em>)</em>) – resistivity error array in Ohm-m</li>
<li><strong>phase_err_array</strong> (<em>np.ndarray</em><em>(</em><em>num_freq</em><em>, </em><em>2</em><em>, </em><em>2</em><em>)</em>) – phase error array in degrees</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.z.Tipper">
<em class="property">class </em><code class="descclassname">mtpy.core.z.</code><code class="descname">Tipper</code><span class="sig-paren">(</span><em>tipper_array=None</em>, <em>tipper_err_array=None</em>, <em>freq=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Tipper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Tipper" title="Permalink to this definition">¶</a></dt>
<dd><p>Tipper class –&gt; generates a Tipper-object.</p>
<p>Errors are given as standard deviations (sqrt(VAR))</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tipper_array</strong> (<em>np.ndarray</em><em>(</em><em>(</em><em>nf</em><em>, </em><em>1</em><em>, </em><em>2</em><em>)</em><em>, </em><em>dtype='complex'</em><em>)</em>) – tipper array in the shape of [Tx, Ty]
<em>default</em> is None</li>
<li><strong>tipper_err_array</strong> (<em>np.ndarray</em><em>(</em><em>(</em><em>nf</em><em>, </em><em>1</em><em>, </em><em>2</em><em>)</em><em>)</em>) – array of estimated tipper errors
in the shape of [Tx, Ty].
Must be the same shape as tipper_array.
<em>default</em> is None</li>
<li><strong>freq</strong> (<em>np.ndarray</em><em>(</em><em>nf</em><em>)</em>) – array of frequencies corresponding to the tipper elements.
Must be same length as tipper_array.
<em>default</em> is None</li>
</ul>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>freq</td>
<td>array of frequencies corresponding to elements of z</td>
</tr>
<tr class="row-odd"><td>rotation_angle</td>
<td>angle of which data is rotated by</td>
</tr>
<tr class="row-even"><td>tipper</td>
<td>tipper array</td>
</tr>
<tr class="row-odd"><td>tipper_err</td>
<td>tipper error array</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mag_direction</td>
<td>computes magnitude and direction of real and imaginary
induction arrows.</td>
</tr>
<tr class="row-odd"><td>amp_phase</td>
<td>computes amplitude and phase of Tx and Ty.</td>
</tr>
<tr class="row-even"><td>rotate</td>
<td>rotates the data by the given angle</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">amplitude</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">amplitude_err</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">angle_err</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">angle_imag</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">angle_real</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">freq</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">mag_err</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">mag_imag</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">mag_real</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">tipper</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">tipper_err</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Tipper.compute_amp_phase" title="mtpy.core.z.Tipper.compute_amp_phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_amp_phase</span></code></a>()</td>
<td>Sets attributes:                 * <em>amplitude</em>                 * <em>phase</em>                 * <em>amplitude_err</em>                 * <em>phase_err</em></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Tipper.compute_mag_direction" title="mtpy.core.z.Tipper.compute_mag_direction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_mag_direction</span></code></a>()</td>
<td>computes the magnitude and direction of the real and imaginary induction vectors.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Tipper.rotate" title="mtpy.core.z.Tipper.rotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rotate</span></code></a>(alpha)</td>
<td>Rotate  Tipper array.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Tipper.set_amp_phase" title="mtpy.core.z.Tipper.set_amp_phase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_amp_phase</span></code></a>(r_array,&nbsp;phi_array)</td>
<td>Set values for amplitude(r) and argument (phi - in degrees).</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Tipper.set_mag_direction" title="mtpy.core.z.Tipper.set_mag_direction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_mag_direction</span></code></a>(mag_real,&nbsp;ang_real,&nbsp;…)</td>
<td>computes the tipper from the magnitude and direction of the real and imaginary components.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.z.Tipper.compute_amp_phase">
<code class="descname">compute_amp_phase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Tipper.compute_amp_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Tipper.compute_amp_phase" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Sets attributes:</dt>
<dd><ul class="first last simple">
<li><em>amplitude</em></li>
<li><em>phase</em></li>
<li><em>amplitude_err</em></li>
<li><em>phase_err</em></li>
</ul>
</dd>
</dl>
<p>values for resistivity are in in Ohm m and phase in degrees.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.Tipper.compute_mag_direction">
<code class="descname">compute_mag_direction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Tipper.compute_mag_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Tipper.compute_mag_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the magnitude and direction of the real and imaginary
induction vectors.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.Tipper.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>alpha</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Tipper.rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Tipper.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate  Tipper array.</p>
<p>Rotation angle must be given in degrees. All angles are referenced
to geographic North=0, positive in clockwise direction.
(Mathematically negative!)</p>
<p>In non-rotated state, ‘X’ refs to North and ‘Y’ to East direction.</p>
<dl class="docutils">
<dt>Updates the attributes:</dt>
<dd><ul class="first last simple">
<li><em>tipper</em></li>
<li><em>tipper_err</em></li>
<li><em>rotation_angle</em></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.Tipper.set_amp_phase">
<code class="descname">set_amp_phase</code><span class="sig-paren">(</span><em>r_array</em>, <em>phi_array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Tipper.set_amp_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Tipper.set_amp_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Set values for amplitude(r) and argument (phi - in degrees).</p>
<dl class="docutils">
<dt>Updates the attributes:</dt>
<dd><ul class="first last simple">
<li>tipper</li>
<li>tipper_err</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.Tipper.set_mag_direction">
<code class="descname">set_mag_direction</code><span class="sig-paren">(</span><em>mag_real</em>, <em>ang_real</em>, <em>mag_imag</em>, <em>ang_imag</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Tipper.set_mag_direction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Tipper.set_mag_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the tipper from the magnitude and direction of the real
and imaginary components.</p>
<p>Updates tipper</p>
<p>No error propagation yet</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.z.Z">
<em class="property">class </em><code class="descclassname">mtpy.core.z.</code><code class="descname">Z</code><span class="sig-paren">(</span><em>z_array=None</em>, <em>z_err_array=None</em>, <em>freq=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Z"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Z" title="Permalink to this definition">¶</a></dt>
<dd><p>Z class - generates an impedance tensor (Z) object.</p>
<p>Z is a complex array of the form (n_freq, 2, 2),
with indices in the following order:</p>
<blockquote>
<div><ul class="simple">
<li>Zxx: (0,0)</li>
<li>Zxy: (0,1)</li>
<li>Zyx: (1,0)</li>
<li>Zyy: (1,1)</li>
</ul>
</div></blockquote>
<p>All errors are given as standard deviations (sqrt(VAR))</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>z_array</strong> (<em>numpy.ndarray</em><em>(</em><em>n_freq</em><em>, </em><em>2</em><em>, </em><em>2</em><em>)</em>) – array containing complex impedance values</li>
<li><strong>z_err_array</strong> (<em>numpy.ndarray</em><em>(</em><em>n_freq</em><em>, </em><em>2</em><em>, </em><em>2</em><em>)</em>) – array containing error values (standard deviation)
of impedance tensor elements</li>
<li><strong>freq</strong> (<em>np.ndarray</em><em>(</em><em>n_freq</em><em>)</em>) – array of frequency values corresponding to impedance tensor
elements.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>freq</td>
<td>array of frequencies corresponding to elements of z</td>
</tr>
<tr class="row-odd"><td>rotation_angle</td>
<td>angle of which data is rotated by</td>
</tr>
<tr class="row-even"><td>z</td>
<td>impedance tensor</td>
</tr>
<tr class="row-odd"><td>z_err</td>
<td>estimated errors of impedance tensor</td>
</tr>
<tr class="row-even"><td>resistivity</td>
<td>apparent resisitivity estimated from z in Ohm-m</td>
</tr>
<tr class="row-odd"><td>resistivity_err</td>
<td>apparent resisitivity error</td>
</tr>
<tr class="row-even"><td>phase</td>
<td>impedance phase (deg)</td>
</tr>
<tr class="row-odd"><td>phase_err</td>
<td>error in impedance phase</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>det</td>
<td>calculates determinant of z with errors</td>
</tr>
<tr class="row-odd"><td>invariants</td>
<td>calculates the invariants of z</td>
</tr>
<tr class="row-even"><td>inverse</td>
<td>calculates the inverse of z</td>
</tr>
<tr class="row-odd"><td>remove_distortion</td>
<td>removes distortion given a distortion matrix</td>
</tr>
<tr class="row-even"><td>remove_ss</td>
<td>removes static shift by assumin Z = S * Z_0</td>
</tr>
<tr class="row-odd"><td>norm</td>
<td>calculates the norm of Z</td>
</tr>
<tr class="row-even"><td>only1d</td>
<td>zeros diagonal components and computes
the absolute valued mean of the off-diagonal
components.</td>
</tr>
<tr class="row-odd"><td>only2d</td>
<td>zeros diagonal components</td>
</tr>
<tr class="row-even"><td>res_phase</td>
<td>computes resistivity and phase</td>
</tr>
<tr class="row-odd"><td>rotate</td>
<td>rotates z positive clockwise, angle assumes
North is 0.</td>
</tr>
<tr class="row-even"><td>set_res_phase</td>
<td>recalculates z and z_err, needs attribute freq</td>
</tr>
<tr class="row-odd"><td>skew</td>
<td>calculates the invariant skew (off diagonal trace)</td>
</tr>
<tr class="row-even"><td>trace</td>
<td>calculates the trace of z</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.z</span> <span class="k">as</span> <span class="nn">mtz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="n">j</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z_object</span> <span class="o">=</span> <span class="n">mtz</span><span class="o">.</span><span class="n">Z</span><span class="p">(</span><span class="n">z_array</span><span class="o">=</span><span class="n">z_test</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z_object</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z_object</span><span class="o">.</span><span class="n">resistivity</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.det" title="mtpy.core.z.Z.det"><code class="xref py py-obj docutils literal notranslate"><span class="pre">det</span></code></a></td>
<td>Return the determinant of Z</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.det_err" title="mtpy.core.z.Z.det_err"><code class="xref py py-obj docutils literal notranslate"><span class="pre">det_err</span></code></a></td>
<td>Return the determinant of Z error</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.freq" title="mtpy.core.z.Z.freq"><code class="xref py py-obj docutils literal notranslate"><span class="pre">freq</span></code></a></td>
<td>Frequencies for each impedance tensor element</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.invariants" title="mtpy.core.z.Z.invariants"><code class="xref py py-obj docutils literal notranslate"><span class="pre">invariants</span></code></a></td>
<td>Return a dictionary of Z-invariants.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.inverse" title="mtpy.core.z.Z.inverse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inverse</span></code></a></td>
<td>Return the inverse of Z.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.norm" title="mtpy.core.z.Z.norm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm</span></code></a></td>
<td>Return the 2-/Frobenius-norm of Z</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.norm_err" title="mtpy.core.z.Z.norm_err"><code class="xref py py-obj docutils literal notranslate"><span class="pre">norm_err</span></code></a></td>
<td>Return the 2-/Frobenius-norm of Z  error</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.only_1d" title="mtpy.core.z.Z.only_1d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">only_1d</span></code></a></td>
<td>Return Z in 1D form.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.only_2d" title="mtpy.core.z.Z.only_2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">only_2d</span></code></a></td>
<td>Return Z in 2D form.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_det</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_det_err</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_xx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_xy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_yx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_err_yy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_xx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_xy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_yx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">phase_yy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_det</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_det_err</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_xx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_xy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_yx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_err_yy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_xx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_xy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_yx</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_yy</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">resistivity</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">resistivity_err</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.skew" title="mtpy.core.z.Z.skew"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skew</span></code></a></td>
<td>Returns the skew of Z as defined by Z[0, 1] + Z[1, 0]</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.skew_err" title="mtpy.core.z.Z.skew_err"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skew_err</span></code></a></td>
<td>Returns the skew error of Z as defined by Z_err[0, 1] + Z_err[1, 0]</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.trace" title="mtpy.core.z.Z.trace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">trace</span></code></a></td>
<td>Return the trace of Z</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.trace_err" title="mtpy.core.z.Z.trace_err"><code class="xref py py-obj docutils literal notranslate"><span class="pre">trace_err</span></code></a></td>
<td>Return the trace of Z</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.z" title="mtpy.core.z.Z.z"><code class="xref py py-obj docutils literal notranslate"><span class="pre">z</span></code></a></td>
<td>Impedance tensor</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">z_err</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_resistivity_phase</span></code>([z_array,&nbsp;…])</td>
<td>compute resistivity and phase from z and z_err</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.remove_distortion" title="mtpy.core.z.Z.remove_distortion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_distortion</span></code></a>(distortion_tensor[,&nbsp;…])</td>
<td>Remove distortion D form an observed impedance tensor Z to obtain the uperturbed “correct” Z0: Z = D * Z0</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.z.Z.remove_ss" title="mtpy.core.z.Z.remove_ss"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_ss</span></code></a>([reduce_res_factor_x,&nbsp;…])</td>
<td>Remove the static shift by providing the respective correction factors for the resistivity in the x and y components.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.z.Z.rotate" title="mtpy.core.z.Z.rotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rotate</span></code></a>(alpha)</td>
<td>Rotate Z array by angle alpha.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_res_phase</span></code>(res_array,&nbsp;phase_array,&nbsp;freq)</td>
<td>Set values for resistivity (res - in Ohm m) and phase (phase - in degrees), including error propagation.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mtpy.core.z.Z.det">
<code class="descname">det</code><a class="headerlink" href="#mtpy.core.z.Z.det" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the determinant of Z</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">det_Z</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.det_err">
<code class="descname">det_err</code><a class="headerlink" href="#mtpy.core.z.Z.det_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the determinant of Z error</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">det_Z_err</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.freq">
<code class="descname">freq</code><a class="headerlink" href="#mtpy.core.z.Z.freq" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequencies for each impedance tensor element</p>
<p>Units are Hz.</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.invariants">
<code class="descname">invariants</code><a class="headerlink" href="#mtpy.core.z.Z.invariants" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of Z-invariants.</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.inverse">
<code class="descname">inverse</code><a class="headerlink" href="#mtpy.core.z.Z.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse of Z.</p>
<p>(no error propagtaion included yet)</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.norm">
<code class="descname">norm</code><a class="headerlink" href="#mtpy.core.z.Z.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 2-/Frobenius-norm of Z</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">norm</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.norm_err">
<code class="descname">norm_err</code><a class="headerlink" href="#mtpy.core.z.Z.norm_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 2-/Frobenius-norm of Z  error</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">norm_err</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.only_1d">
<code class="descname">only_1d</code><a class="headerlink" href="#mtpy.core.z.Z.only_1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Z in 1D form.</p>
<p>If Z is not 1D per se, the diagonal elements are set to zero,
the off-diagonal elements keep their signs, but their absolute
is set to the mean of the original Z off-diagonal absolutes.</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.only_2d">
<code class="descname">only_2d</code><a class="headerlink" href="#mtpy.core.z.Z.only_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Z in 2D form.</p>
<p>If Z is not 2D per se, the diagonal elements are set to zero.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.Z.remove_distortion">
<code class="descname">remove_distortion</code><span class="sig-paren">(</span><em>distortion_tensor</em>, <em>distortion_err_tensor=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Z.remove_distortion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Z.remove_distortion" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove distortion D form an observed impedance tensor Z to obtain
the uperturbed “correct” Z0:
Z = D * Z0</p>
<p>Propagation of errors/uncertainties included</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>distortion_tensor</strong> (<em>np.ndarray</em><em>(</em><em>2</em><em>, </em><em>2</em><em>, </em><em>dtype=real</em><em>)</em>) – real distortion tensor as a 2x2</li>
<li><strong>distortion_err_tensor</strong> – default is None</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><p>np.ndarray(2, 2, dtype=’real’)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">returns:</th><td class="field-body">impedance tensor with distorion removed</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><p>np.ndarray(num_freq, 2, 2, dtype=’complex’)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">returns:</th><td class="field-body">impedance tensor error after distortion is removed</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><p>np.ndarray(num_freq, 2, 2, dtype=’complex’)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.z</span> <span class="k">as</span> <span class="nn">mtz</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distortion</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.2</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">],[</span><span class="o">.</span><span class="mi">35</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">,</span> <span class="n">new_z</span><span class="p">,</span> <span class="n">new_z_err</span> <span class="o">=</span> <span class="n">z_obj</span><span class="o">.</span><span class="n">remove_distortion</span><span class="p">(</span><span class="n">distortion</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.Z.remove_ss">
<code class="descname">remove_ss</code><span class="sig-paren">(</span><em>reduce_res_factor_x=1.0</em>, <em>reduce_res_factor_y=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Z.remove_ss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Z.remove_ss" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the static shift by providing the respective correction factors
for the resistivity in the x and y components.
(Factors can be determined by using the “Analysis” module for the
impedance tensor)</p>
<p>Assume the original observed tensor Z is built by a static shift S
and an unperturbated “correct” Z0 :</p>
<blockquote>
<div><ul class="simple">
<li>Z = S * Z0</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>therefore the correct Z will be :</dt>
<dd><ul class="first last simple">
<li>Z0 = S^(-1) * Z</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>reduce_res_factor_x</strong> (<em>float</em><em> or </em><em>iterable list</em><em> or </em><em>array</em>) – static shift factor to be applied to x
components (ie z[:, 0, :]).  This is
assumed to be in resistivity scale</li>
<li><strong>reduce_res_factor_y</strong> (<em>float</em><em> or </em><em>iterable list</em><em> or </em><em>array</em>) – static shift factor to be applied to y
components (ie z[:, 1, :]).  This is
assumed to be in resistivity scale</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">static shift matrix,</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">np.ndarray ((2, 2))</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">corrected Z</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#mtpy.core.z.Z" title="mtpy.core.z.Z">mtpy.core.z.Z</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The factors are in resistivity scale, so the
entries of  the matrix “S” need to be given by their
square-roots!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.z.Z.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>alpha</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#Z.rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.Z.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate Z array by angle alpha.</p>
<p>Rotation angle must be given in degrees. All angles are referenced
to geographic North, positive in clockwise direction.
(Mathematically negative!)</p>
<p>In non-rotated state, X refs to North and Y to East direction.</p>
<dl class="docutils">
<dt>Updates the attributes</dt>
<dd><ul class="first last simple">
<li><em>z</em></li>
<li><em>z_err</em></li>
<li><em>zrot</em></li>
<li><em>resistivity</em></li>
<li><em>phase</em></li>
<li><em>resistivity_err</em></li>
<li><em>phase_err</em></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.skew">
<code class="descname">skew</code><a class="headerlink" href="#mtpy.core.z.Z.skew" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the skew of Z as defined by Z[0, 1] + Z[1, 0]</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not the MT skew, but simply the linear algebra skew</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">skew</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq, 2, 2)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.skew_err">
<code class="descname">skew_err</code><a class="headerlink" href="#mtpy.core.z.Z.skew_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the skew error of Z as defined by Z_err[0, 1] + Z_err[1, 0]</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not the MT skew, but simply the linear algebra skew</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">skew_err</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq, 2, 2)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.trace">
<code class="descname">trace</code><a class="headerlink" href="#mtpy.core.z.Z.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the trace of Z</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Trace(z)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq, 2, 2)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.trace_err">
<code class="descname">trace_err</code><a class="headerlink" href="#mtpy.core.z.Z.trace_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the trace of Z</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Trace(z)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">np.ndarray(nfreq, 2, 2)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.z.Z.z">
<code class="descname">z</code><a class="headerlink" href="#mtpy.core.z.Z.z" title="Permalink to this definition">¶</a></dt>
<dd><p>Impedance tensor</p>
<p>np.ndarray(nfreq, 2, 2)</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="mtpy.core.z.correct4sensor_orientation">
<code class="descclassname">mtpy.core.z.</code><code class="descname">correct4sensor_orientation</code><span class="sig-paren">(</span><em>Z_prime</em>, <em>Bx=0</em>, <em>By=90</em>, <em>Ex=0</em>, <em>Ey=90</em>, <em>Z_prime_error=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/z.html#correct4sensor_orientation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.z.correct4sensor_orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct a Z-array for wrong orientation of the sensors.</p>
<dl class="docutils">
<dt>Assume, E’ is measured by sensors orientated with the angles</dt>
<dd>E’x: a
E’y: b</dd>
<dt>Assume, B’ is measured by sensors orientated with the angles</dt>
<dd>B’x: c
B’y: d</dd>
<dt>With those data, one obtained the impedance tensor Z’:</dt>
<dd>E’ = Z’ * B’</dd>
<dt>Now we define change-of-basis matrices T,U so that</dt>
<dd>E = T * E’
B = U * B’</dd>
</dl>
<p>=&gt;   T contains the expression of the E’-basis in terms of E
(the standard basis)
and  U contains the expression of the B’-basis in terms of B
(the standard basis)
The respective expressions for E’x-basis vector and E’y-basis
vector are the columns of T.
The respective expressions for B’x-basis vector and B’y-basis
vector are the columns of U.</p>
<p>We obtain the impedance tensor in default coordinates as:</p>
<dl class="docutils">
<dt>E’ = Z’ * B’ =&gt; T^(-1) * E = Z’ * U^(-1) * B</dt>
<dd>=&gt; E = T * Z’ * U^(-1) * B
=&gt; Z = T * Z’ * U^(-1)</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Z_prime</strong> – impedance tensor to be adjusted</li>
<li><strong>Bx</strong> (<em>float</em><em> (</em><em>angle in degrees</em><em>)</em>) – orientation of Bx relative to geographic north (0)
<em>default</em> is 0</li>
<li><strong>By</strong> – </li>
<li><strong>Ex</strong> (<em>float</em><em> (</em><em>angle in degrees</em><em>)</em>) – orientation of Ex relative to geographic north (0)
<em>default</em> is 0</li>
<li><strong>Ey</strong> (<em>float</em><em> (</em><em>angle in degrees</em><em>)</em>) – orientation of Ey relative to geographic north (0)
<em>default</em> is 90</li>
<li><strong>Z_prime_error</strong> (<em>np.ndarray</em><em>(</em><em>Z_prime.shape</em><em>)</em>) – impedance tensor error (std)
<em>default</em> is None</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Dtype Z_prime:</th><td class="field-body"><p class="first">np.ndarray(num_freq, 2, 2, dtype=’complex’)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">adjusted impedance tensor</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">np.ndarray(Z_prime.shape, dtype=’complex’)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">impedance tensor standard deviation in
default orientation</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">np.ndarray(Z_prime.shape, dtype=’real’)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-mtpy.core.ts">
<span id="module-ts"></span><h2><strong>Module TS</strong><a class="headerlink" href="#module-mtpy.core.ts" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-TS"></span><dl class="class">
<dt id="mtpy.core.ts.MT_TS">
<em class="property">class </em><code class="descclassname">mtpy.core.ts.</code><code class="descname">MT_TS</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS" title="Permalink to this definition">¶</a></dt>
<dd><p>MT time series object that will read/write data in different formats
including hdf5, txt, miniseed.</p>
<p>The foundations are based on Pandas Python package.</p>
<p>The data are store in the variable ts, which is a pandas dataframe with
the data in the column ‘data’.  This way the data can be indexed as a
numpy array:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MT_TS</span><span class="o">.</span><span class="n">ts</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">256</span><span class="p">]</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MT_TS</span><span class="o">.</span><span class="n">ts</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">256</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<p>Also, the data can be indexed by time (note needs to be exact time):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MT_TS</span><span class="o">.</span><span class="n">ts</span><span class="p">[</span><span class="s1">&#39;2017-05-04 12:32:00.0078125&#39;</span><span class="p">:</span><span class="s1">&#39;2017-05-05 12:35:00]</span>
</pre></div>
</div>
<p>Input ts as a numpy.ndarray or Pandas DataFrame</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Metadata</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>azimuth</td>
<td>clockwise angle from coordinate system N (deg)</td>
</tr>
<tr class="row-odd"><td>calibration_fn</td>
<td>file name for calibration data</td>
</tr>
<tr class="row-even"><td>component</td>
<td>component name [ ‘ex’ | ‘ey’ | ‘hx’ | ‘hy’ | ‘hz’]</td>
</tr>
<tr class="row-odd"><td>coordinate_system</td>
<td>[ geographic | geomagnetic ]</td>
</tr>
<tr class="row-even"><td>datum</td>
<td>datum of geographic location ex. WGS84</td>
</tr>
<tr class="row-odd"><td>declination</td>
<td>geomagnetic declination (deg)</td>
</tr>
<tr class="row-even"><td>dipole_length</td>
<td>length of dipole (m)</td>
</tr>
<tr class="row-odd"><td>data_logger</td>
<td>data logger type</td>
</tr>
<tr class="row-even"><td>instrument_id</td>
<td>ID number of instrument for calibration</td>
</tr>
<tr class="row-odd"><td>lat</td>
<td>latitude of station in decimal degrees</td>
</tr>
<tr class="row-even"><td>lon</td>
<td>longitude of station in decimal degrees</td>
</tr>
<tr class="row-odd"><td>n_samples</td>
<td>number of samples in time series</td>
</tr>
<tr class="row-even"><td>sampling_rate</td>
<td>sampling rate in samples/second</td>
</tr>
<tr class="row-odd"><td>start_time_epoch_sec</td>
<td>start time in epoch seconds</td>
</tr>
<tr class="row-even"><td>start_time_utc</td>
<td>start time in UTC</td>
</tr>
<tr class="row-odd"><td>station</td>
<td>station name</td>
</tr>
<tr class="row-even"><td>units</td>
<td>units of time series</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently only supports hdf5 and text files</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>read_hdf5</td>
<td>read an hdf5 file</td>
</tr>
<tr class="row-odd"><td>write_hdf5</td>
<td>write an hdf5 file</td>
</tr>
<tr class="row-even"><td>write_ascii_file</td>
<td>write an ascii file</td>
</tr>
<tr class="row-odd"><td>read_ascii_file</td>
<td>read an ascii file</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.ts</span> <span class="k">as</span> <span class="nn">ts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">MT_TS</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span><span class="o">.</span><span class="n">ts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span><span class="o">.</span><span class="n">station</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span><span class="o">.</span><span class="n">lon</span> <span class="o">=</span> <span class="mf">30.00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span><span class="o">.</span><span class="n">lat</span> <span class="o">=</span> <span class="o">-</span><span class="mf">122.00</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span><span class="o">.</span><span class="n">component</span> <span class="o">=</span> <span class="s1">&#39;HX&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;counts&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_ts</span><span class="o">.</span><span class="n">write_hdf5</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/test.h5&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.elev" title="mtpy.core.ts.MT_TS.elev"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elev</span></code></a></td>
<td>elevation in elevation units</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.lat" title="mtpy.core.ts.MT_TS.lat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lat</span></code></a></td>
<td>Latitude in decimal degrees</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.lon" title="mtpy.core.ts.MT_TS.lon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lon</span></code></a></td>
<td>Longitude in decimal degrees</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.n_samples" title="mtpy.core.ts.MT_TS.n_samples"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_samples</span></code></a></td>
<td>number of samples</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.sampling_rate" title="mtpy.core.ts.MT_TS.sampling_rate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sampling_rate</span></code></a></td>
<td>sampling rate in samples/second</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.start_time_epoch_sec" title="mtpy.core.ts.MT_TS.start_time_epoch_sec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start_time_epoch_sec</span></code></a></td>
<td>start time in epoch seconds</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.start_time_utc" title="mtpy.core.ts.MT_TS.start_time_utc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start_time_utc</span></code></a></td>
<td>start time in UTC given in time format</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">ts</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.apply_addaptive_notch_filter" title="mtpy.core.ts.MT_TS.apply_addaptive_notch_filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_addaptive_notch_filter</span></code></a>([notches,&nbsp;…])</td>
<td>apply notch filter to the data that finds the peak around each  frequency.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.decimate" title="mtpy.core.ts.MT_TS.decimate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimate</span></code></a>([dec_factor])</td>
<td>decimate the data by using scipy.signal.decimate</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.low_pass_filter" title="mtpy.core.ts.MT_TS.low_pass_filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">low_pass_filter</span></code></a>([low_pass_freq,&nbsp;cutoff_freq])</td>
<td>low pass the data</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.plot_spectra" title="mtpy.core.ts.MT_TS.plot_spectra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_spectra</span></code></a>([spectra_type])</td>
<td>Plot spectra using the spectral type</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.read_ascii" title="mtpy.core.ts.MT_TS.read_ascii"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_ascii</span></code></a>(fn_ascii)</td>
<td>Read an ascii format file with metadata</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.read_ascii_header" title="mtpy.core.ts.MT_TS.read_ascii_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_ascii_header</span></code></a>(fn_ascii)</td>
<td>Read an ascii metadata</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.read_hdf5" title="mtpy.core.ts.MT_TS.read_hdf5"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_hdf5</span></code></a>(fn_hdf5[,&nbsp;compression_level,&nbsp;…])</td>
<td>Read an hdf5 file with metadata using Pandas.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.write_ascii_file" title="mtpy.core.ts.MT_TS.write_ascii_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_ascii_file</span></code></a>(fn_ascii[,&nbsp;chunk_size])</td>
<td>Write an ascii format file with metadata</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.MT_TS.write_hdf5" title="mtpy.core.ts.MT_TS.write_hdf5"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_hdf5</span></code></a>(fn_hdf5[,&nbsp;compression_level,&nbsp;…])</td>
<td>Write an hdf5 file with metadata using pandas to write the file.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.ts.MT_TS.apply_addaptive_notch_filter">
<code class="descname">apply_addaptive_notch_filter</code><span class="sig-paren">(</span><em>notches=None</em>, <em>notch_radius=0.5</em>, <em>freq_rad=0.5</em>, <em>rp=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.apply_addaptive_notch_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.apply_addaptive_notch_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>apply notch filter to the data that finds the peak around each 
frequency.</p>
<p>see mtpy.processing.filter.adaptive_notch_filter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>notch_dict</strong> (<em>dictionary</em>) – dictionary of filter parameters.
if an empty dictionary is input the filter looks
for 60 Hz and harmonics to filter out.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.decimate">
<code class="descname">decimate</code><span class="sig-paren">(</span><em>dec_factor=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.decimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.decimate" title="Permalink to this definition">¶</a></dt>
<dd><p>decimate the data by using scipy.signal.decimate</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dec_factor</strong> (<em>int</em>) – decimation factor</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>refills ts.data with decimated data and replaces sampling_rate</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.ts.MT_TS.elev">
<code class="descname">elev</code><a class="headerlink" href="#mtpy.core.ts.MT_TS.elev" title="Permalink to this definition">¶</a></dt>
<dd><p>elevation in elevation units</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.ts.MT_TS.lat">
<code class="descname">lat</code><a class="headerlink" href="#mtpy.core.ts.MT_TS.lat" title="Permalink to this definition">¶</a></dt>
<dd><p>Latitude in decimal degrees</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.ts.MT_TS.lon">
<code class="descname">lon</code><a class="headerlink" href="#mtpy.core.ts.MT_TS.lon" title="Permalink to this definition">¶</a></dt>
<dd><p>Longitude in decimal degrees</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.low_pass_filter">
<code class="descname">low_pass_filter</code><span class="sig-paren">(</span><em>low_pass_freq=15</em>, <em>cutoff_freq=55</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.low_pass_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.low_pass_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>low pass the data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>low_pass_freq</strong> (<em>float</em>) – low pass corner in Hz</li>
<li><strong>cutoff_freq</strong> (<em>float</em>) – cut off frequency in Hz</li>
</ul>
</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>filters ts.data</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.ts.MT_TS.n_samples">
<code class="descname">n_samples</code><a class="headerlink" href="#mtpy.core.ts.MT_TS.n_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>number of samples</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.plot_spectra">
<code class="descname">plot_spectra</code><span class="sig-paren">(</span><em>spectra_type='welch'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.plot_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.plot_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot spectra using the spectral type</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only spectral type supported is welch</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>spectra_type</strong> – [ ‘welch’ ]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_obj</span> <span class="o">=</span> <span class="n">mtts</span><span class="o">.</span><span class="n">MT_TS</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_obj</span><span class="o">.</span><span class="n">read_hdf5</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/MT/mt01.h5&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts_obj</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.read_ascii">
<code class="descname">read_ascii</code><span class="sig-paren">(</span><em>fn_ascii</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.read_ascii"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.read_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an ascii format file with metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fn_ascii</strong> (<em>string</em>) – full path to ascii file</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_obj</span><span class="o">.</span><span class="n">read_ascii</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/ts/mt01.EX&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.read_ascii_header">
<code class="descname">read_ascii_header</code><span class="sig-paren">(</span><em>fn_ascii</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.read_ascii_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.read_ascii_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an ascii metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fn_ascii</strong> (<em>string</em>) – full path to ascii file</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_obj</span><span class="o">.</span><span class="n">read_ascii_header</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/ts/mt01.EX&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.read_hdf5">
<code class="descname">read_hdf5</code><span class="sig-paren">(</span><em>fn_hdf5</em>, <em>compression_level=0</em>, <em>compression_lib='blosc'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.read_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.read_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an hdf5 file with metadata using Pandas.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fn_hdf5</strong> (<em>string</em>) – full path to hdf5 file, has .h5 extension</li>
<li><strong>compression_level</strong> (<em>int</em>) – compression level of file [ 0-9 ]</li>
<li><strong>compression_lib</strong> (<em>string</em>) – compression library <em>default</em> is blosc</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">fn_hdf5</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Pandas.HDf5Store</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.ts.MT_TS.sampling_rate">
<code class="descname">sampling_rate</code><a class="headerlink" href="#mtpy.core.ts.MT_TS.sampling_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>sampling rate in samples/second</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.ts.MT_TS.start_time_epoch_sec">
<code class="descname">start_time_epoch_sec</code><a class="headerlink" href="#mtpy.core.ts.MT_TS.start_time_epoch_sec" title="Permalink to this definition">¶</a></dt>
<dd><p>start time in epoch seconds</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.ts.MT_TS.start_time_utc">
<code class="descname">start_time_utc</code><a class="headerlink" href="#mtpy.core.ts.MT_TS.start_time_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>start time in UTC given in time format</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.write_ascii_file">
<code class="descname">write_ascii_file</code><span class="sig-paren">(</span><em>fn_ascii</em>, <em>chunk_size=4096</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.write_ascii_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.write_ascii_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an ascii format file with metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fn_ascii</strong> (<em>string</em>) – full path to ascii file</li>
<li><strong>chunk_size</strong> (<em>int</em>) – read in file by chunks for efficiency</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ts_obj</span><span class="o">.</span><span class="n">write_ascii_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/ts/mt01.EX&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.MT_TS.write_hdf5">
<code class="descname">write_hdf5</code><span class="sig-paren">(</span><em>fn_hdf5</em>, <em>compression_level=0</em>, <em>compression_lib='blosc'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS.write_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS.write_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an hdf5 file with metadata using pandas to write the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fn_hdf5</strong> (<em>string</em>) – full path to hdf5 file, has .h5 extension</li>
<li><strong>compression_level</strong> (<em>int</em>) – compression level of file [ 0-9 ]</li>
<li><strong>compression_lib</strong> (<em>string</em>) – compression library <em>default</em> is blosc</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">fn_hdf5</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Pandas.HDf5Store</p>
</div>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtpy.core.ts.MT_TS_Error">
<em class="property">exception </em><code class="descclassname">mtpy.core.ts.</code><code class="descname">MT_TS_Error</code><a class="reference internal" href="_modules/mtpy/core/ts.html#MT_TS_Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.MT_TS_Error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mtpy.core.ts.Spectra">
<em class="property">class </em><code class="descclassname">mtpy.core.ts.</code><code class="descname">Spectra</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#Spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.Spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>compute spectra of time series</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.ts.Spectra.compute_spectra" title="mtpy.core.ts.Spectra.compute_spectra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_spectra</span></code></a>(data,&nbsp;spectra_type,&nbsp;**kwargs)</td>
<td>compute spectra according to input type</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.ts.Spectra.welch_method" title="mtpy.core.ts.Spectra.welch_method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">welch_method</span></code></a>(data[,&nbsp;plot])</td>
<td>Compute the spectra using the Welch method, which is an average  spectra of the data.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.ts.Spectra.compute_spectra">
<code class="descname">compute_spectra</code><span class="sig-paren">(</span><em>data</em>, <em>spectra_type</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#Spectra.compute_spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.Spectra.compute_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>compute spectra according to input type</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.ts.Spectra.welch_method">
<code class="descname">welch_method</code><span class="sig-paren">(</span><em>data</em>, <em>plot=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/ts.html#Spectra.welch_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.ts.Spectra.welch_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the spectra using the Welch method, which is an average 
spectra of the data.  Computes short time window of length nperseg and
averages them to reduce noise.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mtpy.core.mt">
<span id="module-mt"></span><h2><strong>Module MT</strong><a class="headerlink" href="#module-mtpy.core.mt" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-MT"></span><dl class="class">
<dt id="mtpy.core.mt.Citation">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Citation</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Citation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Citation" title="Permalink to this definition">¶</a></dt>
<dd><p>Information for a citation.</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>author</td>
<td>string</td>
<td>Author names</td>
</tr>
<tr class="row-odd"><td>title</td>
<td>string</td>
<td>Title of article, or publication</td>
</tr>
<tr class="row-even"><td>journal</td>
<td>string</td>
<td>Name of journal</td>
</tr>
<tr class="row-odd"><td>doi</td>
<td>string</td>
<td>DOI number (doi:10.110/sf454)</td>
</tr>
<tr class="row-even"><td>year</td>
<td>int</td>
<td>year published</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Citation</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;volume&#39;</span><span class="p">:</span><span class="mi">56</span><span class="p">,</span> <span class="s1">&#39;pages&#39;</span><span class="p">:</span><span class="s1">&#39;234--214&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Copyright">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Copyright</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Copyright"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Copyright" title="Permalink to this definition">¶</a></dt>
<dd><p>Information of copyright, mainly about how someone else can use these
data. Be sure to read over the conditions_of_use.</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>citation</td>
<td>Citation</td>
<td>citation of published work using these data</td>
</tr>
<tr class="row-odd"><td>conditions_of_use</td>
<td>string</td>
<td>conditions of use of these data</td>
</tr>
<tr class="row-even"><td>release_status</td>
<td>string</td>
<td>release status [ open | public | proprietary]</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Copyright</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;owner&#39;</span><span class="p">:</span><span class="s1">&#39;University of MT&#39;</span><span class="p">,</span> <span class="s1">&#39;contact&#39;</span><span class="p">:</span><span class="s1">&#39;Cagniard&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.DataQuality">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">DataQuality</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#DataQuality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.DataQuality" title="Permalink to this definition">¶</a></dt>
<dd><p>Information on data quality.</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>comments</td>
<td>string</td>
<td>comments on data quality</td>
</tr>
<tr class="row-odd"><td>good_from_period</td>
<td>float</td>
<td>minimum period data are good</td>
</tr>
<tr class="row-even"><td>good_to_period</td>
<td>float</td>
<td>maximum period data are good</td>
</tr>
<tr class="row-odd"><td>rating</td>
<td>int</td>
<td>[1-5]; 1 = poor, 5 = excellent</td>
</tr>
<tr class="row-even"><td>warrning_comments</td>
<td>string</td>
<td>any comments on warnings in the data</td>
</tr>
<tr class="row-odd"><td>warnings_flag</td>
<td>int</td>
<td>[0-#of warnings]</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<p>&gt;&gt;&gt;DataQuality(<a href="#id1"><span class="problematic" id="id2">**</span></a>{‘time_series_comments’:’Periodic Noise’})</p>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.FieldNotes">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">FieldNotes</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#FieldNotes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.FieldNotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Field note information.</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>data_quality</td>
<td>DataQuality</td>
<td>notes on data quality</td>
</tr>
<tr class="row-odd"><td>electrode</td>
<td>Instrument</td>
<td>type of electrode used</td>
</tr>
<tr class="row-even"><td>data_logger</td>
<td>Instrument</td>
<td>type of data logger</td>
</tr>
<tr class="row-odd"><td>magnetometer</td>
<td>Instrument</td>
<td>type of magnetotmeter</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">FieldNotes</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;electrode_ex&#39;</span><span class="p">:</span><span class="s1">&#39;Ag-AgCl 213&#39;</span><span class="p">,</span> <span class="s1">&#39;magnetometer_hx&#39;</span><span class="p">:</span><span class="s1">&#39;102&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Instrument">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Instrument</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Instrument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Instrument" title="Permalink to this definition">¶</a></dt>
<dd><p>Information on an instrument that was used.</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>string</td>
<td>serial number or id number of data logger</td>
</tr>
<tr class="row-odd"><td>manufacturer</td>
<td>string</td>
<td>company whom makes the instrument</td>
</tr>
<tr class="row-even"><td>type</td>
<td>string</td>
<td>Broadband, long period, something else</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Instrument</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;ports&#39;</span><span class="p">:</span><span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;gps&#39;</span><span class="p">:</span><span class="s1">&#39;time_stamped&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Location">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Location</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Location" title="Permalink to this definition">¶</a></dt>
<dd><p>location details</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">easting</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">elevation</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">latitude</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">longitude</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">northing</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.Location.project_location2ll" title="mtpy.core.mt.Location.project_location2ll"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_location2ll</span></code></a>()</td>
<td>project location coordinates into meters given the reference ellipsoid, for now that is constrained to WGS84</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.Location.project_location2utm" title="mtpy.core.mt.Location.project_location2utm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">project_location2utm</span></code></a>()</td>
<td>project location coordinates into meters given the reference ellipsoid, for now that is constrained to WGS84</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.mt.Location.project_location2ll">
<code class="descname">project_location2ll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Location.project_location2ll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Location.project_location2ll" title="Permalink to this definition">¶</a></dt>
<dd><p>project location coordinates into meters given the reference ellipsoid,
for now that is constrained to WGS84</p>
<p>Returns East, North, Zone</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.Location.project_location2utm">
<code class="descname">project_location2utm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Location.project_location2utm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Location.project_location2utm" title="Permalink to this definition">¶</a></dt>
<dd><p>project location coordinates into meters given the reference ellipsoid,
for now that is constrained to WGS84</p>
<p>Returns East, North, Zone</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.MT">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">MT</code><span class="sig-paren">(</span><em>fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic MT container to hold all information necessary for a MT station
including the following parameters.</p>
<blockquote>
<div><ul class="simple">
<li>Site –&gt; information on site details (lat, lon, name, etc)</li>
<li>FieldNotes –&gt; information on instruments, setup, etc.</li>
<li>Copyright –&gt; information on how the data can be used and citations</li>
<li>Provenance –&gt; where the data come from and how they are stored</li>
<li>Processing –&gt; how the data were processed.</li>
</ul>
</div></blockquote>
<p>The most used attributes are made available from MT, namely the following.</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>station</td>
<td>station name</td>
</tr>
<tr class="row-odd"><td>lat</td>
<td>station latitude in decimal degrees</td>
</tr>
<tr class="row-even"><td>lon</td>
<td>station longitude in decimal degrees</td>
</tr>
<tr class="row-odd"><td>elev</td>
<td>station elevation in meters</td>
</tr>
<tr class="row-even"><td>Z</td>
<td>mtpy.core.z.Z object for impedance tensor</td>
</tr>
<tr class="row-odd"><td>Tipper</td>
<td>mtpy.core.z.Tipper object for tipper</td>
</tr>
<tr class="row-even"><td>pt</td>
<td>mtpy.analysis.pt.PhaseTensor for phase tensor</td>
</tr>
<tr class="row-odd"><td>east</td>
<td>station location in UTM coordinates assuming WGS-84</td>
</tr>
<tr class="row-even"><td>north</td>
<td>station location in UTM coordinates assuming WGS-84</td>
</tr>
<tr class="row-odd"><td>utm_zone</td>
<td>zone of UTM coordinates assuming WGS-84</td>
</tr>
<tr class="row-even"><td>rotation_angle</td>
<td>rotation angle of the data</td>
</tr>
<tr class="row-odd"><td>fn</td>
<td>absolute path to the data file</td>
</tr>
</tbody>
</table>
<p>Other information is contained with in the different class attributes. For
instance survey name is in MT.Site.survey</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last">
<li><p class="first">The best way to see what all the information is and where it is
contained would be to write out a configuration file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_cfg_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/mt/generic.cfg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Currently EDI, XML, and j file are supported to read in information,
and can write out EDI and XML formats.  Will be extending to j and
Egberts Z format.</p>
</li>
</ul>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>read_mt_file</td>
<td>read in a MT file [ EDI | XML | j ]</td>
</tr>
<tr class="row-odd"><td>write_mt_file</td>
<td>write a MT file [ EDI | XML ]</td>
</tr>
<tr class="row-even"><td>read_cfg_file</td>
<td>read a configuration file</td>
</tr>
<tr class="row-odd"><td>write_cfg_file</td>
<td>write a configuration file</td>
</tr>
<tr class="row-even"><td>remove_distortion</td>
<td>remove distortion  following Bibby et al. [2005]</td>
</tr>
<tr class="row-odd"><td>remove_static_shift</td>
<td>Shifts apparent resistivity curves up or down</td>
</tr>
<tr class="row-even"><td>interpolate</td>
<td>interpolates Z and T onto specified frequency array.</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Read from an .edi File:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/edi_files/s01.edi&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Remove Distortion:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt1</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/edi_files/mt01.edi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">,</span> <span class="n">new_z</span> <span class="o">=</span> <span class="n">mt1</span><span class="o">.</span><span class="n">remove_distortion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt1</span><span class="o">.</span><span class="n">write_mt_file</span><span class="p">(</span><span class="n">new_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/edi_files/mt01_dr.edi&quot;</span><span class="p">,</span>        <span class="o">&gt;&gt;&gt;</span>                    <span class="n">new_Z</span><span class="o">=</span><span class="n">new_z</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Remove Static Shift:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_z_obj</span> <span class="o">=</span> <span class="n">mt_obj</span><span class="o">.</span><span class="n">remove_static_shift</span><span class="p">(</span><span class="n">ss_x</span><span class="o">=.</span><span class="mi">78</span><span class="p">,</span> <span class="n">ss_y</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># write a new edi file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_mt_file</span><span class="p">(</span><span class="n">new_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/edi_files/s01_ss.edi&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">new_Z</span><span class="o">=</span><span class="n">new_z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrote</span> <span class="n">file</span> <span class="n">to</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">edi_files</span><span class="o">/</span><span class="n">s01_ss</span><span class="o">.</span><span class="n">edi</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Interpolate:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_freq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_z_obj</span><span class="p">,</span> <span class="n">new_tipper_obj</span> <span class="o">=</span> <span class="n">mt_obj</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">new_freq</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_mt_file</span><span class="p">(</span><span class="n">new_Z</span><span class="o">=</span><span class="n">new_z_obj</span><span class="p">,</span> <span class="n">new_Tipper</span><span class="o">=</span><span class="n">new_tipper_obj</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrote</span> <span class="n">file</span> <span class="n">to</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">edi_files</span><span class="o">/</span><span class="n">s01_RW</span><span class="o">.</span><span class="n">edi</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.Tipper" title="mtpy.core.mt.MT.Tipper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tipper</span></code></a></td>
<td>mtpy.core.z.Tipper object to hold tipper information</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.Z" title="mtpy.core.mt.MT.Z"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Z</span></code></a></td>
<td>mtpy.core.z.Z object to hole impedance tensor</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.east" title="mtpy.core.mt.MT.east"><code class="xref py py-obj docutils literal notranslate"><span class="pre">east</span></code></a></td>
<td>easting (m)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.elev" title="mtpy.core.mt.MT.elev"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elev</span></code></a></td>
<td>Elevation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.fn" title="mtpy.core.mt.MT.fn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fn</span></code></a></td>
<td>reference to original data file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.lat" title="mtpy.core.mt.MT.lat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lat</span></code></a></td>
<td>Latitude</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.lon" title="mtpy.core.mt.MT.lon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lon</span></code></a></td>
<td>Longitude</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.north" title="mtpy.core.mt.MT.north"><code class="xref py py-obj docutils literal notranslate"><span class="pre">north</span></code></a></td>
<td>northing (m)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.pt" title="mtpy.core.mt.MT.pt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pt</span></code></a></td>
<td>mtpy.analysis.pt.PhaseTensor object to hold phase tensor</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.rotation_angle" title="mtpy.core.mt.MT.rotation_angle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rotation_angle</span></code></a></td>
<td>rotation angle in degrees from north</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.station" title="mtpy.core.mt.MT.station"><code class="xref py py-obj docutils literal notranslate"><span class="pre">station</span></code></a></td>
<td>station name</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.utm_zone" title="mtpy.core.mt.MT.utm_zone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utm_zone</span></code></a></td>
<td>utm zone</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.interpolate" title="mtpy.core.mt.MT.interpolate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate</span></code></a>(new_freq_array[,&nbsp;interp_type,&nbsp;…])</td>
<td>Interpolate the impedance tensor onto different frequencies</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.plot_mt_response" title="mtpy.core.mt.MT.plot_mt_response"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mt_response</span></code></a>(**kwargs)</td>
<td>Returns a mtpy.imaging.plotresponse.PlotResponse object</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.read_cfg_file" title="mtpy.core.mt.MT.read_cfg_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_cfg_file</span></code></a>(cfg_fn)</td>
<td>Read in a configuration file and populate attributes accordingly.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.read_mt_file" title="mtpy.core.mt.MT.read_mt_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_mt_file</span></code></a>(fn[,&nbsp;file_type])</td>
<td>Read an MT response file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.remove_distortion" title="mtpy.core.mt.MT.remove_distortion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_distortion</span></code></a>([num_freq])</td>
<td>remove distortion following Bibby et al.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.remove_static_shift" title="mtpy.core.mt.MT.remove_static_shift"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_static_shift</span></code></a>([ss_x,&nbsp;ss_y])</td>
<td>Remove static shift from the apparent resistivity</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt.MT.write_cfg_file" title="mtpy.core.mt.MT.write_cfg_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_cfg_file</span></code></a>(cfg_fn)</td>
<td>Write a configuration file for the MT sections</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt.MT.write_mt_file" title="mtpy.core.mt.MT.write_mt_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_mt_file</span></code></a>([save_dir,&nbsp;fn_basename,&nbsp;…])</td>
<td>Write an mt file, the supported file types are EDI and XML.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mtpy.core.mt.MT.Tipper">
<code class="descname">Tipper</code><a class="headerlink" href="#mtpy.core.mt.MT.Tipper" title="Permalink to this definition">¶</a></dt>
<dd><p>mtpy.core.z.Tipper object to hold tipper information</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.Z">
<code class="descname">Z</code><a class="headerlink" href="#mtpy.core.mt.MT.Z" title="Permalink to this definition">¶</a></dt>
<dd><p>mtpy.core.z.Z object to hole impedance tensor</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.east">
<code class="descname">east</code><a class="headerlink" href="#mtpy.core.mt.MT.east" title="Permalink to this definition">¶</a></dt>
<dd><p>easting (m)</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.elev">
<code class="descname">elev</code><a class="headerlink" href="#mtpy.core.mt.MT.elev" title="Permalink to this definition">¶</a></dt>
<dd><p>Elevation</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.fn">
<code class="descname">fn</code><a class="headerlink" href="#mtpy.core.mt.MT.fn" title="Permalink to this definition">¶</a></dt>
<dd><p>reference to original data file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.interpolate">
<code class="descname">interpolate</code><span class="sig-paren">(</span><em>new_freq_array</em>, <em>interp_type='slinear'</em>, <em>bounds_error=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the impedance tensor onto different frequencies</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>new_freq_array</strong> (<em>np.ndarray</em>) – a 1-d array of frequencies to interpolate on
to.  Must be with in the bounds of the existing
frequency range, anything outside and an error
will occur.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a new impedance object with the corresponding
frequencies and components.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#mtpy.core.z.Z" title="mtpy.core.z.Z">mtpy.core.z.Z</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a new tipper object with the corresponding
frequencies and components.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#mtpy.core.z.Tipper" title="mtpy.core.z.Tipper">mtpy.core.z.Tipper</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Interpolate:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_fn</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;/home/edi_files/mt_01.edi&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">(</span><span class="n">edi_fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a new frequency range to interpolate onto</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_freq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_z_object</span><span class="p">,</span> <span class="n">new_tipper_obj</span> <span class="o">=</span> <span class="n">mt_obj</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">new_freq</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_mt_file</span><span class="p">(</span><span class="n">new_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/edi_files/mt_01_interp.edi&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                   <span class="n">new_Z_obj</span><span class="o">=</span><span class="n">new_z_object</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                   <span class="n">new_Tipper_obj</span><span class="o">=</span><span class="n">new_tipper_object</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.lat">
<code class="descname">lat</code><a class="headerlink" href="#mtpy.core.mt.MT.lat" title="Permalink to this definition">¶</a></dt>
<dd><p>Latitude</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.lon">
<code class="descname">lon</code><a class="headerlink" href="#mtpy.core.mt.MT.lon" title="Permalink to this definition">¶</a></dt>
<dd><p>Longitude</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.north">
<code class="descname">north</code><a class="headerlink" href="#mtpy.core.mt.MT.north" title="Permalink to this definition">¶</a></dt>
<dd><p>northing (m)</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.plot_mt_response">
<code class="descname">plot_mt_response</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.plot_mt_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.plot_mt_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mtpy.imaging.plotresponse.PlotResponse object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Plot Response:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">(</span><span class="n">edi_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pr</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">plot_mt_response</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># if you need more infor on plot_mt_response</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">pr</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.pt">
<code class="descname">pt</code><a class="headerlink" href="#mtpy.core.mt.MT.pt" title="Permalink to this definition">¶</a></dt>
<dd><p>mtpy.analysis.pt.PhaseTensor object to hold phase tensor</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.read_cfg_file">
<code class="descname">read_cfg_file</code><span class="sig-paren">(</span><em>cfg_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.read_cfg_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.read_cfg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a configuration file and populate attributes accordingly.</p>
<dl class="docutils">
<dt>The configuration file should be in the form:</dt>
<dd><div class="first last line-block">
<div class="line">Site.Location.latitude = 46.5</div>
<div class="line">Site.Location.longitude = 122.7</div>
<div class="line">Site.Location.datum = ‘WGS84’</div>
<div class="line"><br /></div>
<div class="line">Processing.Software.name = BIRRP</div>
<div class="line">Processing.Software.version = 5.2.1</div>
<div class="line"><br /></div>
<div class="line">Provenance.Creator.name = L. Cagniard</div>
<div class="line">Provenance.Submitter.name = I. Larionov</div>
</div>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cfg_fn</strong> (<em>string</em>) – full path to configuration file</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The best way to make a configuration file would be to save
a configuration file first from MT, then filling in the
fields.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Make configuration file:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><div class="first highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_cfg_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/mt/generic_config.cfg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Read in configuration file:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">read_cfg_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/mt/survey_config.cfg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.read_mt_file">
<code class="descname">read_mt_file</code><span class="sig-paren">(</span><em>fn</em>, <em>file_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.read_mt_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.read_mt_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an MT response file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently only .edi, .xml, and .j files are supported</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fn</strong> (<em>string</em>) – full path to input file</li>
<li><strong>file_type</strong> (<em>string</em>) – [‘edi’ | ‘j’ | ‘xml’ | … ]
if None, automatically detects file type by
the extension.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">read_mt_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/mt/mt01.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.remove_distortion">
<code class="descname">remove_distortion</code><span class="sig-paren">(</span><em>num_freq=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.remove_distortion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.remove_distortion" title="Permalink to this definition">¶</a></dt>
<dd><p>remove distortion following Bibby et al. [2005].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>num_freq</strong> (<em>int</em>) – number of frequencies to look for distortion from the
highest frequency</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Distortion matrix</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">np.ndarray(2, 2, dtype=real)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Z with distortion removed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#mtpy.core.z.Z" title="mtpy.core.z.Z">mtpy.core.z.Z</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Remove distortion and write new .edi file:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt1</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">(</span><span class="n">fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/edi_files/mt01.edi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">,</span> <span class="n">new_z</span> <span class="o">=</span> <span class="n">mt1</span><span class="o">.</span><span class="n">remove_distortion</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt1</span><span class="o">.</span><span class="n">write_mt_file</span><span class="p">(</span><span class="n">new_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/edi_files/mt01_dr.edi&quot;</span><span class="p">,</span>            <span class="o">&gt;&gt;&gt;</span>                    <span class="n">new_Z</span><span class="o">=</span><span class="n">new_z</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.remove_static_shift">
<code class="descname">remove_static_shift</code><span class="sig-paren">(</span><em>ss_x=1.0</em>, <em>ss_y=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.remove_static_shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.remove_static_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove static shift from the apparent resistivity</p>
<p>Assume the original observed tensor Z is built by a static shift S
and an unperturbated “correct” Z0 :</p>
<blockquote>
<div><ul class="simple">
<li>Z = S * Z0</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>therefore the correct Z will be :</dt>
<dd><ul class="first last simple">
<li>Z0 = S^(-1) * Z</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ss_x</strong> (<em>float</em>) – correction factor for x component</li>
<li><strong>ss_y</strong> (<em>float</em>) – correction factor for y component</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new Z object with static shift removed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#mtpy.core.z.Z" title="mtpy.core.z.Z">mtpy.core.z.Z</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The factors are in resistivity scale, so the
entries of  the matrix “S” need to be given by their
square-roots!</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Remove Static Shift:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/mt/mt01.edi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_z_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">remove_static_shift</span><span class="p">(</span><span class="n">ss_x</span><span class="o">=.</span><span class="mi">5</span><span class="p">,</span> <span class="n">ss_y</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_mt_file</span><span class="p">(</span><span class="n">new_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/mt01_ss.edi&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                   <span class="n">new_Z_obj</span><span class="o">=</span><span class="n">new_z_obj</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.rotation_angle">
<code class="descname">rotation_angle</code><a class="headerlink" href="#mtpy.core.mt.MT.rotation_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>rotation angle in degrees from north</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.station">
<code class="descname">station</code><a class="headerlink" href="#mtpy.core.mt.MT.station" title="Permalink to this definition">¶</a></dt>
<dd><p>station name</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt.MT.utm_zone">
<code class="descname">utm_zone</code><a class="headerlink" href="#mtpy.core.mt.MT.utm_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>utm zone</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.write_cfg_file">
<code class="descname">write_cfg_file</code><span class="sig-paren">(</span><em>cfg_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.write_cfg_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.write_cfg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a configuration file for the MT sections</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cfg_fn</strong> (<em>string</em>) – full path to configuration file to write to</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return cfg_fn:</th><td class="field-body"><p class="first">full path to configuration file</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rtype cfg_fn:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Write configuration file:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.mt</span> <span class="k">as</span> <span class="nn">mt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span> <span class="o">=</span> <span class="n">mt</span><span class="o">.</span><span class="n">MT</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">read_mt_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/mt/edi_files/mt01.edi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_cfg_file</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/home/mt/survey_config.cfg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt.MT.write_mt_file">
<code class="descname">write_mt_file</code><span class="sig-paren">(</span><em>save_dir=None</em>, <em>fn_basename=None</em>, <em>file_type='edi'</em>, <em>new_Z_obj=None</em>, <em>new_Tipper_obj=None</em>, <em>longitude_format='LON'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#MT.write_mt_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT.write_mt_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an mt file, the supported file types are EDI and XML.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>save_dir</strong> (<em>string</em>) – full path save directory</li>
<li><strong>fn_basename</strong> (<em>string</em>) – name of file with or without extension</li>
<li><strong>file_type</strong> (<em>string</em>) – [ ‘edi’ | ‘xml’ ]</li>
<li><strong>new_Z_obj</strong> (<a class="reference internal" href="#mtpy.core.z.Z" title="mtpy.core.z.Z"><em>mtpy.core.z.Z</em></a>) – new Z object</li>
<li><strong>new_Tipper_obj</strong> (<a class="reference internal" href="#mtpy.core.z.Tipper" title="mtpy.core.z.Tipper"><em>mtpy.core.z.Tipper</em></a>) – new Tipper object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">full path to file</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mt_obj</span><span class="o">.</span><span class="n">write_mt_file</span><span class="p">(</span><span class="n">file_type</span><span class="o">=</span><span class="s1">&#39;xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtpy.core.mt.MT_Error">
<em class="property">exception </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">MT_Error</code><a class="reference internal" href="_modules/mtpy/core/mt.html#MT_Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.MT_Error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Person">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Person</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Person"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Person" title="Permalink to this definition">¶</a></dt>
<dd><p>Information for a person</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>email</td>
<td>string</td>
<td>email of person</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>string</td>
<td>name of person</td>
</tr>
<tr class="row-even"><td>organization</td>
<td>string</td>
<td>name of person’s organization</td>
</tr>
<tr class="row-odd"><td>organization_url</td>
<td>string</td>
<td>organizations web address</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Person</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;phone&#39;</span><span class="p">:</span><span class="s1">&#39;650-888-6666&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Processing">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Processing</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Processing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Processing" title="Permalink to this definition">¶</a></dt>
<dd><p>Information for a processing</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>email</td>
<td>string</td>
<td>email of person</td>
</tr>
<tr class="row-odd"><td>name</td>
<td>string</td>
<td>name of person</td>
</tr>
<tr class="row-even"><td>organization</td>
<td>string</td>
<td>name of person’s organization</td>
</tr>
<tr class="row-odd"><td>organization_url</td>
<td>string</td>
<td>organizations web address</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Person</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;phone&#39;</span><span class="p">:</span><span class="s1">&#39;888-867-5309&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Provenance">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Provenance</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Provenance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Provenance" title="Permalink to this definition">¶</a></dt>
<dd><p>Information of the file history, how it was made</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>creation_time</td>
<td>string</td>
<td>creation time of file YYYY-MM-DD,hh:mm:ss</td>
</tr>
<tr class="row-odd"><td>creating_application</td>
<td>string</td>
<td>name of program creating the file</td>
</tr>
<tr class="row-even"><td>creator</td>
<td>Person</td>
<td>person whom created the file</td>
</tr>
<tr class="row-odd"><td>submitter</td>
<td>Person</td>
<td>person whom is submitting file for
archiving</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Provenance</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;archive&#39;</span><span class="p">:</span><span class="s1">&#39;IRIS&#39;</span><span class="p">,</span> <span class="s1">&#39;reprocessed_by&#39;</span><span class="p">:</span><span class="s1">&#39;grad_student&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Site">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Site</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Site" title="Permalink to this definition">¶</a></dt>
<dd><p>Information on the site, including location, id, etc.</p>
<p>Holds the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Type</th>
<th class="head">Explanation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>aqcuired_by</td>
<td>string</td>
<td>name of company or person whom aqcuired the
data.</td>
</tr>
<tr class="row-odd"><td>id</td>
<td>string</td>
<td>station name</td>
</tr>
<tr class="row-even"><td>Location</td>
<td>object
Location</td>
<td>Holds location information, lat, lon, elev
datum, easting, northing see Location class</td>
</tr>
<tr class="row-odd"><td>start_date</td>
<td>string</td>
<td>YYYY-MM-DD start date of measurement</td>
</tr>
<tr class="row-even"><td>end_date</td>
<td>string</td>
<td>YYYY-MM-DD end date of measurement</td>
</tr>
<tr class="row-odd"><td>year_collected</td>
<td>string</td>
<td>year data collected</td>
</tr>
<tr class="row-even"><td>survey</td>
<td>string</td>
<td>survey name</td>
</tr>
<tr class="row-odd"><td>project</td>
<td>string</td>
<td>project name</td>
</tr>
<tr class="row-even"><td>run_list</td>
<td>string</td>
<td>list of measurment runs ex. [mt01a, mt01b]</td>
</tr>
</tbody>
</table>
<p>More attributes can be added by inputing a key word dictionary</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Site</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;state&#39;</span><span class="p">:</span><span class="s1">&#39;Nevada&#39;</span><span class="p">,</span> <span class="s1">&#39;Operator&#39;</span><span class="p">:</span><span class="s1">&#39;MTExperts&#39;</span><span class="p">})</span>
</pre></div>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">year_collected</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt.Software">
<em class="property">class </em><code class="descclassname">mtpy.core.mt.</code><code class="descname">Software</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt.html#Software"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt.Software" title="Permalink to this definition">¶</a></dt>
<dd><p>software</p>
</dd></dl>

</div>
<div class="section" id="module-mtpy.core.edi">
<span id="module-edi"></span><h2><strong>Module EDI</strong><a class="headerlink" href="#module-mtpy.core.edi" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-EDI"></span><dl class="class">
<dt id="mtpy.core.edi.DataSection">
<em class="property">class </em><code class="descclassname">mtpy.core.edi.</code><code class="descname">DataSection</code><span class="sig-paren">(</span><em>edi_fn=None</em>, <em>edi_lines=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DataSection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DataSection" title="Permalink to this definition">¶</a></dt>
<dd><p>DataSection contains the small metadata block that describes which channel
is which.  A typical block looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;=</span><span class="n">MTSECT</span>

    <span class="n">ex</span><span class="o">=</span><span class="mf">1004.001</span>
    <span class="n">ey</span><span class="o">=</span><span class="mf">1005.001</span>
    <span class="n">hx</span><span class="o">=</span><span class="mf">1001.001</span>
    <span class="n">hy</span><span class="o">=</span><span class="mf">1002.001</span>
    <span class="n">hz</span><span class="o">=</span><span class="mf">1003.001</span>
    <span class="n">nfreq</span><span class="o">=</span><span class="mi">14</span>
    <span class="n">sectid</span><span class="o">=</span><span class="n">par28ew</span>
    <span class="n">nchan</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">maxblks</span><span class="o">=</span><span class="kc">None</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>edi_fn</strong> (<em>string</em>) – full path to .edi file to read in.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="50%" />
<col width="11%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
<th class="head">Default</th>
<th class="head">In .edi</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ex</td>
<td>ex channel id number</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>ey</td>
<td>ey channel id number</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>hx</td>
<td>hx channel id number</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>hy</td>
<td>hy channel id number</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>hz</td>
<td>hz channel id number</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>nfreq</td>
<td>number of frequencies</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>sectid</td>
<td>section id, should be the same
as the station name -&gt; Header.dataid</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>maxblks</td>
<td>maximum number of data blocks</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>nchan</td>
<td>number of channels</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>_kw_list</td>
<td>list of key words to put in metadata</td>
<td><a class="reference internal" href="#r1" id="id3">[R1]</a></td>
<td>no</td>
</tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[R1]</a></td><td>Changes these values to change what is written to edi file</td></tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.DataSection.get_data_sect" title="mtpy.core.edi.DataSection.get_data_sect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data_sect</span></code></a>()</td>
<td>read in the data of the file, will detect if reading spectra or impedance.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.DataSection.read_data_sect" title="mtpy.core.edi.DataSection.read_data_sect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_data_sect</span></code></a>([data_sect_list])</td>
<td>read data section</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.DataSection.write_data_sect" title="mtpy.core.edi.DataSection.write_data_sect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_data_sect</span></code></a>([data_sect_list,&nbsp;over_dict])</td>
<td>write a data section</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.edi.DataSection.get_data_sect">
<code class="descname">get_data_sect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DataSection.get_data_sect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DataSection.get_data_sect" title="Permalink to this definition">¶</a></dt>
<dd><p>read in the data of the file, will detect if reading spectra or
impedance.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.DataSection.read_data_sect">
<code class="descname">read_data_sect</code><span class="sig-paren">(</span><em>data_sect_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DataSection.read_data_sect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DataSection.read_data_sect" title="Permalink to this definition">¶</a></dt>
<dd><p>read data section</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.DataSection.write_data_sect">
<code class="descname">write_data_sect</code><span class="sig-paren">(</span><em>data_sect_list=None</em>, <em>over_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DataSection.write_data_sect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DataSection.write_data_sect" title="Permalink to this definition">¶</a></dt>
<dd><p>write a data section</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.edi.DefineMeasurement">
<em class="property">class </em><code class="descclassname">mtpy.core.edi.</code><code class="descname">DefineMeasurement</code><span class="sig-paren">(</span><em>edi_fn=None</em>, <em>edi_lines=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DefineMeasurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DefineMeasurement" title="Permalink to this definition">¶</a></dt>
<dd><p>DefineMeasurement class holds information about the measurement.  This
includes how each channel was setup.  The main block contains information
on the reference location for the station.  This is a bit of an archaic
part and was meant for a multiple station .edi file.  This section is also
important if you did any forward modeling with Winglink cause it only gives
the station location in this section.  The other parts are how each channel
was collected.  An example define measurement section looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;=</span><span class="n">DEFINEMEAS</span>

    <span class="n">MAXCHAN</span><span class="o">=</span><span class="mi">7</span>
    <span class="n">MAXRUN</span><span class="o">=</span><span class="mi">999</span>
    <span class="n">MAXMEAS</span><span class="o">=</span><span class="mi">9999</span>
    <span class="n">UNITS</span><span class="o">=</span><span class="n">M</span>
    <span class="n">REFTYPE</span><span class="o">=</span><span class="n">CART</span>
    <span class="n">REFLAT</span><span class="o">=-</span><span class="mi">30</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mf">49.4693</span>
    <span class="n">REFLONG</span><span class="o">=</span><span class="mi">139</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mf">50.87</span>
    <span class="n">REFELEV</span><span class="o">=</span><span class="mi">0</span>

<span class="o">&gt;</span><span class="n">HMEAS</span> <span class="n">ID</span><span class="o">=</span><span class="mf">1001.001</span> <span class="n">CHTYPE</span><span class="o">=</span><span class="n">HX</span> <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Z</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">AZM</span><span class="o">=</span><span class="mf">0.0</span>
<span class="o">&gt;</span><span class="n">HMEAS</span> <span class="n">ID</span><span class="o">=</span><span class="mf">1002.001</span> <span class="n">CHTYPE</span><span class="o">=</span><span class="n">HY</span> <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Z</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">AZM</span><span class="o">=</span><span class="mf">90.0</span>
<span class="o">&gt;</span><span class="n">HMEAS</span> <span class="n">ID</span><span class="o">=</span><span class="mf">1003.001</span> <span class="n">CHTYPE</span><span class="o">=</span><span class="n">HZ</span> <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Z</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">AZM</span><span class="o">=</span><span class="mf">0.0</span>
<span class="o">&gt;</span><span class="n">EMEAS</span> <span class="n">ID</span><span class="o">=</span><span class="mf">1004.001</span> <span class="n">CHTYPE</span><span class="o">=</span><span class="n">EX</span> <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Z</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">X2</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y2</span><span class="o">=</span><span class="mf">0.0</span>
<span class="o">&gt;</span><span class="n">EMEAS</span> <span class="n">ID</span><span class="o">=</span><span class="mf">1005.001</span> <span class="n">CHTYPE</span><span class="o">=</span><span class="n">EY</span> <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Z</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">X2</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y2</span><span class="o">=</span><span class="mf">0.0</span>
<span class="o">&gt;</span><span class="n">HMEAS</span> <span class="n">ID</span><span class="o">=</span><span class="mf">1006.001</span> <span class="n">CHTYPE</span><span class="o">=</span><span class="n">HX</span> <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Z</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">AZM</span><span class="o">=</span><span class="mf">0.0</span>
<span class="o">&gt;</span><span class="n">HMEAS</span> <span class="n">ID</span><span class="o">=</span><span class="mf">1007.001</span> <span class="n">CHTYPE</span><span class="o">=</span><span class="n">HY</span> <span class="n">X</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Y</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">Z</span><span class="o">=</span><span class="mf">0.0</span> <span class="n">AZM</span><span class="o">=</span><span class="mf">90.0</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>edi_fn</strong> (<em>string</em>) – full path to .edi file to read in.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="50%" />
<col width="11%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
<th class="head">Default</th>
<th class="head">In .edi</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>edi_fn</td>
<td>Full path to edi file read in</td>
<td>None</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>maxchan</td>
<td>Maximum number of channels measured</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>maxmeas</td>
<td>Maximum number of measurements</td>
<td>9999</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>maxrun</td>
<td>Maximum number of measurement runs</td>
<td>999</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>meas_####</td>
<td>HMeasurement or EMEasurment object
defining the measurement made <a class="reference internal" href="#r2" id="id4">[R2]</a></td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>refelev</td>
<td>Reference elevation (m)</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>reflat</td>
<td>Reference latitude <a class="reference internal" href="#r3" id="id5">[R3]</a></td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>refloc</td>
<td>Reference location</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>reflon</td>
<td>Reference longituted <a class="reference internal" href="#r3" id="id6">[R3]</a></td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>reftype</td>
<td>Reference coordinate system</td>
<td>‘cart’</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>units</td>
<td>Units of length</td>
<td>m</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>_define_meas_keys</td>
<td>Keys to include in define_measurment
section.</td>
<td><a class="reference internal" href="#r4" id="id7">[R4]</a></td>
<td>no</td>
</tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[R2]</a></td><td>Each channel with have its own define measurement and depending on
whether it is an E or H channel the metadata will be different.
the #### correspond to the channel number.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R3]</td><td><em>(<a class="fn-backref" href="#id5">1</a>, <a class="fn-backref" href="#id6">2</a>)</em> Internally everything is converted to decimal degrees.  Output is
written as HH:MM:SS.ss so Winglink can read them in.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[R4]</a></td><td><p class="first">If you want to change what metadata is written into the .edi file
change the items in _header_keys.  Default attributes are:</p>
<blockquote class="last">
<div><ul class="simple">
<li>maxchan</li>
<li>maxrun</li>
<li>maxmeas</li>
<li>reflat</li>
<li>reflon</li>
<li>refelev</li>
<li>reftype</li>
<li>units</li>
</ul>
</div></blockquote>
</td></tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.DefineMeasurement.get_measurement_dict" title="mtpy.core.edi.DefineMeasurement.get_measurement_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_measurement_dict</span></code></a>()</td>
<td>get a dictionary for the xmeas parts</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.DefineMeasurement.get_measurement_lists" title="mtpy.core.edi.DefineMeasurement.get_measurement_lists"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_measurement_lists</span></code></a>()</td>
<td>get measurement list including measurement setup</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.DefineMeasurement.read_define_measurement" title="mtpy.core.edi.DefineMeasurement.read_define_measurement"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_define_measurement</span></code></a>([measurement_list])</td>
<td>read the define measurment section of the edi file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.DefineMeasurement.write_define_measurement" title="mtpy.core.edi.DefineMeasurement.write_define_measurement"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_define_measurement</span></code></a>([measurement_list,&nbsp;…])</td>
<td>write the define measurement block as a list of strings</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.edi.DefineMeasurement.get_measurement_dict">
<code class="descname">get_measurement_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DefineMeasurement.get_measurement_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DefineMeasurement.get_measurement_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>get a dictionary for the xmeas parts</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.DefineMeasurement.get_measurement_lists">
<code class="descname">get_measurement_lists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DefineMeasurement.get_measurement_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DefineMeasurement.get_measurement_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>get measurement list including measurement setup</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.DefineMeasurement.read_define_measurement">
<code class="descname">read_define_measurement</code><span class="sig-paren">(</span><em>measurement_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DefineMeasurement.read_define_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DefineMeasurement.read_define_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>read the define measurment section of the edi file</p>
<dl class="docutils">
<dt>should be a list with lines for:</dt>
<dd><ul class="first last">
<li><p class="first">maxchan</p>
</li>
<li><p class="first">maxmeas</p>
</li>
<li><p class="first">maxrun</p>
</li>
<li><p class="first">refelev</p>
</li>
<li><p class="first">reflat</p>
</li>
<li><p class="first">reflon</p>
</li>
<li><p class="first">reftype</p>
</li>
<li><p class="first">units</p>
</li>
<li><dl class="first docutils">
<dt>dictionaries for &gt;XMEAS with keys:</dt>
<dd><ul class="first simple">
<li>id</li>
<li>chtype</li>
<li>x</li>
<li>y</li>
<li>axm</li>
</ul>
<p class="last">-acqchn</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.DefineMeasurement.write_define_measurement">
<code class="descname">write_define_measurement</code><span class="sig-paren">(</span><em>measurement_list=None</em>, <em>longitude_format='LON'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#DefineMeasurement.write_define_measurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.DefineMeasurement.write_define_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>write the define measurement block as a list of strings</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.edi.EMeasurement">
<em class="property">class </em><code class="descclassname">mtpy.core.edi.</code><code class="descname">EMeasurement</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#EMeasurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.EMeasurement" title="Permalink to this definition">¶</a></dt>
<dd><p>EMeasurement contains metadata for an electric field measurement</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>Channel number</td>
</tr>
<tr class="row-odd"><td>chtype</td>
<td>[ EX | EY ]</td>
</tr>
<tr class="row-even"><td>x</td>
<td>x (m) north from reference point (station) of one
electrode of the dipole</td>
</tr>
<tr class="row-odd"><td>y</td>
<td>y (m) east from reference point (station) of one
electrode of the dipole</td>
</tr>
<tr class="row-even"><td>x2</td>
<td>x (m) north from reference point (station) of the
other electrode of the dipole</td>
</tr>
<tr class="row-odd"><td>y2</td>
<td>y (m) north from reference point (station) of the
other electrode of the dipole</td>
</tr>
<tr class="row-even"><td>acqchan</td>
<td>name of the channel acquired usually same as chtype</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Fill Metadata:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.edi</span> <span class="k">as</span> <span class="nn">mtedi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;chtype&#39;</span><span class="p">:</span><span class="s1">&#39;ex&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span><span class="mi">50</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e_dict</span><span class="p">[</span><span class="s1">&#39;acqchn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ex&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">emeas</span> <span class="o">=</span> <span class="n">mtedi</span><span class="o">.</span><span class="n">EMeasurement</span><span class="p">(</span><span class="o">**</span><span class="n">e_dict</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.edi.Edi">
<em class="property">class </em><code class="descclassname">mtpy.core.edi.</code><code class="descname">Edi</code><span class="sig-paren">(</span><em>edi_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Edi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Edi" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is for .edi files, mainly reading and writing.  Has been tested
on Winglink and Phoenix output .edi’s, which are meant to follow the
archaic EDI format put forward by SEG. Can read impedance, Tipper and/or
spectra data.</p>
<p>The Edi class contains a class for each major section of the .edi file.</p>
<p>Frequency and components are ordered from highest to lowest frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>edi_fn</strong> (<em>string</em>) – full path to .edi file to be read in.
<em>default</em> is None. If an .edi file is input, it is
automatically read in and attributes of Edi are filled</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>read_edi_file</td>
<td>Reads in an edi file and populates the associated
classes and attributes.</td>
</tr>
<tr class="row-odd"><td>write_edi_file</td>
<td>Writes an .edi file following the EDI format given
the apporpriate attributes are filled.  Writes out
in impedance and Tipper format.</td>
</tr>
<tr class="row-even"><td>_read_data</td>
<td>Reads in the impedance and Tipper blocks, if the
.edi file is in ‘spectra’ format, read_data converts
the data to impedance and Tipper.</td>
</tr>
<tr class="row-odd"><td>_read_mt</td>
<td>Reads impedance and tipper data from the appropriate
blocks of the .edi file.</td>
</tr>
<tr class="row-even"><td>_read_spectra</td>
<td>Reads in spectra data and converts it to impedance
and Tipper data.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="53%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
<th class="head">default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data_sect</td>
<td>DataSection class, contains basic
information on the data collected and in
whether the data is in impedance or
spectra.</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Define_measurement</td>
<td>DefineMeasurement class, contains
information on how the data was
collected.</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>edi_fn</td>
<td>full path to edi file read in</td>
<td>None</td>
</tr>
<tr class="row-odd"><td>Header</td>
<td>Header class, contains metadata on
where, when, and who collected the data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Info</td>
<td>Information class, contains information
on how the data was processed and how the
transfer functions where estimated.</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Tipper</td>
<td>mtpy.core.z.Tipper class, contains the
tipper data</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Z</td>
<td>mtpy.core.z.Z class, contains the
impedance data</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>_block_len</td>
<td>number of data in one line.</td>
<td>6</td>
</tr>
<tr class="row-even"><td>_data_header_str</td>
<td>header string for each of the data
section</td>
<td>‘&gt;!****{0}****!’</td>
</tr>
<tr class="row-odd"><td>_num_format</td>
<td>string format of data.</td>
<td>‘ 15.6e’</td>
</tr>
<tr class="row-even"><td>_t_labels</td>
<td>labels for tipper blocks</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>_z_labels</td>
<td>labels for impedance blocks</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Change Latitude:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.edi</span> <span class="k">as</span> <span class="nn">mtedi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_obj</span> <span class="o">=</span> <span class="n">mtedi</span><span class="o">.</span><span class="n">Edi</span><span class="p">(</span><span class="n">edi_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/mt01.edi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the latitude</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_obj</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">lat</span> <span class="o">=</span> <span class="mf">45.7869</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_edi_fn</span> <span class="o">=</span> <span class="n">edi_obj</span><span class="o">.</span><span class="n">write_edi_file</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.Edi.elev" title="mtpy.core.edi.Edi.elev"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elev</span></code></a></td>
<td>Elevation in elevation units</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.Edi.lat" title="mtpy.core.edi.Edi.lat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lat</span></code></a></td>
<td>latitude in decimal degrees</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.Edi.lon" title="mtpy.core.edi.Edi.lon"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lon</span></code></a></td>
<td>longitude in decimal degrees</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.Edi.station" title="mtpy.core.edi.Edi.station"><code class="xref py py-obj docutils literal notranslate"><span class="pre">station</span></code></a></td>
<td>station name</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.Edi.read_edi_file" title="mtpy.core.edi.Edi.read_edi_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_edi_file</span></code></a>([edi_fn])</td>
<td>Read in an edi file and fill attributes of each section’s classes.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.Edi.write_edi_file" title="mtpy.core.edi.Edi.write_edi_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_edi_file</span></code></a>([new_edi_fn,&nbsp;longitude_format])</td>
<td>Write a new edi file from either an existing .edi file or from data input by the user into the attributes of Edi.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mtpy.core.edi.Edi.elev">
<code class="descname">elev</code><a class="headerlink" href="#mtpy.core.edi.Edi.elev" title="Permalink to this definition">¶</a></dt>
<dd><p>Elevation in elevation units</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.edi.Edi.lat">
<code class="descname">lat</code><a class="headerlink" href="#mtpy.core.edi.Edi.lat" title="Permalink to this definition">¶</a></dt>
<dd><p>latitude in decimal degrees</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.edi.Edi.lon">
<code class="descname">lon</code><a class="headerlink" href="#mtpy.core.edi.Edi.lon" title="Permalink to this definition">¶</a></dt>
<dd><p>longitude in decimal degrees</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.Edi.read_edi_file">
<code class="descname">read_edi_file</code><span class="sig-paren">(</span><em>edi_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Edi.read_edi_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Edi.read_edi_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in an edi file and fill attributes of each section’s classes.
Including:</p>
<blockquote>
<div><ul class="simple">
<li>Header</li>
<li>Info</li>
<li>Define_measurement</li>
<li>Data_sect</li>
<li>Z</li>
<li>Tipper</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Automatically detects if data is in spectra format.  All
data read in is converted to impedance and Tipper.</p>
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>edi_fn</strong> (<em>string</em>) – full path to .edi file to be read in
<em>default</em> is None</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Read edi:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.Edi</span> <span class="k">as</span> <span class="nn">mtedi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_obj</span> <span class="o">=</span> <span class="n">mtedi</span><span class="o">.</span><span class="n">Edi</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_obj</span><span class="o">.</span><span class="n">read_edi_file</span><span class="p">(</span><span class="n">edi_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/mt01.edi&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.edi.Edi.station">
<code class="descname">station</code><a class="headerlink" href="#mtpy.core.edi.Edi.station" title="Permalink to this definition">¶</a></dt>
<dd><p>station name</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.Edi.write_edi_file">
<code class="descname">write_edi_file</code><span class="sig-paren">(</span><em>new_edi_fn=None</em>, <em>longitude_format='LON'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Edi.write_edi_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Edi.write_edi_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a new edi file from either an existing .edi file or from data
input by the user into the attributes of Edi.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>new_edi_fn</strong> (<em>string</em>) – full path to new edi file.
<em>default</em> is None, which will write to the same
file as the input .edi with as:
r”/home/mt/mt01_1.edi”</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">full path to new edi file</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">string</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Write EDI file:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.edi</span> <span class="k">as</span> <span class="nn">mtedi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_obj</span> <span class="o">=</span> <span class="n">mtedi</span><span class="o">.</span><span class="n">Edi</span><span class="p">(</span><span class="n">edi_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/mt01/edi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edi_obj</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">dataid</span> <span class="o">=</span> <span class="s1">&#39;mt01_rr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_edi_fn</span> <span class="o">=</span> <span class="n">edi_obj</span><span class="o">.</span><span class="n">write_edi_file</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.edi.HMeasurement">
<em class="property">class </em><code class="descclassname">mtpy.core.edi.</code><code class="descname">HMeasurement</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#HMeasurement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.HMeasurement" title="Permalink to this definition">¶</a></dt>
<dd><p>HMeasurement contains metadata for a magnetic field measurement</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>Channel number</td>
</tr>
<tr class="row-odd"><td>chtype</td>
<td>[ HX | HY | HZ | RHX | RHY ]</td>
</tr>
<tr class="row-even"><td>x</td>
<td>x (m) north from reference point (station)</td>
</tr>
<tr class="row-odd"><td>y</td>
<td>y (m) east from reference point (station)</td>
</tr>
<tr class="row-even"><td>azm</td>
<td>angle of sensor relative to north = 0</td>
</tr>
<tr class="row-odd"><td>acqchan</td>
<td>name of the channel acquired usually same as chtype</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Fill Metadata:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.edi</span> <span class="k">as</span> <span class="nn">mtedi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;chtype&#39;</span><span class="p">:</span><span class="s1">&#39;hx&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;azm&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h_dict</span><span class="p">[</span><span class="s1">&#39;acqchn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hx&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hmeas</span> <span class="o">=</span> <span class="n">mtedi</span><span class="o">.</span><span class="n">HMeasurement</span><span class="p">(</span><span class="o">**</span><span class="n">h_dict</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="mtpy.core.edi.Header">
<em class="property">class </em><code class="descclassname">mtpy.core.edi.</code><code class="descname">Header</code><span class="sig-paren">(</span><em>edi_fn=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Header" title="Permalink to this definition">¶</a></dt>
<dd><p>Header class contains all the information in the header section of the .edi
file. A typical header block looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">HEAD</span>

    <span class="n">ACQBY</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">ACQDATE</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">DATAID</span><span class="o">=</span><span class="n">par28ew</span>
    <span class="n">ELEV</span><span class="o">=</span><span class="mf">0.000</span>
    <span class="n">EMPTY</span><span class="o">=</span><span class="mf">1e+32</span>
    <span class="n">FILEBY</span><span class="o">=</span><span class="n">WG3DForward</span>
    <span class="n">FILEDATE</span><span class="o">=</span><span class="mi">2016</span><span class="o">/</span><span class="mi">04</span><span class="o">/</span><span class="mi">11</span> <span class="mi">19</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">37</span> <span class="n">UTC</span>
    <span class="n">LAT</span><span class="o">=-</span><span class="mi">30</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">49</span>
    <span class="n">LOC</span><span class="o">=</span><span class="kc">None</span>
    <span class="n">LON</span><span class="o">=</span><span class="mi">139</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">50</span>
    <span class="n">PROGDATE</span><span class="o">=</span><span class="mi">2002</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span>
    <span class="n">PROGVERS</span><span class="o">=</span><span class="n">WINGLINK</span> <span class="n">EDI</span> <span class="mf">1.0</span><span class="o">.</span><span class="mi">22</span>
    <span class="n">COORDINATE</span> <span class="n">SYSTEM</span> <span class="o">=</span> <span class="n">GEOGRAPHIC</span> <span class="n">NORTH</span>
    <span class="n">DECLINATION</span> <span class="o">=</span> <span class="mf">10.0</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>edi_fn</strong> (<em>string</em>) – full path to .edi file to be read in.
<em>default</em> is None. If an .edi file is input attributes
of Header are filled.</td>
</tr>
</tbody>
</table>
<p>Many of the attributes are needed in the .edi file.  They are marked with
a yes for ‘In .edi’</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="54%" />
<col width="11%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
<th class="head">Default</th>
<th class="head">In .edi</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>acqby</td>
<td>Acquired by</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>acqdate</td>
<td>Acquired date (YYYY-MM-DD)</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>coordinate</td>
<td>[ geographic | geomagnetic ]</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>dataid</td>
<td>Station name, should be a string</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>declination</td>
<td>geomagnetic declination</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>edi_fn</td>
<td>Full path to .edi file</td>
<td>None</td>
<td>no</td>
</tr>
<tr class="row-even"><td>elev</td>
<td>Elevation of station (m)</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>empty</td>
<td>Value for missing data</td>
<td>1e32</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>fileby</td>
<td>File written by</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>filedate</td>
<td>Date the file is written (YYYY-MM-DD)</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>header_list</td>
<td>List of header lines</td>
<td>None</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>lat</td>
<td>Latitude of station <a class="reference internal" href="#r5" id="id8">[R5]</a></td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>loc</td>
<td>Location name where station was
collected</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>lon</td>
<td>Longitude of station <a class="reference internal" href="#r5" id="id9">[R5]</a></td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>phoenix_edi</td>
<td>[ True | False ] if phoenix .edi format</td>
<td>False</td>
<td>no</td>
</tr>
<tr class="row-odd"><td>progdate</td>
<td>Date of program version to write .edi</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>progvers</td>
<td>Version of program writing .edi</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>stdvers</td>
<td>Standard version</td>
<td>None</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>units</td>
<td>Units of distance</td>
<td>m</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>_header_keys</td>
<td>list of metadata input into .edi
header block.</td>
<td><a class="reference internal" href="#r6" id="id10">[R6]</a></td>
<td>no</td>
</tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R5]</td><td><em>(<a class="fn-backref" href="#id8">1</a>, <a class="fn-backref" href="#id9">2</a>)</em> Internally everything is converted to decimal degrees.  Output is
written as HH:MM:SS.ss so Winglink can read them in.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[R6]</a></td><td><p class="first">If you want to change what metadata is written into the .edi file
change the items in _header_keys.  Default attributes are:</p>
<blockquote class="last">
<div><ul class="simple">
<li>acqby</li>
<li>acqdate</li>
<li>coordinate_system</li>
<li>dataid</li>
<li>declination</li>
<li>elev</li>
<li>fileby</li>
<li>lat</li>
<li>loc</li>
<li>lon</li>
<li>filedate</li>
<li>empty</li>
<li>progdate</li>
<li>progvers</li>
</ul>
</div></blockquote>
</td></tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>get_header_list</td>
<td>get header lines from edi file</td>
</tr>
<tr class="row-odd"><td>read_header</td>
<td>read in header information from header_lines</td>
</tr>
<tr class="row-even"><td>write_header</td>
<td>write header lines, returns a list of lines to write</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Read Header:</th><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.edi</span> <span class="k">as</span> <span class="nn">mtedi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header_obj</span> <span class="o">=</span> <span class="n">mtedi</span><span class="o">.</span><span class="n">Header</span><span class="p">(</span><span class="n">edi_fn</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;/home/mt/mt01.edi&quot;</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.Header.get_header_list" title="mtpy.core.edi.Header.get_header_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_header_list</span></code></a>()</td>
<td>Get the header information from the .edi file in the form of a list, where each item is a line in the header section.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.Header.read_header" title="mtpy.core.edi.Header.read_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_header</span></code></a>([header_list])</td>
<td>read a header information from either edi file or a list of lines containing header information.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.Header.write_header" title="mtpy.core.edi.Header.write_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_header</span></code></a>([header_list,&nbsp;longitude_format])</td>
<td>Write header information to a list of lines.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.edi.Header.get_header_list">
<code class="descname">get_header_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Header.get_header_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Header.get_header_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header information from the .edi file in the form of a list,
where each item is a line in the header section.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.Header.read_header">
<code class="descname">read_header</code><span class="sig-paren">(</span><em>header_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Header.read_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Header.read_header" title="Permalink to this definition">¶</a></dt>
<dd><p>read a header information from either edi file or a list of lines
containing header information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>header_list</strong> (<em>list</em>) – should be read from an .edi file or input as
[‘key_01=value_01’, ‘key_02=value_02’]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Input header_list:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><div class="first last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">h_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lat=36.7898&#39;</span><span class="p">,</span> <span class="s1">&#39;lon=120.73532&#39;</span><span class="p">,</span> <span class="s1">&#39;elev=120.0&#39;</span><span class="p">,</span> <span class="o">...</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="s1">&#39;dataid=mt01&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mtpy.core.edi</span> <span class="k">as</span> <span class="nn">mtedi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span> <span class="o">=</span> <span class="n">mtedi</span><span class="o">.</span><span class="n">Header</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">header</span><span class="o">.</span><span class="n">read_header</span><span class="p">(</span><span class="n">h_list</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.Header.write_header">
<code class="descname">write_header</code><span class="sig-paren">(</span><em>header_list=None</em>, <em>longitude_format='LON'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Header.write_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Header.write_header" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Write header information to a list of lines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param header_list:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">should be read from an .edi file or input as
[‘key_01=value_01’, ‘key_02=value_02’]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type header_list:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">list</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">returns header_lines:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">list of lines containing header information
will be of the form:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;&gt;HEAD</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="docutils">
<dt>‘,</dt>
<dd>‘    key_01=value_01</dd>
<dt>‘]</dt>
<dd>if None is input then reads from input .edi
file or uses attribute information to write
metadata.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.edi.Information">
<em class="property">class </em><code class="descclassname">mtpy.core.edi.</code><code class="descname">Information</code><span class="sig-paren">(</span><em>edi_fn=None</em>, <em>edi_lines=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Information"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Information" title="Permalink to this definition">¶</a></dt>
<dd><p>Contain, read, and write info section of .edi file</p>
<p>not much to really do here, but just keep it in the same format that it is
read in as, except if it is in phoenix format then split the two paragraphs
up so they are sequential.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.Information.get_info_list" title="mtpy.core.edi.Information.get_info_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_info_list</span></code></a>()</td>
<td>get a list of lines from the info section</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.edi.Information.read_info" title="mtpy.core.edi.Information.read_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_info</span></code></a>([info_list])</td>
<td>read information section of the .edi file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.edi.Information.write_info" title="mtpy.core.edi.Information.write_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_info</span></code></a>([info_list])</td>
<td>write out information</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.edi.Information.get_info_list">
<code class="descname">get_info_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Information.get_info_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Information.get_info_list" title="Permalink to this definition">¶</a></dt>
<dd><p>get a list of lines from the info section</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.Information.read_info">
<code class="descname">read_info</code><span class="sig-paren">(</span><em>info_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Information.read_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Information.read_info" title="Permalink to this definition">¶</a></dt>
<dd><p>read information section of the .edi file</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.edi.Information.write_info">
<code class="descname">write_info</code><span class="sig-paren">(</span><em>info_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/edi.html#Information.write_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.edi.Information.write_info" title="Permalink to this definition">¶</a></dt>
<dd><p>write out information</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mtpy.core.mt_xml">
<span id="module-xml"></span><h2><strong>Module XML</strong><a class="headerlink" href="#module-mtpy.core.mt_xml" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-mt_xml"></span><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This module is written to align with the tools written by
Anna Kelbert &lt;<a class="reference external" href="mailto:akelbert&#37;&#52;&#48;usgs&#46;gov">akelbert<span>&#64;</span>usgs<span>&#46;</span>gov</a>&gt;</p>
</div>
<dl class="class">
<dt id="mtpy.core.mt_xml.MT_XML">
<em class="property">class </em><code class="descclassname">mtpy.core.mt_xml.</code><code class="descname">MT_XML</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#MT_XML"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.MT_XML" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to read and write MT information from XML format.  This tries to 
follow the format put forward by Anna Kelbert for archiving MT response 
data.</p>
<p>A configuration file can be read in that might make it easier to write
multiple files for the same survey.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">mtpy.core.mt_xml.XML_Config</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Z</td>
<td>object of type mtpy.core.z.Z</td>
</tr>
<tr class="row-odd"><td>Tipper</td>
<td>object of type mtpy.core.z.Tipper</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All other attributes are of the same name and of type XML_element,
where attributes are name, value and attr.  Attr contains any 
tag information.  This is left this way so that mtpy.core.mt.MT
can read in the information.  <strong>Use mtpy.core.mt.MT for 
conversion between data formats.</strong></p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Methods</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>read_cfg_file</td>
<td>Read a configuration file in the format of XML_Config</td>
</tr>
<tr class="row-odd"><td>read_xml_file</td>
<td>Read an xml file</td>
</tr>
<tr class="row-even"><td>write_xml_file</td>
<td>Write an xml file</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">::
&gt;&gt;&gt; import mtpy.core.mt_xml as mtxml
&gt;&gt;&gt; x = mtxml.read_xml_file(r”/home/mt_data/mt01.xml”)
&gt;&gt;&gt; x.read_cfg_file(r”/home/mt_data/survey_xml.cfg”)
&gt;&gt;&gt; x.write_xml_file(r”/home/mt_data/xml/mt01.xml”)</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt_xml.MT_XML.Tipper" title="mtpy.core.mt_xml.MT_XML.Tipper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Tipper</span></code></a></td>
<td>get Tipper information</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt_xml.MT_XML.Z" title="mtpy.core.mt_xml.MT_XML.Z"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Z</span></code></a></td>
<td>get z information</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_cfg_file</span></code>([cfg_fn])</td>
<td>Read in a cfg file making all key = value pairs attribures of  XML_Config.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt_xml.MT_XML.read_xml_file" title="mtpy.core.mt_xml.MT_XML.read_xml_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_xml_file</span></code></a>(xml_fn)</td>
<td>read in an xml file and set attributes appropriately.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_cfg_file</span></code>([cfg_fn])</td>
<td>Write out configuration file in the style of: parent.attribute = value</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt_xml.MT_XML.write_xml_file" title="mtpy.core.mt_xml.MT_XML.write_xml_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_xml_file</span></code></a>(xml_fn[,&nbsp;cfg_fn])</td>
<td>write xml from edi</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mtpy.core.mt_xml.MT_XML.Tipper">
<code class="descname">Tipper</code><a class="headerlink" href="#mtpy.core.mt_xml.MT_XML.Tipper" title="Permalink to this definition">¶</a></dt>
<dd><p>get Tipper information</p>
</dd></dl>

<dl class="attribute">
<dt id="mtpy.core.mt_xml.MT_XML.Z">
<code class="descname">Z</code><a class="headerlink" href="#mtpy.core.mt_xml.MT_XML.Z" title="Permalink to this definition">¶</a></dt>
<dd><p>get z information</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt_xml.MT_XML.read_xml_file">
<code class="descname">read_xml_file</code><span class="sig-paren">(</span><em>xml_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#MT_XML.read_xml_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.MT_XML.read_xml_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read in an xml file and set attributes appropriately.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt_xml.MT_XML.write_xml_file">
<code class="descname">write_xml_file</code><span class="sig-paren">(</span><em>xml_fn</em>, <em>cfg_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#MT_XML.write_xml_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.MT_XML.write_xml_file" title="Permalink to this definition">¶</a></dt>
<dd><p>write xml from edi</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="mtpy.core.mt_xml.MT_XML_Error">
<em class="property">exception </em><code class="descclassname">mtpy.core.mt_xml.</code><code class="descname">MT_XML_Error</code><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#MT_XML_Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.MT_XML_Error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mtpy.core.mt_xml.XML_Config">
<em class="property">class </em><code class="descclassname">mtpy.core.mt_xml.</code><code class="descname">XML_Config</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#XML_Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.XML_Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to deal with configuration files for xml.</p>
<p>Includes all the important information for the station and how data was 
processed.</p>
<p>Key Information includes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Purpose</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ProductID</td>
<td>Station name</td>
</tr>
<tr class="row-odd"><td>ExternalUrl</td>
<td>External URL to link to data</td>
</tr>
<tr class="row-even"><td>Notes</td>
<td>Any important information on station,
data collection.</td>
</tr>
<tr class="row-odd"><td>TimeSeriesArchived</td>
<td>Information on Archiving time series including
URL.</td>
</tr>
<tr class="row-even"><td>Image</td>
<td>A location to an image of the station or
the MT response.</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><dl class="first docutils">
<dt>ProductID –&gt; station name</dt>
<dd><ul class="first last">
<li>ExternalUrl –&gt; external url to link to data</li>
<li>Notes –&gt; any</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.mt_xml.XML_Config.read_cfg_file" title="mtpy.core.mt_xml.XML_Config.read_cfg_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_cfg_file</span></code></a>([cfg_fn])</td>
<td>Read in a cfg file making all key = value pairs attribures of  XML_Config.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.mt_xml.XML_Config.write_cfg_file" title="mtpy.core.mt_xml.XML_Config.write_cfg_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_cfg_file</span></code></a>([cfg_fn])</td>
<td>Write out configuration file in the style of: parent.attribute = value</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.mt_xml.XML_Config.read_cfg_file">
<code class="descname">read_cfg_file</code><span class="sig-paren">(</span><em>cfg_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#XML_Config.read_cfg_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.XML_Config.read_cfg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a cfg file making all key = value pairs attribures of 
XML_Config.  Being sure all new attributes are XML_element objects.</p>
<dl class="docutils">
<dt>The assumed structure of the xml.cfg file is similar to:</dt>
<dd><p class="first"><a href="#id11"><span class="problematic" id="id12">``</span></a># XML Configuration File MTpy</p>
<p>Attachement.Description = Original file use to produce XML
Attachment.Filename = None</p>
<p>Copyright.Citation.Authors = None
Copyright.Citation.DOI = None
Copyright.Citation.Journal = None
Copyright.Citation.Title = None
Copyright.Citation.Volume = None
Copyright.Citation.Year = None</p>
<p class="last">PeriodRange(max=0)(min=0) = None``</p>
</dd>
</dl>
<p>where the heirarchy of information is separated by a . and if the
information has attribures they are in the name with (key=value) 
syntax.</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.mt_xml.XML_Config.write_cfg_file">
<code class="descname">write_cfg_file</code><span class="sig-paren">(</span><em>cfg_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#XML_Config.write_cfg_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.XML_Config.write_cfg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out configuration file in the style of:
parent.attribute = value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mtpy.core.mt_xml.XML_element">
<em class="property">class </em><code class="descclassname">mtpy.core.mt_xml.</code><code class="descname">XML_element</code><span class="sig-paren">(</span><em>name</em>, <em>attr</em>, <em>value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/mt_xml.html#XML_element"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.mt_xml.XML_element" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Basically an ET element.  The key components are</dt>
<dd><ul class="first last simple">
<li>‘name’  –&gt; name of the element</li>
<li>‘attr’  –&gt; attribute information of the element</li>
<li>‘value’ –&gt; value of the element</li>
</ul>
</dd>
</dl>
<p>Used the property function here to be sure that these 3 cannot be set 
through the common k.value = 10, just in case there are similar names in 
the xml file.  This seemed to be the safest to avoid those cases.</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">attr</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-mtpy.core.jfile">
<span id="module-jfile"></span><h2><strong>Module JFile</strong><a class="headerlink" href="#module-mtpy.core.jfile" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-JFile"></span><dl class="class">
<dt id="mtpy.core.jfile.JFile">
<em class="property">class </em><code class="descclassname">mtpy.core.jfile.</code><code class="descname">JFile</code><span class="sig-paren">(</span><em>j_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/jfile.html#JFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.jfile.JFile" title="Permalink to this definition">¶</a></dt>
<dd><p>be able to read and write a j-file</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.jfile.JFile.read_header" title="mtpy.core.jfile.JFile.read_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_header</span></code></a>([j_lines])</td>
<td>Parsing the header lines of a j-file to extract processing information.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mtpy.core.jfile.JFile.read_j_file" title="mtpy.core.jfile.JFile.read_j_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_j_file</span></code></a>([j_fn])</td>
<td>read_j_file will read in a <a href="#id13"><span class="problematic" id="id14">*</span></a>.j file output by BIRRP (better than reading lots of <a href="#id15"><span class="problematic" id="id16">*</span></a>.&lt;k&gt;r&lt;l&gt;.rf files)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mtpy.core.jfile.JFile.read_metadata" title="mtpy.core.jfile.JFile.read_metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_metadata</span></code></a>([j_lines,&nbsp;j_fn])</td>
<td>read in the metadata of the station, or information of station  logistics like: lat, lon, elevation</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mtpy.core.jfile.JFile.read_header">
<code class="descname">read_header</code><span class="sig-paren">(</span><em>j_lines=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/jfile.html#JFile.read_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.jfile.JFile.read_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing the header lines of a j-file to extract processing information.</p>
<p>Input:
- j-file as list of lines (output of readlines())</p>
<p>Output:
- Dictionary with all parameters found</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.jfile.JFile.read_j_file">
<code class="descname">read_j_file</code><span class="sig-paren">(</span><em>j_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/jfile.html#JFile.read_j_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.jfile.JFile.read_j_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read_j_file will read in a <a href="#id17"><span class="problematic" id="id18">*</span></a>.j file output by BIRRP (better than reading lots of <a href="#id19"><span class="problematic" id="id20">*</span></a>.&lt;k&gt;r&lt;l&gt;.rf files)</p>
<p>Input:
j-filename</p>
<p>Output: 4-tuple
- periods : N-array
- Z_array : 2-tuple - values and errors
- tipper_array : 2-tuple - values and errors
- processing_dict : parsed processing parameters from j-file header</p>
</dd></dl>

<dl class="method">
<dt id="mtpy.core.jfile.JFile.read_metadata">
<code class="descname">read_metadata</code><span class="sig-paren">(</span><em>j_lines=None</em>, <em>j_fn=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mtpy/core/jfile.html#JFile.read_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mtpy.core.jfile.JFile.read_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>read in the metadata of the station, or information of station 
logistics like: lat, lon, elevation</p>
<p>Not really needed for a birrp output since all values are nan’s</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="master_doc.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Core:</a><ul>
<li><a class="reference internal" href="#module-mtpy.core.z"><strong>Module z</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-mtpy.core.ts"><strong>Module TS</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-mtpy.core.mt"><strong>Module MT</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-mtpy.core.edi"><strong>Module EDI</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-mtpy.core.mt_xml"><strong>Module XML</strong></a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-mtpy.core.jfile"><strong>Module JFile</strong></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="master_doc.html"
                        title="previous chapter">Welcome to MTpy’s documentation!</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/core.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="master_doc.html" title="Welcome to MTpy’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="master_doc.html">mtpy 1.01.01 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Geoscience Australia.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.
    </div>
  </body>
</html>